"use strict";function initGoogleServices(){"function"==typeof loadMap?loadMap():null}var ByronHamburgers=ByronHamburgers||{Templates:{},Signals:{},Pages:{},Modules:{Elements:{}},Utilities:{}};window.app,ByronHamburgers.Init=function(){"undefined"==typeof console&&(console={log:function(){}}),window.location.protocol.indexOf("https")===-1&&window.location.host.indexOf("uatv2.byronhamburgers.com")!==-1&&(window.location.href=window.location.href.split("http").join("https")),this.queryParams=this.getQueryParams(this.getScriptPath()),ByronHamburgers.helper=new ByronHamburgers.Helper;var t=ByronHamburgers.helper.paths.base+"data/config/";this.loadXML(t)},ByronHamburgers.Init.constructor=ByronHamburgers.Init,ByronHamburgers.Init.prototype.loadXML=function(t){$.ajax({url:t,type:"GET",crossDomain:!0,dataType:"xml",success:function(t){this.loadXMLComplete(t)}.bind(this)})},ByronHamburgers.Init.prototype.getQueryParams=function(t){var e={};if(t.indexOf("?")!==-1){t=t.substr(t.indexOf("?"));for(var n=t.substr(1).split("&"),o=0;o<n.length;o++){var i=n[o].split("=");e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]||"")}}return e},ByronHamburgers.Init.prototype.getScriptPath=function(){var t=document.getElementsByTagName("script"),e=t[t.length-1];return e.src},ByronHamburgers.Init.prototype.loadXMLComplete=function(t){ByronHamburgers.helper.siteLoadComplete($(t)),ByronHamburgers.helper.sso.init(),ByronHamburgers.helper.nav=new ByronHamburgers.Modules.Navigation($(t).find("navigation").find("group")),ByronHamburgers.helper.account.init(),"full"===ByronHamburgers.helper.deploySite?this.application=new ByronHamburgers.Site:$("html").addClass("loaded")},$(function(){window.app=new ByronHamburgers.Init}),ByronHamburgers.Site=function(){void 0!==FastClick&&FastClick.attach(document.body),ByronHamburgers.helper.DEBUG_MODE&&(this.debug=new ByronHamburgers.Utilities.DebugManager),this.modules=new ByronHamburgers.Utilities.ModuleManager,$("#overlay-loader").addClass("overlay--faded"),setTimeout(function(){$("#overlay-loader").remove()},600),$("html").addClass("loaded"),setTimeout(function(){$(window).scrollTop(0)},150)},ByronHamburgers.Site.constructor=ByronHamburgers.Site,ByronHamburgers.Helper=function(){var t;if(this.DEBUG_MODE=document.location.href.indexOf("localhost:9000")!==-1||document.location.href.indexOf("192.168")!==-1,this.deploySite=void 0!==ByronHamburgers.Utilities.FormManager?"full":"include",this.deployType="",this.cookies=new ByronHamburgers.Utilities.CookieManager("byham_",365),ByronHamburgers.Signals.map=new signals.Signal,this.configParams={},this.pageConfig=$("#page-config"),this.breadcrumbs=[],this.pageConfig.length&&void 0!==this.pageConfig.attr("data-breadcrumb"))for(this.breadcrumbs=this.pageConfig.attr("data-breadcrumb").split(","),t=0;t<this.breadcrumbs.length;t++)this.breadcrumbs[t].indexOf("http")===-1&&("/"!==this.breadcrumbs[t].substr(0,1)&&(this.breadcrumbs[t]="/"+this.breadcrumbs[t]),"/"!==this.breadcrumbs[t].substr(-1,1)&&(this.breadcrumbs[t]+="/"));this.pathList={local:{url:"localhost:9000",api:"localhost:8080/Clubhouse/Byron%20Hamburgers/Site/Development/app/api/"},"local-remote":{url:"192.168.1.220:9000",api:"192.168.1.220:8080/Clubhouse/Byron%20Hamburgers/Site/Development/app/api/"},live:{url:window.location.host+"/",api:window.location.host+"/api/"},"remote-uat":{url:"uatv2.byronhamburgers.com/",api:"uatv2.byronhamburgers.com/api/"},remote:{url:"www.byronhamburgers.com/",api:"www.byronhamburgers.com/api/"}};var e=document.location.href;if(this.paths={base:"",api:""},this.setPaths("live"),"full"!==this.deploySite&&(window.location.host.indexOf("uat")===-1?this.setPaths("remote"):this.setPaths("remote-uat")),"full"===this.deploySite)for(t in this.pathList)if(e.indexOf(this.pathList[t].url)!==-1){this.setPaths(t);break}console.log(this.paths),this.clickEventName="click",this.breakPoints={xl:2e4,l:1680,m:1024,s:767},this.gridSizes={xl:26,l:24,m:24,s:24},this.resizer=new ByronHamburgers.Utilities.ResizeManager(this.breakPoints),this.scroller=new ByronHamburgers.Utilities.ScrollManager(this.resizer),"full"===this.deploySite&&(this.forms=new ByronHamburgers.Utilities.FormManager,this.overlay=new ByronHamburgers.Utilities.OverlayManager,this.messages=new ByronHamburgers.Utilities.MessageManager,this.geo=new ByronHamburgers.Utilities.GeoLocationManager,this.html=new ByronHamburgers.Utilities.HTMLManager,this.sharer=new ByronHamburgers.Utilities.ShareManager)},ByronHamburgers.Helper.constructor=ByronHamburgers.Helper,ByronHamburgers.Helper.prototype.setPaths=function(t){this.paths.api=document.location.protocol+"//",this.paths.api+=""===this.pathList[t].api?this.pathList[t].url:this.pathList[t].api,this.paths.api+=this.paths.api.lastIndexOf("/")!==this.paths.api.length-1?"/":"",this.paths.base=document.location.protocol+"//"+this.pathList[t].url,this.paths.base+=this.paths.base.lastIndexOf("/")!==this.paths.base.length-1?"/":"",this.deployType=t},ByronHamburgers.Helper.prototype.siteLoadComplete=function(t){this.configProcess(t),this.sso=new ByronHamburgers.Utilities.SSOManager,this.account=new ByronHamburgers.Utilities.AccountManager,"full"===this.deploySite&&(this.cookieBar=new ByronHamburgers.Utilities.CookieBarManager)},ByronHamburgers.Helper.prototype.assignCustomLinkAction=function(t,e){var n=e.split(",");t.on("click",function(t,e,n){n.preventDefault(),this.customLinkAction(t,e)}.bind(this,n,t)),t.attr("href","")},ByronHamburgers.Helper.prototype.scrollToElement=function(t,e,n){n=void 0===n?1e3:n,e=void 0===e?{xl:0,l:0,m:0,s:0}:e,$("html, body").animate({scrollTop:$(t).offset().top+e[this.resizer.layout]},1e3)},ByronHamburgers.Helper.prototype.customLinkAction=function(t,e){if("login"===t[0]||"signup"===t[0])ByronHamburgers.helper.account.login(t[0],void 0!==t[1]?t[1]:"");else if("logout"===t[0])ByronHamburgers.helper.account.logout();else if("menu-account"===t[0])this.nav.accountMenuToggle();else if("menu-standard"===t[0])this.nav.standardMenuToggle();else if("scroll-to-top"===t[0])$("html, body").animate({scrollTop:0},1200);else if("restaurant-signup"===t[0])this.account.restaurantSubscription(t[1],!0),this.forms.toggleLoadSpinner(e.find(".button__content"),!0);else if("scroll-to"===t[0])this.scrollToElement(t[1],{xl:ByronHamburgers.helper.getGridRowHeight(-3),l:ByronHamburgers.helper.getGridRowHeight(1),m:ByronHamburgers.helper.getGridRowHeight(1),s:ByronHamburgers.helper.getGridRowHeight(1)});else if("share"===t[0]&&void 0!==t[1]){var n=void 0===t[2]?"":t[2];ByronHamburgers.Signals.share.dispatch(t[1],{url:"",image:n})}},ByronHamburgers.Helper.prototype.googleMapsReady=function(){ByronHamburgers.Signals.map.dispatch("ready",{})},ByronHamburgers.Helper.prototype.getGridRowHeight=function(t){return t=void 0===t?1:t,this.gridSizes[this.getLayoutMode()]*t},ByronHamburgers.Helper.prototype.parseLink=function(t){return 0===t.indexOf("link:")||t.indexOf(":")===-1&&t.indexOf("#")===-1&&(this.deployType.indexOf("local")===-1&&this.deployType.indexOf("static")===-1||"/"===t||"full"!==this.deploySite?(t.lastIndexOf("/")!==t.length-1&&(t+="/"),"include"===this.deploySite&&(t="/"===t&&""!==this.sso.getSetting("config")?window.location.protocol+"//"+this.sso.getSetting("domains")[0]+t:ByronHamburgers.helper.sso.getSetting("website_url")+t)):(t.lastIndexOf("/")===t.length-1&&(t=t.substr(0,t.length-1)),t="/"+t.substr(1).split("/").join("-")+".html")),t},ByronHamburgers.Helper.prototype.configProcess=function(t){var e,n,o;for(this.html&&this.html.setData(t),e=t.find("config").find("item"),o=0;o<e.length;o++)n=$(e[o]),this.configParams[n.attr("id").toLowerCase()]=n.text()},ByronHamburgers.Helper.prototype.dictionaryFetch=function(t,e){e=void 0!==e&&e;var n=this.dictionary[t.trim().toLowerCase()];return void 0!==n?e?n.toUpperCase():n:""},ByronHamburgers.Helper.prototype.getConfigItem=function(t){return void 0!==this.configParams[t]?this.configParams[t]:""},ByronHamburgers.Helper.prototype.getLink=function(t){return void 0!==this.links[t]?this.links[t]:""},ByronHamburgers.Helper.prototype.padString=function(t,e,n,o){if(t+="",e=e||"0",o=void 0!==o&&o,n=n||2,"0"!==t||!o)for(;t.length<n;)t=e+t;return t},ByronHamburgers.Helper.prototype.getUnitsString=function(t,e){return 1===parseInt(t)?t.toString()+" "+this.dictionaryFetch("units-"+e+"-singular"):t.toString()+" "+this.dictionaryFetch("units-"+e+"-multiple")},ByronHamburgers.Helper.prototype.getLayoutMode=function(){return this.resizer.layout},ByronHamburgers.Helper.prototype.isSafari=function(){return/^((?!chrome).)*safari/i.test(navigator.userAgent)},ByronHamburgers.Helper.prototype.addCSSRule=function(t,e,n){"insertRule"in document.styleSheets[0]?document.styleSheets[0].insertRule(t+"{"+e+"}",n):"addRule"in document.styleSheets[0]&&document.styleSheets[0].addRule(t,e,n)},ByronHamburgers.Helper.prototype.addTintedBackgroundImage=function(t,e,n,o){o=void 0===o||o===-1?.2:o,n=void 0===n||n===-1?"rgba(0, 0, 0, "+o.toString()+")":n,t.css("background-image","linear-gradient("+n+", "+n+"), url("+e+")")},ByronHamburgers.Helper.prototype.distanceCalculate=function(t,e,n){var o=Math.PI*t.lat/180,i=Math.PI*e.lat/180,a=t.lng-e.lng,s=Math.PI*a/180,r=Math.sin(o)*Math.sin(i)+Math.cos(o)*Math.cos(i)*Math.cos(s);return r=Math.acos(r),r=180*r/Math.PI,r=60*r*1.1515,"K"===n&&(r*=1.609344),"m"===n&&(r*=1609.344),"N"===n&&(r*=.8684),r},ByronHamburgers.Helper.prototype.getOrdinal=function(t){var e=["th","st","nd","rd"],n=t%100;return t+(e[(n-20)%10]||e[n]||e[0])},ByronHamburgers.Helper.prototype.getQueryString=function(t){return unescape(window.location.search.replace(new RegExp("^(?:.*[&\\?]"+escape(t).replace(/[\.\+\*]/g,"\\$&")+"(?:\\=([^&]*))?)?.*$","i"),"$1"))},ByronHamburgers.Helper.prototype.getHashString=function(t){return unescape(window.location.hash.replace(new RegExp("^(?:.*[&\\?]"+escape(t).replace(/[\.\+\*]/g,"\\$&")+"(?:\\=([^&]*))?)?.*$","i"),"$1"))},ByronHamburgers.Modules.Navigation=function(t){this.groups={},this.defaultSections={standard:["left","middle","right"],dropdown:["left"],side:["left","right"]},this.backToTopActive=!1,this.backToTopThreshold=60,this.subnavProcessed=!1,$("body").append($('<div class="overlay"  id="overlay-menu"></div>')),this.parseLoadedData(t),ByronHamburgers.Signals.scroll.add(this.scrollListener=function(t,e){this.scrollEvent(t,e)}.bind(this)),this.menuMain=$("#nav-main"),$(window).on("mousedown",function(){this.menuClickCheck(!1)}.bind(this)),$("#overlay-menu").on("touchstart",function(){this.menuClickCheck(!0)}.bind(this)),ByronHamburgers.Signals.resize.add(this.resizeListener=function(){this.setHeights("resize")}.bind(this)),$(window).on("scroll",function(){this.setHeights("scroll")}.bind(this)),ByronHamburgers.Signals.account.add(this.accountListener=function(t,e){this.accountEvent(t,e)}.bind(this))},ByronHamburgers.Modules.Navigation.constructor=ByronHamburgers.Modules.Navigation,ByronHamburgers.Modules.Navigation.prototype.parseLoadedData=function(t){for(var e=0;e<t.length;e++)"full"!==ByronHamburgers.helper.deploySite&&"footer"===$(t[e]).attr("id")||(this.groups[$(t[e]).attr("id")]=this.createGroup($(t[e])));this.desktopMenuAccount=$("#nav-account"),this.desktopMenuArrow=$("#nav-main-middle .nav__section--right .icon-arrow_down"),this.mobileMenuAccount=$("#nav-sidebar-account"),this.mobileMenuNormal=$("#nav-sidebar-main"),this.positionTargets={account_middle:$("#nav-sidebar-account-middle"),account_bottom:$("#nav-sidebar-account-bottom"),account_top:$("#nav-sidebar-account-top"),main_middle:$("#nav-sidebar-main-middle"),main_bottom:$("#nav-sidebar-main-bottom"),main_top:$("#nav-sidebar-main-top"),account_height:-1,main_height:-1,page_height:-1},this.setHeights("init")},ByronHamburgers.Modules.Navigation.prototype.setHeights=function(t){if("scroll"!==t||"mobile"===ByronHamburgers.helper.resizer.platform||"tablet"===ByronHamburgers.helper.resizer.platform){var e=this.positionTargets.account_middle.height()+this.positionTargets.account_bottom.height(),n=this.positionTargets.main_top.height()+this.positionTargets.main_bottom.height(),o=window.innerHeight?window.innerHeight:$(window).height();e===this.positionTargets.account_height&&o===this.positionTargets.page_height||(this.positionTargets.account_top.css({height:o-e}),this.positionTargets.account_height=e),e===this.positionTargets.main_height&&o===this.positionTargets.page_height||(this.positionTargets.main_middle.css({height:o-n}),this.positionTargets.main_height=n),this.positionTargets.page_height=o}},ByronHamburgers.Modules.Navigation.prototype.createGroup=function(t){for(var e,n,o=$('<div class="nav nav--'+t.attr("type")+" "+t.attr("class")+'" id="nav-'+t.attr("id")+'"></div>'),i=$('<div class="nav-wrapper"></div>'),a={html:o,rows:[]},s=t.find("row"),r=0;r<s.length;r++)n=this.preProcessRow(t,$(s[r])),n.result&&(e=this.createRow(n.data,t),i.append(e.html),a.rows.push(e));return"footer"===t.attr("id")&&o.append(this.createBackToTopButton()),o.append(i),"true"===t.attr("prepend")?$("body").prepend(o):$("body").append(o),a},ByronHamburgers.Modules.Navigation.prototype.preProcessRow=function(t,e){var n={data:e,result:!1};if("bottom"!==e.attr("id")||"main"!==t.attr("id"))n.result=!0;else if(ByronHamburgers.helper.pageConfig.length&&"1"===ByronHamburgers.helper.pageConfig.attr("data-submenu-active")){if(!this.subnavProcessed){if(void 0!==ByronHamburgers.helper.pageConfig.attr("data-submenu-items"))for(var o,i,a=ByronHamburgers.helper.pageConfig.attr("data-submenu-items").split(","),s=0;s<a.length;s++)a[s]=a[s].split("\n").join("").split("\r").join("").trim(),""!==a[s]&&(o=a[s].split("|"),i=$('<item type="text" section="middle" link="'+o[0]+'" class=""></item>'),i.text(o[1]),e.append(i));n.data=e,this.subnavProcessed=!0}n.result=!0}return n},ByronHamburgers.Modules.Navigation.prototype.createBackToTopButton=function(){return this.backToTop=$('<div class="nav__back-to-top"><span class="icon icon-arrow_up"></span></div>'),this.wrapper=$('<a href=""></a>'),this.wrapper.append(this.backToTop),ByronHamburgers.helper.assignCustomLinkAction(this.wrapper,"scroll-to-top"),this.setBackToTopButtonStatus(),this.wrapper},ByronHamburgers.Modules.Navigation.prototype.createRow=function(t,e){var n,o,i,a=$('<div class="nav__row '+t.attr("class")+'" id="nav-'+e.attr("id")+"-"+t.attr("id")+'"></div>'),s=this.defaultSections[e.attr("type")],r={html:a,sections:this.createSections(s,a)},l=t.find("item"),d=t.attr("split").split("|"),u=t.attr("highlights").split("|");d[1]=d[1]?d[1].split(","):[];for(var p=0;p<l.length;p++)n=$(l[p]),(""!==ByronHamburgers.helper.sso.getSetting("config")||"action:login"!==n.attr("link")&&"action:signup"!==n.attr("link"))&&("button"!==n.attr("type")&&""!==d[0]&&d[1].indexOf(n.attr("section"))!==-1&&r.sections[n.attr("section")].items.length>0&&(i=this.createSplit(d[0],n.attr("class")),r.sections[n.attr("section")].html.append(i.html),r.sections[n.attr("section")].splits.push(i)),o=this.createItem(n,u.indexOf(n.attr("section"))!==-1,"bottom"!==t.attr("id")),r.sections[n.attr("section")].html.append(o.html),r.sections[n.attr("section")].items.push(o));return"bottom"===t.attr("id")&&"main"===e.attr("id")&&$("body").addClass("subnav-active"),r},ByronHamburgers.Modules.Navigation.prototype.createSplit=function(t,e){return{html:$('<li class="nav__item nav__item--split '+e+'"><span class="icon icon-'+t+'"></span></li>')}},ByronHamburgers.Modules.Navigation.prototype.createItem=function(t,e,n){var o=t.text(),i=new Date;o=o.split("||year||").join(i.getUTCFullYear()),"icon"===t.attr("type")?o='<span class="icon icon-'+t.attr("iconID")+'"></span>':"button"===t.attr("type")&&(o='<div class="button button--nav-fallback button--reverse button--red-over"><span>'+o+"</span></div>");var a,s=!1;void 0!==t.attr("link")&&""!==t.attr("link")&&(a=ByronHamburgers.helper.parseLink(t.attr("link")),o=a.indexOf("http")===-1||a.indexOf("facebook")===-1&&a.indexOf("instagram")===-1&&a.indexOf("twitter")===-1&&a.indexOf("pinterest")===-1?$('<a href="'+a+'">'+o+"</a>"):$('<a href="'+a+'" target="_blank">'+o+"</a>"),t.attr("link").indexOf("action:")!==-1?ByronHamburgers.helper.assignCustomLinkAction(o,t.attr("link").substr(7)):document.location.href.substr(-a.length)===a?s=!0:ByronHamburgers.helper.breadcrumbs.indexOf(t.attr("link"))!==-1&&n&&(s=!0));var r="nav__item nav__item--"+t.attr("type");r+=void 0!==t.attr("class")&&""!==t.attr("class")?" "+t.attr("class"):"",s&&(r+=" nav__item--selected");var l=$('<li class="'+r+'"></li>');l.append(o),e&&"button"!==t.attr("type")&&l.append('<div class="nav__item__highlight"></div>');var d={html:l};return d},ByronHamburgers.Modules.Navigation.prototype.createSections=function(t,e){for(var n,o={},i=0;i<t.length;i++)n=$('<ul class="nav__section nav__section--'+t[i]+'"></ul>'),o[t[i]]={html:n,items:[],splits:[]},e.append(n);return o},ByronHamburgers.Modules.Navigation.prototype.accountMenuToggle=function(){$("body").hasClass("logged-in")&&void 0!==this.desktopMenuAccount&&this.menuOpen("account",!this.desktopMenuAccount.hasClass("open"))},ByronHamburgers.Modules.Navigation.prototype.standardMenuToggle=function(){void 0!==this.mobileMenuNormal&&this.menuOpen("normal",!this.mobileMenuNormal.hasClass("open"))},ByronHamburgers.Modules.Navigation.prototype.menuOpen=function(t,e){e?("normal"===t?(this.menuOpen("account",!1),this.mobileMenuNormal.addClass("open")):(this.menuOpen("normal",!1),this.desktopMenuAccount.addClass("open"),this.desktopMenuArrow.addClass("open"),this.mobileMenuAccount.addClass("open")),$("body,html").addClass("no-scroll-mobile")):("normal"===t?this.mobileMenuNormal.removeClass("open"):(this.desktopMenuAccount.removeClass("open"),this.desktopMenuArrow.removeClass("open"),this.mobileMenuAccount.removeClass("open")),$("body,html").removeClass("no-scroll-mobile"))},ByronHamburgers.Modules.Navigation.prototype.scrollEvent=function(t,e){"update"===t&&(this.backToTopActive=e.distanceToGo+104<this.backToTopThreshold,void 0!==this.backToTop&&this.setBackToTopButtonStatus())},ByronHamburgers.Modules.Navigation.prototype.setBackToTopButtonStatus=function(){this.backToTopActive?this.backToTop.addClass("nav__back-to-top--active"):this.backToTop.removeClass("nav__back-to-top--active")},ByronHamburgers.Modules.Navigation.prototype.menuClickCheck=function(t){(this.menuMain.is(":hover")||this.desktopMenuAccount.is(":hover")||this.mobileMenuAccount.is(":hover")||this.mobileMenuNormal.is(":hover"))&&!t||(this.desktopMenuAccount.hasClass("open")&&this.accountMenuToggle(),this.mobileMenuNormal.hasClass("open")&&this.standardMenuToggle())},ByronHamburgers.Modules.Navigation.prototype.accountEvent=function(t,e){if("ready"===t)for(var n,o,i=$(".nav__item--text"),a=0;a<i.length;a++)n=$(i[a]),n.find("a").length&&(n=n.find("a").first()),o=n.text(),o=o.split("||username||").join(e.info.firstName),o=o.split("||alert-count||").join(""),o=o.split("||alert-count-details||").join(""),o=o.split("||alert-count-rewards||").join(""),o=o.split("||alert-count-orders||").join(""),o=o.split("||alert-count-address-book||").join(""),o=o.split("||alert-count-wallet||").join(""),n.text(o)},ByronHamburgers.Modules.ModuleTemplate=function(t,e){this.moduleType="default",void 0!==t&&void 0!==e&&this.init(t,e)},ByronHamburgers.Modules.ModuleTemplate.constructor=ByronHamburgers.Modules.ModuleTemplate,ByronHamburgers.Modules.ModuleTemplate.prototype.init=function(t,e){this.mapReady=!1,this.mapPins={},this.elementList={},this.dictionary=void 0!==window.dictionary?window.dictionary:{},this.restaurants=[],this.restaurantsLoaded=!1,this.isCollapsed=!1,this.config=e,this.div=t,this.layoutLast="",this.layout="",this.isMaster=!1,void 0===this.masterID&&(this.masterID="default"),this.images=[],this.imageURLList={},this.div.hasClass("module")&&(this.divContent=this.div.find(".module__content-wrapper"),this.loadBackgroundImage()),this.loadInlineImages(),this.injectSidebarImages(),ByronHamburgers.Signals.geo.add(this.geoListener=function(t,e){this.geoEvent(t,e)}.bind(this)),ByronHamburgers.Signals.modules.add(this.moduleListener=function(t,e){this.moduleEvent(t,e)}.bind(this)),this.construct(),window.googleMapsReady?this.onMapReady():ByronHamburgers.Signals.map.add(this.mapListener=function(){this.onMapReady()}.bind(this)),this.initToolTips(),this.initInfoButtons(),this.setLayoutMode(e.layout),this.resized(e.layout)},ByronHamburgers.Modules.ModuleTemplate.prototype.construct=function(){},ByronHamburgers.Modules.ModuleTemplate.prototype.elementCreate=function(t,e,n,o){return o.parent=this,this.elementList[t]=new e(n,o),this.elementList[t]},ByronHamburgers.Modules.ModuleTemplate.prototype.dictionaryFetch=function(t,e){return void 0!==this.dictionary[t]&&void 0!==this.dictionary[t][e]?this.dictionary[t][e]:""},ByronHamburgers.Modules.ModuleTemplate.prototype.myAccountListen=function(){ByronHamburgers.Signals.account.add(this.accountListener=function(t,e){this.accountEvent(t,e)}.bind(this))},ByronHamburgers.Modules.ModuleTemplate.prototype.accountEvent=function(){},ByronHamburgers.Modules.ModuleTemplate.prototype.onMapReady=function(){this.mapReady=!0,this.mapPins.restaurantBig=new google.maps.MarkerImage("/images/static/map-pin-restaurant-big.png",null,null,null,new google.maps.Size(52,71)),this.mapPins.restaurantSmall=new google.maps.MarkerImage("/images/static/map-pin-restaurant-small.png",null,null,null,new google.maps.Size(40,46)),this.mapPins.restaurantSmallBlank=new google.maps.MarkerImage("/images/static/map-pin-restaurant-small-blank.png",null,null,null,new google.maps.Size(40,46)),this.mapPins.restaurantSmallBlank.labelOrigin={x:20,y:20},this.mapPins.you=new google.maps.MarkerImage("/images/static/map-pin-you.png",null,null,null,new google.maps.Size(33,38)),this.onMapReadyAfter()},ByronHamburgers.Modules.ModuleTemplate.prototype.onMapReadyAfter=function(){},ByronHamburgers.Modules.ModuleTemplate.prototype.loadBackgroundImage=function(){void 0!==this.div.attr("data-background-image")&&(this.divContent.addClass("module__content-wrapper--hidden"),this.imageLoad(this.div,this.div.attr("data-background-image"),"module-background",void 0!==this.div.attr("data-background-tint-level")?this.div.attr("data-background-tint-level"):-1,void 0===this.div.attr("data-background-image-loader")||"1"===this.div.attr("data-background-image-loader")))},ByronHamburgers.Modules.ModuleTemplate.prototype.loadInlineImages=function(){for(var t,e=this.div.find(".image-inline"),n=0;n<e.length;n++)t=$(e[n]),this.imageLoad(t,t.attr("data-background-image"),"inline-image"+n,void 0===t.attr("data-background-tint-level")?0:parseFloat(t.attr("data-background-tint-level")),void 0!==t.attr("data-background-image-loader")&&"0"!==t.attr("data-background-image-loader"))},ByronHamburgers.Modules.ModuleTemplate.prototype.imageLoad=function(t,e,n,o,i){if(n=void 0===n?"":n,i=void 0===i||i,o=void 0===o?-1:o,i)var a=this.addLoaderToElement(t);else t.addClass("loading");var s=this.images.length;this.images.push({element:t,src:e,loader:void 0!==a?a:"",image:new Image,tintLevel:o,loaded:!1}),this.images[s].image.onload=function(t){this.imageLoadComplete(t,n)}.bind(this,s,n),""!==e&&(this.images[s].image.src=e)},ByronHamburgers.Modules.ModuleTemplate.prototype.injectSidebarImages=function(){if($(".menu__sidenav-wrapper").length&&void 0!==this.div.attr("data-sidebar-config")){var t=this.div.attr("data-sidebar-config").split("|"),e=Handlebars.templates["MenuSidebarItem.hbs"]({label:t[0].indexOf("<")!==-1?t[0].substr(0,t[0].indexOf("<")).trim():t[0],image1:t[1],image2:t[2],module_link:this.div.attr("id")});$(".menu__sidenav-wrapper ul").append($(e))}},ByronHamburgers.Modules.ModuleTemplate.prototype.addLoaderToElement=function(t){var e=ByronHamburgers.helper.getConfigItem("loader-background-colours").split(","),n=$('<div class="loader-holder bg--'+e[Math.floor(Math.random()*e.length)]+'"><div class="loader-content"><div class="loader"><img src="/images/static/loader.gif"/></div></div></div>');return t.prepend(n),n},ByronHamburgers.Modules.ModuleTemplate.prototype.imageLoadComplete=function(t,e){this.images[t].loaded=!0,this.imageURLList[e]=this.images[t],this.images[t].element.removeClass("loading"),ByronHamburgers.helper.addTintedBackgroundImage(this.images[t].element,this.images[t].src,-1,this.images[t].tintLevel),""!==this.images[t].loader&&this.images[t].loader.addClass("loader-holder--complete"),"module-background"===e&&this.divContent.removeClass("module__content-wrapper--hidden"),this.imageLoadCompleteAfter(t,e)},ByronHamburgers.Modules.ModuleTemplate.prototype.imageLoadCompleteAfter=function(){},ByronHamburgers.Modules.ModuleTemplate.prototype.setLayoutMode=function(t){this.layout!==t?(this.layoutLast=this.layout,this.layout=t,this.setLayoutModeAfter()):this.resized(t)},ByronHamburgers.Modules.ModuleTemplate.prototype.setLayoutModeAfter=function(){},ByronHamburgers.Modules.ModuleTemplate.prototype.resized=function(){},ByronHamburgers.Modules.ModuleTemplate.prototype.initToolTips=function(){for(var t,e=this.div.find(".has-tooltip"),n=0;n<e.length;n++)t=$(e[n]),t.hover(function(t,e){this.tooltip(t,e)}.bind(this,t,t.attr("data-hint")),function(t){this.tooltip(t,"")}.bind(this,t))},ByronHamburgers.Modules.ModuleTemplate.prototype.tooltip=function(t,e){""!==e?t.append($('<div class="tooltip-wrapper"><div class="tooltip">'+e+"</div></div>")):t.find(".tooltip-wrapper").remove()},ByronHamburgers.Modules.ModuleTemplate.prototype.initInfoButtons=function(){for(var t,e=this.div.find(".icon-info"),n=0;n<e.length;n++)t=$(e[n]),t.on("click",function(t,e,n){this.infoShow(t,e,n)}.bind(this,t,t.attr("data-hint-title"),t.attr("data-hint-text")))},ByronHamburgers.Modules.ModuleTemplate.prototype.infoShow=function(t,e,n){var o=$('<div class="overlay__info__item fancy-frame"><div class="overlay__info__item__content"><h4>'+e+"</h4><p>"+n+"</p></div></div>"),i=$('<div class="overlay__info__item__close"><i class="zmdi zmdi-close zmdi-hc-fw"></i></div>');o.append(i),i.on("click",function(){this.infoClose()}.bind(this)),ByronHamburgers.Signals.overlay.dispatch("show",{type:"white",content:o,classes:["overlay__info"]})},ByronHamburgers.Modules.ModuleTemplate.prototype.infoClose=function(){ByronHamburgers.Signals.overlay.dispatch("hide",{})},ByronHamburgers.Modules.ModuleTemplate.prototype.initAsMaster=function(){this.isMaster=!0,this.initAsMasterModuleAfter()},ByronHamburgers.Modules.ModuleTemplate.prototype.initAsMasterModuleAfter=function(){},ByronHamburgers.Modules.ModuleTemplate.prototype.locationFetch=function(){ByronHamburgers.Signals.geo.dispatch("get",{})},ByronHamburgers.Modules.ModuleTemplate.prototype.locationReceived=function(){},ByronHamburgers.Modules.ModuleTemplate.prototype.locationError=function(){},ByronHamburgers.Modules.ModuleTemplate.prototype.geoEvent=function(t,e){"success"===t?this.locationReceived(e.location):"error"===t&&(console.log(e),this.locationError(e.code,e.str))},ByronHamburgers.Modules.ModuleTemplate.prototype.moduleEvent=function(t,e){this.moduleEventAfter(t,e)},ByronHamburgers.Modules.ModuleTemplate.prototype.moduleEventAfter=function(){},ByronHamburgers.Modules.ModuleTemplate.prototype.collapse=function(){this.isCollapsed||(this.collapseStage(1),this.isCollapsed=!0)},ByronHamburgers.Modules.ModuleTemplate.prototype.collapseStage=function(){},ByronHamburgers.Modules.ModuleTemplate.prototype.mapInit=function(t,e){this.map=new google.maps.Map(document.getElementById(void 0===e?"map":e),t),google.maps.event.addListenerOnce(this.map,"idle",function(){this.mapLoader.addClass("loader-holder--complete"),$(".map-holder").addClass("map-holder--active"),this.mapFix()}.bind(this))},ByronHamburgers.Modules.ModuleTemplate.prototype.mapFix=function(){google.maps.event.trigger(this.map,"resize")},ByronHamburgers.Modules.ModuleTemplate.prototype.makeMapMarker=function(t,e,n){var o={position:t,map:void 0===n?this.map:n,title:void 0!==e.title?e.title:"",icon:this.mapPins[e.icon],label:void 0!==e.label?e.label:""};void 0!==e.label&&(o.label=e.label);var i=new google.maps.Marker(o);return i},ByronHamburgers.Modules.ModuleTemplate.prototype.getAutoSearchLocation=function(t){var e=ByronHamburgers.helper.cookies.get("search");return t&&ByronHamburgers.helper.cookies.save("search","",-1),e},ByronHamburgers.Modules.ModuleTemplate.prototype.getAllergenInfo=function(t){var e={allergens:"",dietary:[],dietaryString:""},n=void 0!==t.attr("data-dietary-ignore")?t.attr("data-dietary-ignore").split(","):[];if("yes"===t.attr("data-starchef")){for(var o=1;o<=12;o++)""!==t.attr("data-allergen-"+o)&&(e.allergens+=""!==e.allergens?", ":"",e.allergens+=t.attr("data-allergen-"+o));for(o=1;void 0!==t.attr("data-dietary-"+o);)n.indexOf(t.attr("data-dietary-"+o))===-1&&(e.dietary.push(t.attr("data-dietary-"+o)),e.dietaryString+=""===e.dietaryString?"Suitable for ":" and ",e.dietaryString+=t.attr("data-dietary-"+o)+"s"),o++}else e.allergens=t.attr("data-text-na");return""===e.allergens&&(e.allergens=t.attr("data-text-none")),""===e.dietaryString&&(e.dietaryString="&nbsp;"),e.allergensHintText=e.allergens,e.allergens!==t.attr("data-text-none")&&e.allergens!==t.attr("data-text-na")&&void 0!==t.attr("data-text-hint-pre")&&(e.allergensHintText=t.attr("data-text-hint-pre")+e.allergensHintText),void 0!==t.attr("data-text-hint-post")&&(e.allergensHintText=e.allergensHintText+t.attr("data-text-hint-post")),e},ByronHamburgers.Modules.ModuleTemplate.prototype.loadRestaurantData=function(){$.get("/data/restaurants",function(t){this.loadRestaurantDataComplete(t)}.bind(this),"xml")},ByronHamburgers.Modules.ModuleTemplate.prototype.loadRestaurantDataComplete=function(t){var e,n,o,i,a,s=$(t).find("items").find("item"),r=["book","collection","delivery"],l={"coming-soon":"coming_soon","temporarily-closed":"closed",open:""};for(n=0;n<s.length;n++){for(e=$(s[n]),a=e.find("hours"),o={longitude:parseFloat(e.attr("long")),latitude:parseFloat(e.attr("lat")),id:e.attr("id"),crm_id:e.attr("crm_id"),name:e.find("name").text(),address1:e.find("address1").text(),address2:e.find("address2").text(),city:e.find("city").text(),region:e.find("region").text(),postcode:e.find("postcode").text(),telephone:e.find("telephone").text(),icon_status:void 0!==l[e.attr("status")]?l[e.attr("status")]:"",book_search:"",book_restaurant:"",collection_search:"",collection_restaurant:"",delivery_search:"",delivery_restaurant:"",hours:[$(a[0]).text(),$(a[1]).text(),$(a[2]).text(),$(a[3]).text(),$(a[4]).text(),$(a[5]).text(),$(a[6]).text()]},""!==o.city?o.nameDisplay=o.city+" - "+o.name:o.nameDisplay=o.region+" - "+o.name,i=0;i<r.length;i++)""!==e.find(r[i]).text()&&"yes"===e.find(r[i]).attr("enabled").toLowerCase()&&("restaurant"!==e.find(r[i]).attr("display_method").toLowerCase()&&(o[r[i]+"_search"]=e.find(r[i]).text()),"search"!==e.find(r[i]).attr("display_method").toLowerCase()&&(o[r[i]+"_restaurant"]=e.find(r[i]).text()));this.restaurants.push(o)}this.restaurantsLoaded=!0,this.loadRestaurantDataAfter()},ByronHamburgers.Modules.ModuleTemplate.prototype.loadRestaurantDataAfter=function(){},ByronHamburgers.Modules.ModuleType1=function(t,e){this.init(t,e)},ByronHamburgers.Modules.ModuleType1.prototype=new ByronHamburgers.Modules.ModuleTemplate,ByronHamburgers.Modules.ModuleType1.constructor=ByronHamburgers.Modules.ModuleType1,ByronHamburgers.Modules.ModuleType1.prototype.construct=function(){this.moduleAlign=this.div.hasClass("module--1-a-left")||this.div.hasClass("module--1-b-left")?"left":"right",this.itemImage=this.div.find(".module__content--image"),this.itemText=this.div.find(".module__content--text"),this.itemSpacer=this.div.find(".module__content--spacer"),"right"===this.moduleAlign&&(this.itemText.insertAfter(this.itemImage),this.itemSpacer.insertBefore(this.itemImage)),this.imageDiv=this.itemImage.find(".image"),this.imageDiv.length&&this.imageLoad(this.imageDiv,this.imageDiv.attr("data-background-image"),"image-background",void 0!==this.imageDiv.attr("data-background-tint-level")?this.imageDiv.attr("data-background-tint-level"):-1,void 0===this.imageDiv.attr("data-background-image-loader")||"1"===this.imageDiv.attr("data-background-image-loader"));},ByronHamburgers.Modules.ModuleType1.prototype.setLayoutModeAfter=function(){"left"===this.moduleAlign&&("s"!==this.layout&&"m"!==this.layout||"xl"!==this.layoutLast&&"l"!==this.layoutLast&&""!==this.layoutLast?"xl"!==this.layout&&"l"!==this.layout||"s"!==this.layoutLast&&"m"!==this.layoutLast&&""!==this.layoutLast||this.itemText.insertBefore(this.itemImage):this.itemText.insertAfter(this.itemImage))},ByronHamburgers.Modules.ModuleType2=function(t,e){this.init(t,e)},ByronHamburgers.Modules.ModuleType2.prototype=new ByronHamburgers.Modules.ModuleTemplate,ByronHamburgers.Modules.ModuleType2.constructor=ByronHamburgers.Modules.ModuleType2,ByronHamburgers.Modules.ModuleType2.prototype.construct=function(){this.swapContentOnResize=!(!this.div.hasClass("module--2-b")||""===$(this.div.find(".module__subcontent-column--right")).html()),this.swapContentOnResize&&(this.itemLeft=this.div.find(".module__subcontent-column--left"),this.itemRight=this.div.find(".module__subcontent-column--right"),this.imageContent=this.itemRight.html())},ByronHamburgers.Modules.ModuleType2.prototype.setLayoutModeAfter=function(){this.swapContentOnResize&&("s"!==this.layout&&"m"!==this.layout||"xl"!==this.layoutLast&&"l"!==this.layoutLast&&""!==this.layoutLast?"xl"!==this.layout&&"l"!==this.layout||"s"!==this.layoutLast&&"m"!==this.layoutLast&&""!==this.layoutLast||(this.itemLeft.html(""),this.itemRight.html(this.imageContent)):(this.itemLeft.html(this.imageContent),this.itemRight.html("")))},ByronHamburgers.Modules.ModuleSocial=function(t,e){this.carouselReady=!1,this.minDisplayCount=6,this.init(t,e)},ByronHamburgers.Modules.ModuleSocial.prototype=new ByronHamburgers.Modules.ModuleTemplate,ByronHamburgers.Modules.ModuleSocial.constructor=ByronHamburgers.Modules.ModuleSocial,ByronHamburgers.Modules.ModuleSocial.prototype.construct=function(){this.displayCount=parseInt(this.div.attr("data-display-max")),this.displayMethod=this.div.attr("data-display-method"),this.carouselHolder=this.div.find(".module__subcontent--row2 .module__subcontent-column--middle"),this.imageDataLoad()},ByronHamburgers.Modules.ModuleSocial.prototype.resized=function(){this.slickFix&&clearTimeout(this.slickFix),this.carouselReady&&(this.slickFix=setTimeout(function(){this.carouselHolder.slick("setPosition")}.bind(this),1e3))},ByronHamburgers.Modules.ModuleSocial.prototype.carouselInit=function(){this.carouselHolder.on("init",function(){this.carouselReady=!0,this.slickFix=setTimeout(function(){this.carouselHolder.slick("setPosition")}.bind(this),500)}.bind(this)),this.carouselHolder.slick({centerMode:!0,slidesToShow:4,arrows:!0,responsive:[{breakpoint:1900,settings:{arrows:!0,centerMode:!0,centerPadding:"50px",slidesToShow:3}},{breakpoint:1025,settings:{arrows:!1,centerMode:!0,centerPadding:"10%",slidesToShow:1}}]}),this.carouselHolder.on("breakpoint",function(){this.indexSlides()}.bind(this)),this.carouselHolder.on("setPosition",function(){this.bindPeepEvents()}.bind(this)),this.indexSlides(),this.bindPeepEvents()},ByronHamburgers.Modules.ModuleSocial.prototype.bindPeepEvents=function(){this.slickArrows&&this.slickArrows.off("mouseenter mouseleave"),this.slickArrows=this.div.find(".slick-arrow");for(var t=0;t<this.slickArrows.length;t++)$(this.slickArrows[t]).hover(function(t){this.carouselHolder.addClass(0===t?"peek-left":"peek-right")}.bind(this,t),function(){this.carouselHolder.removeClass("peek-left peek-right")}.bind(this))},ByronHamburgers.Modules.ModuleSocial.prototype.indexSlides=function(){this.slides=[];for(var t,e,n=$(".social-image"),o=0;o<n.length;o++)t=$(n[o]),e={element:t,loader:t.find(".loader-holder"),info:t.find(".social-image__info-wrapper"),callback_id:t.attr("data-callback-id")},this.slides.push(e),void 0!==this.imageURLList[e.callback_id]&&"none"===t.css("background-image")&&ByronHamburgers.helper.addTintedBackgroundImage(t,this.imageURLList[e.callback_id].src,-1,this.imageURLList[e.callback_id].tintLevel)},ByronHamburgers.Modules.ModuleSocial.prototype.imageDataLoad=function(){$.ajax({type:"POST",url:ByronHamburgers.helper.paths.api+"instagram-fetch.php",data:{tags:this.div.attr("data-display-tags")},success:function(t){this.imageDataLoadComplete(t)}.bind(this),dataType:"json"})},ByronHamburgers.Modules.ModuleSocial.prototype.initSlides=function(t){for(var e,n,o=t.length<this.minDisplayCount?Math.ceil(this.minDisplayCount/t.length)*t.length:t.length,i=0;i<o;i++)n=i%t.length,e=$('<div class="social-image" data-callback-id="instagram'+n+'"><div class="social-image__info-wrapper"><div class="social-image__info"><span><i class="zmdi zmdi-favorite zmdi-hc-fw"></i></span><span class="padding-right">'+t[n].likes+'</span><span><i class="zmdi zmdi-time zmdi-hc-fw"></i></span><span>'+t[n].date+'</span></div></div><div class="social-image__cover"></div></div>'),i<t.length?this.imageLoad(e,t[n].image_src,"instagram"+n,0):this.imageLoad(e,"","dummy",0),this.carouselHolder.append(e)},ByronHamburgers.Modules.ModuleSocial.prototype.imageDataLoadComplete=function(t){if("OK"===t.result&&void 0!==t.data){var e=this.createDataSet(t.data);e.length>0&&(this.initSlides(e),this.carouselInit())}},ByronHamburgers.Modules.ModuleSocial.prototype.createDataSet=function(t){for(var e,n,o=Math.min(this.displayCount,t.length),i=[],a=[],s=0;s<o;s++){if(e=s,"random"===this.displayMethod){for(e=Math.floor(Math.random()*t.length);i.indexOf(e)!==-1;)e=Math.floor(Math.random()*t.length);i.push(e)}n=t[e];var r=n.likes.count+" LIKE";r+=1!==n.likes.count?"S":"",a.push({image_src:n.images.standard_resolution.url.replace("/s640x640/","/").replace("/s320x320/","/"),likes:r,date:moment.utc(n.created_time,"X").fromNow().toUpperCase()})}return a},ByronHamburgers.Modules.ModuleSocial.prototype.imageLoadCompleteAfter=function(t,e){if(e.indexOf("instagram")!==-1)for(var n=0;n<this.slides.length;n++)e===this.slides[n].callback_id&&(this.slides[n].loader.hasClass("loader-holder--complete")||(this.slides[n].loader.addClass("loader-holder--complete"),ByronHamburgers.helper.addTintedBackgroundImage(this.slides[n].element,this.images[t].src,-1,this.images[t].tintLevel)),this.slides[n].info.addClass("social-image__info-wrapper--active"))},ByronHamburgers.Modules.ModuleBook=function(t,e){this.moduleType="book",this.init(t,e)},ByronHamburgers.Modules.ModuleBook.prototype=new ByronHamburgers.Modules.ModuleTemplate,ByronHamburgers.Modules.ModuleBook.constructor=ByronHamburgers.Modules.ModuleBook,ByronHamburgers.Modules.ModuleBook.prototype.construct=function(){this.elementCreate("book",ByronHamburgers.Modules.Elements.ElementBook,this.div,{})},ByronHamburgers.Modules.ModuleHeader=function(t,e){this.cookieWelcomeBackID="restaurant-hint",this.moduleType="header",this.init(t,e)},ByronHamburgers.Modules.ModuleHeader.prototype=new ByronHamburgers.Modules.ModuleTemplate,ByronHamburgers.Modules.ModuleHeader.constructor=ByronHamburgers.Modules.ModuleHeader,ByronHamburgers.Modules.ModuleHeader.prototype.construct=function(){this.div.find("#form-section-picker #section-switch").length&&(ByronHamburgers.helper.forms.initElements(this.div.find("#form-section-picker")),this.elementCreate("section-picker",ByronHamburgers.Modules.Elements.ElementSectionPicker,$(this.div.find("#form-section-picker #section-switch")),{})),this.div.find("#form-contact").length&&this.elementCreate("section-picker",ByronHamburgers.Modules.Elements.ElementContactForm,$(this.div.find("#form-contact")),{}),this.div.find("#form-signup").length&&this.elementCreate("section-picker",ByronHamburgers.Modules.Elements.ElementSignupForm,$(this.div.find("#form-signup")),{}),this.div.find("#find-a-byron").length&&this.elementCreate("find-a-byron",ByronHamburgers.Modules.Elements.ElementFindAByronForm,this.div,{}),this.div.find("#form-book-restaurant").length&&this.elementCreate("book",ByronHamburgers.Modules.Elements.ElementBook,this.div,{}),this.div.hasClass("module--restaurant-header")&&this.restaurantHeaderInit(),this.div.find(".welcome-back-wrapper").length&&""!==ByronHamburgers.helper.cookies.get(this.cookieWelcomeBackID)&&this.welcomeBackShow()},ByronHamburgers.Modules.ModuleHeader.prototype.restaurantHeaderInit=function(){this.welcomeBackTrack(),this.restaurantButtonsSet(),this.myAccountListen()},ByronHamburgers.Modules.ModuleHeader.prototype.restaurantButtonsSet=function(){if(console.log("Handling restaurant buttons"),""===ByronHamburgers.helper.account.token)this.div.find("#coming-soon-options-1").fadeIn(500);else if(ByronHamburgers.helper.account.isLoggedIn){console.log("logged in: conditional");for(var t=!1,e=this.div.find("#coming-soon-options-2").attr("data-restaurant-id"),n=0;n<ByronHamburgers.helper.account.responseData.RestaurantUpdateSubscriptions.length;n++)if(console.log(ByronHamburgers.helper.account.responseData.RestaurantUpdateSubscriptions[n].restaurantId),ByronHamburgers.helper.account.responseData.RestaurantUpdateSubscriptions[n].restaurantId===e){t=!0;break}t||(this.div.find("#coming-soon-options-2").fadeIn(500),ByronHamburgers.helper.resizer.detect("refresh"))}},ByronHamburgers.Modules.ModuleHeader.prototype.accountEvent=function(t,e){"ready"===t?this.restaurantButtonsSet():"success"===t&&"POST"===e.method&&"RestaurantUpdateSubscriptions"===e["function"]&&(this.div.find("#coming-soon-options-2").fadeOut(300),ByronHamburgers.Signals.messager.dispatch("create",{text:this.div.find("#coming-soon-options-2").attr("data-message-success"),colour:"yellow"}),setTimeout(function(){ByronHamburgers.helper.resizer.detect("refresh")},350))},ByronHamburgers.Modules.ModuleHeader.prototype.welcomeBackTrack=function(){var t=document.location.href.split("/"),e={name:this.div.find("h2").length?this.div.find("h2").first().text():this.div.find("h3").first().attr("data-restaurant-name"),url:""!==t[t.length-1]?t[t.length-1]:t[t.length-2]};ByronHamburgers.helper.cookies.save("restaurant-hint",JSON.stringify(e))},ByronHamburgers.Modules.ModuleHeader.prototype.welcomeBackShow=function(){var t=JSON.parse(ByronHamburgers.helper.cookies.get(this.cookieWelcomeBackID)),e=this.div.find(".welcome-back-wrapper .welcome-back-item--text a");e.html("Byron "+t.name),e.attr("href","/"+t.url+"/"),this.div.find(".welcome-back-wrapper").addClass("welcome-back-wrapper--active")},ByronHamburgers.Modules.ModuleHeader.prototype.collapseStage=function(t){var e="h2, h3, .split, .topper",n=this.div.find(e);if($("#find-location").blur(),1===t)n.addClass("module__element--fades"),this.div.addClass("module--collapses"),setTimeout(function(){this.collapseStage(2)}.bind(this),100);else if(2===t)n.each(function(){$(this).css("height",$(this).height())}),n.addClass("module__element--faded"),setTimeout(function(){this.collapseStage(3)}.bind(this),350);else if(3===t){var o={height:0,"padding-top":0,"padding-bottom":0,"margin-top":0,"margin-bottom":0};n.css(o),this.div.addClass("module--collapsed"),setTimeout(function(){this.collapseStage(4)}.bind(this),350)}else 4===t&&n.remove()},ByronHamburgers.Modules.ModuleAllergens=function(t,e){this.dropdownList=[],this.iconMap={vegetarian:"veg","gluten-free":"gluten"},this.init(t,e)},ByronHamburgers.Modules.ModuleAllergens.prototype=new ByronHamburgers.Modules.ModuleTemplate,ByronHamburgers.Modules.ModuleAllergens.constructor=ByronHamburgers.Modules.ModuleAllergens,ByronHamburgers.Modules.ModuleAllergens.prototype.construct=function(){this.initItems(),this.initDynamicHeader()},ByronHamburgers.Modules.ModuleAllergens.prototype.initDynamicHeader=function(){this.headerSnapped=!1,this.navContent=$("#nav-main"),this.headerContent=$("#page-section-1"),ByronHamburgers.Signals.scroll.add(this.scrollListener=function(t,e){this.scrollEvent(t,e)}.bind(this)),this.calculateSnapHeight()},ByronHamburgers.Modules.ModuleAllergens.prototype.calculateSnapHeight=function(t){t=void 0===t||t,(t||void 0===this.headerModuleHeight)&&(this.headerModuleHeight=$(".module--header").outerHeight()),this.headerSnapThreshold=this.headerModuleHeight,ByronHamburgers.helper.resizer.screenWidth>1279?this.headerSnapThreshold+=ByronHamburgers.helper.getGridRowHeight($("body").hasClass("scrolled")?7:8):this.headerSnapThreshold+=ByronHamburgers.helper.getGridRowHeight(5)},ByronHamburgers.Modules.ModuleAllergens.prototype.scrollEvent=function(t,e){"update"===t&&(this.calculateSnapHeight(!1),e.value>=this.headerSnapThreshold&&!this.headerSnapped?(this.navContent.append(this.headerContent),this.headerContent.addClass("snapped"),this.div.addClass("snapped"),setTimeout(function(){this.headerContent.addClass("snapped-animate")}.bind(this),0),this.headerSnapped=!0):e.value<this.headerSnapThreshold&&this.headerSnapped&&($(".page-section-wrapper").prepend(this.headerContent),this.headerContent.removeClass("snapped"),this.div.removeClass("snapped"),setTimeout(function(){this.headerContent.removeClass("snapped-animate")}.bind(this),0),this.headerSnapped=!1))},ByronHamburgers.Modules.ModuleAllergens.prototype.initItems=function(){this.header=$(".allergen__header");var t,e,n,o,i,a,s=this.div.find(".allergen-group__item:not(.allergen-group__item--header)");for(n=0;n<s.length;n++){for(t=$(s[n]),e=this.getAllergenInfo(t),t.find(".icon-info").attr("data-hint-text",e.allergensHintText),i=t.find(".allergen-group__item__cell--data"),o=0;o<i.length;o++)""!==t.attr("data-allergen-"+(o+1))&&$(i[o]).html('<span class="icon"><i class="zmdi zmdi-circle zmdi-hc-fw"></i></span>');var r=e.dietary.length>0?"top-margin":null;a=t.find("h3").parent(),a.append('<p class="green">'+e.dietaryString+"</p>"),a.append('<p class="'+r+'">The dish contains:</p>'),a.append('<p class="green">'+e.allergens+"</p>");var l,d;for(o=0;o<e.dietary.length;o++)l=void 0!==this.iconMap[e.dietary[o]]?this.iconMap[e.dietary[o]]:e.dietary[o],d=e.dietary[o].substr(0,1).toUpperCase()+e.dietary[o].substr(1).toLowerCase(),a.after('<div class="tc hide-below-l"><span class="icon icon-'+l+' has-tooltip" data-hint="Suitable for '+d+'"></span></div>');this.dropdownList.push({item:t,intro:t.find("p:first-of-type"),last:t.find("p:last-of-type")}),$(s[n]).on("click",function(t){this.dropdownToggle(t)}.bind(this,n))}},ByronHamburgers.Modules.ModuleAllergens.prototype.mobileDropdownsInit=function(t){t=void 0===t||t;for(var e,n=0;n<this.dropdownList.length;n++)e=this.dropdownList[n].intro.position().top,"&nbsp;"!==this.dropdownList[n].intro.html().trim()&&(e+=this.dropdownList[n].intro.outerHeight()),this.dropdownList[n].height_open=Math.ceil((this.dropdownList[n].last.outerHeight()+this.dropdownList[n].last.position().top)/ByronHamburgers.helper.getGridRowHeight())*ByronHamburgers.helper.getGridRowHeight(),this.dropdownList[n].height_closed=Math.ceil(e/ByronHamburgers.helper.getGridRowHeight())*ByronHamburgers.helper.getGridRowHeight(),this.dropdownList[n].open=!(!this.dropdownList[n].item.hasClass("open")||t),"m"!==this.layout&&"s"!==this.layout||this.dropdownList[n].item.css("height",this.dropdownList[n].open?this.dropdownList[n].height_open:this.dropdownList[n].height_closed),t&&this.dropdownList[n].item.removeClass("open")},ByronHamburgers.Modules.ModuleAllergens.prototype.setLayoutModeAfter=function(){if("s"!==this.layout&&"m"!==this.layout||"xl"!==this.layoutLast&&"l"!==this.layoutLast&&""!==this.layoutLast){if(!("xl"!==this.layout&&"l"!==this.layout||"s"!==this.layoutLast&&"m"!==this.layoutLast&&""!==this.layoutLast)){for(var t=0;t<this.dropdownList.length;t++)this.dropdownList[t].item.css("height","auto");this.calculateSnapHeight(!0)}}else this.mobileDropdownsInit()},ByronHamburgers.Modules.ModuleAllergens.prototype.resized=function(){"m"!==this.layout&&"s"!==this.layout||this.mobileDropdownsInit(!1),"l"!==this.layout&&"xl"!==this.layout||this.calculateSnapHeight(!0)},ByronHamburgers.Modules.ModuleAllergens.prototype.dropdownToggle=function(t){this.dropdownList[t].open?(this.dropdownList[t].open=!1,this.dropdownList[t].item.removeClass("open"),this.dropdownList[t].item.css("height",this.dropdownList[t].height_closed+"px")):"m"!==this.layout&&"s"!==this.layout||(this.dropdownList[t].open=!0,this.dropdownList[t].item.addClass("open"),this.dropdownList[t].item.css("height",this.dropdownList[t].height_open+"px"))},ByronHamburgers.Modules.ModuleCarousel=function(t,e){this.carouselInited=!1,this.frameEnabled=!1,this.frameWidth=16,this.slideSpacing={xl:52,l:48,m:48,s:48},this.init(t,e)},ByronHamburgers.Modules.ModuleCarousel.prototype=new ByronHamburgers.Modules.ModuleTemplate,ByronHamburgers.Modules.ModuleCarousel.constructor=ByronHamburgers.Modules.ModuleCarousel,ByronHamburgers.Modules.ModuleCarousel.prototype.construct=function(){this.carouselHolder=this.div.find(".carousel"),this.initSlides(),"centre"===this.carouselHolder.attr("data-display-method")?this.carouselHolder.slick({centerMode:!0,slidesToShow:1,arrows:!0,centerPadding:"120px",responsive:[{breakpoint:1025,settings:{arrows:!1,centerPadding:"14%"}},{breakpoint:768,settings:{arrows:!1,centerPadding:"14%",centerMode:!1}}]}):this.carouselHolder.slick({dots:!0,infinite:!0,speed:1e3,slidesToShow:1,autoplay:!1})},ByronHamburgers.Modules.ModuleCarousel.prototype.initSlides=function(){this.slides=this.div.find(".carousel__slide .module__content-wrapper"),"centre"===this.carouselHolder.attr("data-display-method")&&(this.frameDiv=$(".carousel-frame"),this.frameEnabled=!0,this.carouselHolder.on("setPosition",function(){this.setFrameSize()}.bind(this))),this.imageNext=-1,this.loadNextImage()},ByronHamburgers.Modules.ModuleCarousel.prototype.setFrameSize=function(){if(this.frameEnabled){var t=$(".slick-current");if(t.length){var e=$(t).offset(),n=$(t).position(),o=this.slideSpacing[this.layout],i=o-this.frameWidth/2,a="s"===this.layout?24:0;this.frameDiv.css({width:"s"===this.layout?t.width():t.width()+2*i,height:t.height()+2*i+a,left:"s"===this.layout?0:e.left+o-this.frameWidth-i,top:n.top+ByronHamburgers.helper.getGridRowHeight(4)-this.frameWidth-i-a})}}},ByronHamburgers.Modules.ModuleCarousel.prototype.imageLoadCompleteAfter=function(t,e){0===e.indexOf("slide-")&&(this.images[t].element.parent().removeClass("carousel__slide--hidden"),this.carouselHolder.slick("slickAdd",this.images[t].element.parent()),this.loadNextImage())},ByronHamburgers.Modules.ModuleCarousel.prototype.loadNextImage=function(){if(this.imageNext++,this.setFrameSize(),this.imageNext<this.slides.length){var t=$(this.slides[this.imageNext]);this.imageLoad(t,t.attr("data-background-image"),"slide-"+this.imageNext,void 0!==t.attr("data-background-tint-level")?t.attr("data-background-tint-level"):-1)}},ByronHamburgers.Modules.ModuleCarousel.prototype.resized=function(){this.frameEnabled&&this.setFrameSize()},ByronHamburgers.Modules.ModuleMenuCategory=function(t,e){this.itemLists=[],this.columnLayouts={xl:3,l:3,m:2,s:1},this.menuModules=[],this.modules=[],this.menuSideNav,this.menuSideNavItems=[],this.menuSideNavItemActive=-1,this.masterID="menu-category",this.moduleType="menu-category",this.init(t,e)},ByronHamburgers.Modules.ModuleMenuCategory.prototype=new ByronHamburgers.Modules.ModuleTemplate,ByronHamburgers.Modules.ModuleMenuCategory.constructor=ByronHamburgers.Modules.ModuleMenuCategory,ByronHamburgers.Modules.ModuleMenuCategory.prototype.construct=function(){this.initItems()},ByronHamburgers.Modules.ModuleMenuCategory.prototype.initItems=function(){var t,e,n,o,i,a,s,r,l=this.div.find(".itemlist"),d="";for(o=0;o<l.length;o++){for(t=$(l[o]).find(".itemlist__item"),r={items:[],categories:[],holder:$(l[o])},d="",n=0;n<t.length;n++)e=$(t[n]),a=e.find(".category"),i=a.attr("data-title"),r.items.push({div:e,category:a}),s=this.getAllergenInfo(e),e.find(".icon-info").attr("data-hint-text",s.allergensHintText),i===d&&0!==n||(""!==d&&(r.categories[r.categories.length-1].end=n-1,r.categories[r.categories.length-1].count=r.categories[r.categories.length-1].end-r.categories[r.categories.length-1].start+1),r.categories.push({value:i,start:n,end:0,adjust:0}),d=i);r.categories.length>0&&(r.categories[r.categories.length-1].end=n-1,r.categories[r.categories.length-1].count=r.categories[r.categories.length-1].end-r.categories[r.categories.length-1].start+1),this.itemLists.push(r)}this.setHeaders(ByronHamburgers.helper.getLayoutMode())},ByronHamburgers.Modules.ModuleMenuCategory.prototype.initAsMasterModuleAfter=function(){for(var t,e,n=$(".module"),o=-1,i=0;i<n.length;i++)t=$(n[i]),e={div:t,image_topper:t.find(".section__image--topper"),image_side:t.find(".section__image--side"),top:t.offset().top,side_item:void 0!==t.attr("data-sidebar-config")?++o:-1},this.menuModules.push(e);setTimeout(function(){this.setSideImages()}.bind(this,50)),ByronHamburgers.helper.resizer.platformDetect.mobile()||ByronHamburgers.helper.resizer.platformDetect.tablet()||!$(".menu__sidenav-wrapper").length||this.sideNavInit()},ByronHamburgers.Modules.ModuleMenuCategory.prototype.sideNavInit=function(){this.menuSideNav=$(".menu__sidenav");var t,e,n=$(".menu__sidenav__item");for(e=0;e<n.length;e++)t=$(n[e]),t.on("click",function(t){ByronHamburgers.helper.scrollToElement("#"+t,{xl:ByronHamburgers.helper.getGridRowHeight(-6),l:ByronHamburgers.helper.getGridRowHeight(-4),m:ByronHamburgers.helper.getGridRowHeight(1),s:ByronHamburgers.helper.getGridRowHeight(1)})}.bind(this,t.attr("data-id"))),this.menuSideNavItems.push(t);ByronHamburgers.Signals.scroll.add(this.scrollListener=function(t,e){this.scrollEvent(t,e)}.bind(this)),ByronHamburgers.Signals.resize.add(this.resizeListener=function(){this.setModuleSizes()}.bind(this)),setTimeout(function(){this.setModuleSizes()}.bind(this),100)},ByronHamburgers.Modules.ModuleMenuCategory.prototype.setModuleSizes=function(){for(var t=0;t<this.menuModules.length;t++)this.menuModules[t].top=this.menuModules[t].div.offset().top},ByronHamburgers.Modules.ModuleMenuCategory.prototype.scrollEvent=function(t,e){if("update"===t){var n=ByronHamburgers.helper.getGridRowHeight(7);e.value>=this.menuModules[1].top-n?this.menuSideNav.addClass("menu__sidenav--active"):this.menuSideNav.removeClass("menu__sidenav--active"),n=ByronHamburgers.helper.resizer.screenHeight/2;for(var o=this.menuModules.length-1;o>=0;o--)if(e.value>=this.menuModules[o].top-n){this.sideNavItemSwitch(this.menuModules[o].side_item);break}}},ByronHamburgers.Modules.ModuleMenuCategory.prototype.sideNavItemSwitch=function(t){this.menuSideNavItemActive!==t&&(this.menuSideNavItemActive!==-1&&this.menuSideNavItems[this.menuSideNavItemActive].removeClass("selected"),t!==-1&&this.menuSideNavItems[t].addClass("selected"),this.menuSideNavItemActive=t)},ByronHamburgers.Modules.ModuleMenuCategory.prototype.setLayoutModeAfter=function(){this.layout!==this.layoutLast&&this.columnLayouts[this.layout]!==this.columnLayouts[this.layoutLast]&&this.setHeaders(this.layout),this.layout!==this.layoutLast&&this.isMaster&&this.setSideImages()},ByronHamburgers.Modules.ModuleMenuCategory.prototype.setSideImages=function(){for(var t,e,n,o={v:"",h:""},i="s"!==this.layout&&"m"!==this.layout?"big":"small",a="big"===i?["l","m","r"]:["m"],s="big"===i?["t","m","b"]:["t","b"],r="big"===i?1:.7,l=0;l<this.menuModules.length;l++)if(this.menuModules[l].image_side.length)if(e=!!this.menuModules[l].image_topper.length,t={v:"",h:""},n=Math.random()<=r,this.menuModules[l].image_side.attr("class","section__image section__image--side"),n){for(t.v=s[Math.floor(s.length*Math.random())];"t"===t.v&&e;)t.v=s[Math.floor(s.length*Math.random())];for("small"===i&&"t"===t.v&&"b"===o.v&&(t.v="b"),t.h=a[Math.floor(a.length*Math.random())],("m"===t.v||"t"===t.v&&"big"===i)&&(t.h=Math.random()<.5?"l":"r");"b"===o.v&&"t"===t.v&&o.h===t.h;)"big"===i?t.h="r"===t.h?"l":"r":t.h=a[Math.floor(a.length*Math.random())];this.menuModules[l].image_side.addClass("section__image--active"),this.menuModules[l].image_side.addClass("section__image--"+t.v+t.h),o=t}else o={v:"",h:""};else o={v:"",h:""}},ByronHamburgers.Modules.ModuleMenuCategory.prototype.setHeaders=function(t){for(var e=0;e<this.itemLists.length;e++)this.setGroupHeader(this.itemLists[e],this.columnLayouts[t])},ByronHamburgers.Modules.ModuleMenuCategory.prototype.setGroupHeader=function(t,e){var n,o,i,a,s,r=0,l=[];for(t.holder.find(".itemlist__item--blank").remove(),n=0;n<t.items.length;n++)t.items[n].category.html(""),t.items[n].category.removeClass("category--padded-top category--active");for(n=0;n<t.categories.length;n++){if(""!==t.categories[n].value&&t.items[t.categories[n].start].category.html(t.categories[n].value),0!==n&&(i=(t.categories[n].start+r)%e+1,i>1&&i+t.categories[n].count-1>e&&e>1))for(a=e-i+1,r+=a,o=0;o<a;o++)$('<div class="itemlist__item itemlist__item--blank"></div>').insertBefore(t.items[t.categories[n].start].div);""!==t.categories[n].value&&(s=Math.floor((t.categories[n].start+r)/e),l.push(s))}var d,u,p=t.holder.find(".itemlist__item");for(n=0;n<l.length;n++)for(o=0;o<e;o++)d=$(p[l[n]*e+o]),u=d.find(".category"),u.length&&(""===u.html()&&u.html("&nbsp;"),0!==l[n]&&u.addClass("category--padded-top"),u.addClass("category--active"))},ByronHamburgers.Modules.ModuleMyAccount=function(t,e){this.baseURL="https://altainebyronmauatapi.azurewebsites.net/api/",this.handlebarsHelpers(),this.endpoints=[],this.templates=[],this.endpoint=0,ByronHamburgers.helper.DEBUG_MODE?this.urls={profile:"/my-account.html",profile_information:"/my-account-edit-information.html",profile_preferences:"/my-account-edit-preferences.html",profile_updates:"/my-account-edit-updates.html",profile_details:"/my-account-edit-details.html",profile_remove:"/my-account-remove.html",address_book:"/my-account-address-book.html",address_book_add:"/my-account-address-book-add.html",address_book_edit:"/my-account-address-book-edit.html?id=",wallet:"/my-account-wallet.html",wallet_add:"/my-account-wallet-add.html",wallet_edit:"/my-account-wallet-edit.html?id=",wallet_card_success:"/my-account-wallet.html",wallet_card_error:"/my-account-wallet.html",wallet_card_error_expiry:"/my-account-wallet.html"}:this.urls={profile:"/my-account/",profile_information:ByronHamburgers.helper.paths.base+"my-account/information/",profile_preferences:ByronHamburgers.helper.paths.base+"my-account/preferences/",profile_updates:ByronHamburgers.helper.paths.base+"my-account/updates/",profile_details:ByronHamburgers.helper.paths.base+"my-account/details/",profile_remove:ByronHamburgers.helper.paths.base+"my-account/remove/",address_book:ByronHamburgers.helper.paths.base+"my-account/address-book/",address_book_add:ByronHamburgers.helper.paths.base+"my-account/address-book/add/",address_book_edit:ByronHamburgers.helper.paths.base+"my-account/address-book/edit/",wallet:ByronHamburgers.helper.paths.base+"my-account/wallet/",wallet_add:ByronHamburgers.helper.paths.base+"my-account/wallet/add/",wallet_edit:ByronHamburgers.helper.paths.base+"my-account/wallet/edit/",wallet_card_success:ByronHamburgers.helper.paths.base+"my-account/wallet/card-success/",wallet_card_error:ByronHamburgers.helper.paths.base+"my-account/wallet/card-error/",wallet_card_error_expiry:ByronHamburgers.helper.paths.base+"my-account/wallet/card-error/"},this.init(t,e)},ByronHamburgers.Modules.ModuleMyAccount.prototype=new ByronHamburgers.Modules.ModuleTemplate,ByronHamburgers.Modules.ModuleMyAccount.constructor=ByronHamburgers.Modules.ModuleMyAccount,ByronHamburgers.Modules.ModuleMyAccount.prototype.construct=function(){this.endpoints=this.div.attr("data-api-method").split(","),this.templates=this.div.attr("data-template").split(","),this.endpointSendSuffix=void 0!==this.div.attr("data-api-send-suffix")?this.div.attr("data-api-send-suffix").split(","):[];for(var t=0;t<this.endpoints.length;t++)this.endpoints[t]=this.endpoints[t].split("||ID||").join(this.getItemID());this.formMethod=this.div.attr("data-form-method")||"PUT",this.showUrlMessages(),this.redirectAfterSubmissionPath=void 0===this.div.attr("data-account-route")||void 0===this.urls[this.div.attr("data-account-route")]?this.urls.profile:this.urls[this.div.attr("data-account-route")],this.myAccountListen()},ByronHamburgers.Modules.ModuleMyAccount.prototype.showUrlMessages=function(){for(var t,e,n=window.location.search.substring(1).split("&"),o=0;o<n.length;o++)n[o].indexOf("message=")>-1&&(t=!0,n.splice(o,1));t&&(ByronHamburgers.Signals.messager.dispatch("create",{text:"Your changes have been saved.",colour:"olive"}),e=n.length?"?"+n.join("&"):"",window.history.replaceState({},document.title,window.location.href.split("?")[0]+e))},ByronHamburgers.Modules.ModuleMyAccount.prototype.getItemID=function(){if(ByronHamburgers.helper.DEBUG_MODE===!0)return ByronHamburgers.helper.getQueryString("id");var t=document.location.href.split("/");return""!==t[t.length-1]?t[t.length-1]:t[t.length-2]},ByronHamburgers.Modules.ModuleMyAccount.prototype.accountEvent=function(t){"ready"===t&&this.loadRestaurantData()},ByronHamburgers.Modules.ModuleMyAccount.prototype.loadRestaurantDataAfter=function(){this.getNextEndpoint();var t,e,n,o=this.div.find("div[data-dictionary-value], span[data-dictionary-value]");for(n=0;n<o.length;n++)t=$(o[n]),e=t.attr("data-dictionary-value").split(","),t.text(this.dictionaryFetch(e[0],e[1]));var i=this.div.find(".intro-panel .table-wrapper");for(i.length&&""===$(i).find("span").html()&&$(i).find("span, .split").remove(),o=this.div.find("a"),n=0;n<o.length;n++)t=$(o[n]),void 0!==t.attr("href")&&0===t.attr("href").indexOf("urls.")&&void 0!==this.urls[t.attr("href").substr(5)]&&t.attr("href",this.urls[t.attr("href").substr(5)])},ByronHamburgers.Modules.ModuleMyAccount.prototype.getNextEndpoint=function(){"PersonalDetails"===this.endpoints[this.endpoint]||"RestaurantUpdateSubscriptions"===this.endpoints[this.endpoint]?this.templateInit(ByronHamburgers.helper.account.responseData[this.endpoints[this.endpoint]],this.endpoints[this.endpoint],"GET"):ByronHamburgers.helper.account.apiCall(this.endpoints[this.endpoint],"GET",{},this.templateInit,this,this.apiCallFail)},ByronHamburgers.Modules.ModuleMyAccount.prototype.templateInit=function(t,e,n){var o=Handlebars.templates[this.templates[this.endpoint]+".hbs"],i=$("#templateInsert-"+this.endpoint),a="singleTree";if(o&&o.length&&("MyAccountWalletAddAddress"!==this.templates[this.endpoint]||void 0!==t[0])){"[object Array]"===Object.prototype.toString.call(t)&&(a="arrayTree");for(var s in t)if(null!==t[s]&&"null"!==t[s]||(t[s]=""),"dateOfBirth"===s){var r=this.dateFormatting(t.dateOfBirth);t.day=r.day,t.month=r.month,t.year=r.year}if(t.gender_display=void 0!==t.gender&&void 0!==this.dictionary.profile_information["gender_display_"+t.gender.toLowerCase()]?this.dictionary.profile_information["gender_display_"+t.gender.toLowerCase()]:"","RestaurantUpdateSubscriptions"===e&&"GET"===n)for(var l=0;l<t.length;l++)t[l]={crmId:t[l].restaurantId,name:this.getRestaurantNameFromID(t[l].restaurantId)};t.dictionary=this.dictionary,t.urls=this.urls,t.restaurants=this.restaurants,t.favouriteByronName=void 0!==t.favouriteByron?this.getRestaurantNameFromID(t.favouriteByron):"",i.html(this.parseTemplate(o,t)),ByronHamburgers.helper.html.processElements(i),this.pageEvents(t,a)}this.endpoint++,this.endpoint<this.endpoints.length?this.getNextEndpoint():($(".loader-holder").addClass("loader-holder--complete"),this.formInit())},ByronHamburgers.Modules.ModuleMyAccount.prototype.parseTemplate=function(t,e){var n=$(t(e));return n},ByronHamburgers.Modules.ModuleMyAccount.prototype.toggleFormsInit=function(){var t,e,n,o,i,a,s=this.div.find(".toggle-form");for(i=0;i<s.length;i++)if(t=$(s[i]),e=this.div.find('input[name="'+t.attr("data-toggle")+'"], select[name="'+t.attr("data-toggle")+'"]'),e.length){for(n=t.find("select, input"),a=0;a<n.length;a++)o=$(n[a]),o.attr("data-validate-restore",void 0!==o.attr("data-validate")?o.attr("data-validate"):"0");this.toggleForm(t,e,0),e.on("change",function(t,e){this.toggleForm(t,e)}.bind(this,t,e))}},ByronHamburgers.Modules.ModuleMyAccount.prototype.getToggleValue=function(t){return t.is(":checkbox")?t.is(":checked"):""===t.val()},ByronHamburgers.Modules.ModuleMyAccount.prototype.toggleForm=function(t,e,n){n=void 0===n?500:n;for(var o,i=this.getToggleValue(e),a=t.find("select, input"),s=0;s<a.length;s++)o=$(a[s]),o.attr("data-validate",i&&"1"===o.attr("data-validate-restore")?"1":"0");
i?t.fadeIn(n):t.hide()},ByronHamburgers.Modules.ModuleMyAccount.prototype.getRestaurantNameFromID=function(t){for(var e="",n=0;n<this.restaurants.length;n++)this.restaurants[n].crm_id===t&&(e=this.restaurants[n].nameDisplay);return e},ByronHamburgers.Modules.ModuleMyAccount.prototype.pageEvents=function(t,e){$.each($("form select"),function(t){var e=$("form select").eq(t).data("value");$("form select").eq(t).val(e)}),"arrayTree"!==e||"Addresses"!==this.endpoints[0]&&"PaymentCards"!==this.endpoints[0]||this.bindDeleteButtons(),ByronHamburgers.helper.forms.initElements(this.div)},ByronHamburgers.Modules.ModuleMyAccount.prototype.bindDeleteButtons=function(){for(var t,e=$(".button--delete"),n=0;n<e.length;n++)t=$(e[n]),t.on("click",function(t,e){e.preventDefault(),this.confirmWindow=window.confirm(this.endpoints[0].indexOf("Addresses")!==-1?this.dictionaryFetch("address_book","delete_confirm"):this.dictionaryFetch("wallet","delete_confirm")),this.confirmWindow&&this.deleteItem(t)}.bind(this,t.attr("data-delete-id")))},ByronHamburgers.Modules.ModuleMyAccount.prototype.deleteItem=function(t){ByronHamburgers.helper.account.apiCall(this.endpoints[0]+"/"+t,"DELETE",{},this.deleteItemSuccess,this,this.apiCallFail)},ByronHamburgers.Modules.ModuleMyAccount.prototype.deleteItemSuccess=function(){document.location.reload()},ByronHamburgers.Modules.ModuleMyAccount.prototype.formInit=function(){var t,e=this.div.find("form");if(e.length)for(var n=0;n<e.length;n++)t=$(e[n]),t.on("submit",function(t,e){e.preventDefault(),this.form=t,this.formSubmit(t)}.bind(this,t));this.toggleFormsInit()},ByronHamburgers.Modules.ModuleMyAccount.prototype.formSubmit=function(t){ByronHamburgers.helper.forms.toggleLoadSpinner(this.form.find(".button__content"),!1);var e=ByronHamburgers.helper.forms.validate(t,"full");if(e.result===!0){ByronHamburgers.helper.forms.toggleLoadSpinner(this.form.find(".button__content"),!0);var n=ByronHamburgers.helper.forms.createSendObject(e.data);if(void 0!==e.data.day&&void 0!==e.data.month&&void 0!==e.data.year&&""!==e.data.day.value&&""!==e.data.month.value&&""!==e.data.year.value&&(n.dateOfBirth=e.data.year.value+"-"+e.data.month.value+"-"+e.data.day.value+"T00:00:00.000Z"),void 0!==n.existingBillingAddressId)if(""!==n.existingBillingAddressId)for(var o in n)0===o.indexOf("newBillingAddress")&&delete n[o];else delete n.existingBillingAddressId;for(var i=0;void 0!==e.data["crmId"+i];)e.data["crmId"+i].checked||ByronHamburgers.helper.account.restaurantSubscription(e.data["crmId"+i].checkedValue,!1),i++;var a=t.find("[data-endpoint]").data("endpoint")||this.endpoints[0];ByronHamburgers.helper.account.apiCall(a,this.formMethod,n,this.apiCallSuccess,this,this.apiCallFail)}},ByronHamburgers.Modules.ModuleMyAccount.prototype.apiCallSuccess=function(t){if("PaymentCards"===this.endpoints[0]&&"POST"===this.formMethod)$("#paymentIframe").removeAttr("hidden").attr("src",t.redirectUrl),$("form").hide();else{var e=this.redirectAfterSubmissionPath;e+=e.indexOf("?")>-1?"&":"?",window.location.href=e+"message=confirm"}},ByronHamburgers.Modules.ModuleMyAccount.prototype.apiCallFail=function(t,e,n){if(this.form&&t&&t.modelState)for(var o in t.modelState){var i=o.substr(o.indexOf(".")+1,o.length);i=i.charAt(0).toLowerCase()+i.slice(1),ByronHamburgers.Utilities.FormManager.prototype.itemError(this.form.find('input[name="'+i+'"]'),t.modelState[o])}else if(t&&t.message){var a=t.message;0===e.indexOf("Addresses/")&&"DELETE"===n&&(a="To delete this address you need to remove all associated cards first."),ByronHamburgers.Signals.messager.dispatch("create",{text:a,colour:"red"})}else ByronHamburgers.Signals.messager.dispatch("create",{text:"Something went wrong, please check your connection and refresh the page and try again.",colour:"red"});this.form?ByronHamburgers.helper.forms.toggleLoadSpinner(this.form.find(".button__content"),!1):null},ByronHamburgers.Modules.ModuleMyAccount.prototype.handlebarsHelpers=function(){Handlebars.registerHelper("formatDate",function(t){return this.dateFormatting(t).fullDate}.bind(this)),Handlebars.registerHelper("ifCond",function(t,e,n,o){switch(e){case"==":return t===n?o.fn(this):o.inverse(this);default:return o.inverse(this)}})},ByronHamburgers.Modules.ModuleMyAccount.prototype.dateFormatting=function(t){if(""===t)return{day:"",month:"",year:"",fullDate:""};var e=new Date(t),n=e.getDate()<10?"0"+e.getDate():e.getDate(),o=e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1,i=e.getFullYear();return{day:n,month:o,year:i,fullDate:n+"/"+o+"/"+i}},ByronHamburgers.Modules.ModuleNewsFilter=function(t,e){this.items=[],this.filterCurrent="all",this.init(t,e)},ByronHamburgers.Modules.ModuleNewsFilter.prototype=new ByronHamburgers.Modules.ModuleTemplate,ByronHamburgers.Modules.ModuleNewsFilter.constructor=ByronHamburgers.Modules.ModuleNewsFilter,ByronHamburgers.Modules.ModuleNewsFilter.prototype.construct=function(){ByronHamburgers.helper.forms.initElements(this.div);for(var t,e=$(".module--news-overview-article"),n=0;n<e.length;n++)t=$(e[n]),this.items.push({item:t,active:!0,filter:t.attr("data-filter")});console.log(this.items),this.filterBox=$("#news-filter"),this.filterBox.on("change",function(){this.setFilter()}.bind(this))},ByronHamburgers.Modules.ModuleNewsFilter.prototype.setFilter=function(){var t=this.filterBox.val();if(t!==this.filterCurrent){for(var e=0,n=0;n<this.items.length;n++)"all"===t||t===this.items[n].filter?this.items[n].active||(this.items[n].item.delay(50*e).fadeIn(500),this.items[n].active=!0,e++):(this.items[n].item.fadeOut(0),this.items[n].active=!1);this.filterCurrent=t}},ByronHamburgers.Modules.ModuleFind=function(t,e){this.firstSearchDone=!1,this.firstSearchComplete=!1,this.collapseDone=!1,this.listAll=!0,this.dropdownList=[],this.markers=[],this.results=[],this.resultsNearby=!1,this.resultItems=[],this.resultsIterator=0,this.search={type:"",input:"",origin:{lng:0,lat:0}},this.init(t,e)},ByronHamburgers.Modules.ModuleFind.prototype=new ByronHamburgers.Modules.ModuleTemplate,ByronHamburgers.Modules.ModuleFind.constructor=ByronHamburgers.Modules.ModuleFind,ByronHamburgers.Modules.ModuleFind.prototype.construct=function(){this.mapLoader=this.addLoaderToElement($("#map")),this.viewAllButton=$("#button-restaurants-all"),this.viewAllButton.on("click",function(){this.manageRestaurantList(!0)}.bind(this)),this.resultsMore=$(".results__more"),this.resultsMore.fadeOut(0),$("#button-restaurants-more").on("click",function(){this.showMoreResults()}.bind(this)),$(".find-content--results").fadeOut(0),this.initDropdowns(),this.loadRestaurantData(),this.mapHolder=this.div.find(".find-content--map"),this.bindMapButtons()},ByronHamburgers.Modules.ModuleFind.prototype.bindMapButtons=function(){for(var t,e=$(".map__button"),n=0;n<e.length;n++)t=$(e[n]),t.on("click",function(t){this.mapButtonAction(t)}.bind(this,t.attr("data-map-action")))},ByronHamburgers.Modules.ModuleFind.prototype.mapButtonAction=function(t){"toggle"===t?(console.log("toggling"),this.mapExpandToggle()):"zoom-in"===t&&this.map?this.map.setZoom(this.map.getZoom()+1):"zoom-out"===t&&this.map&&this.map.setZoom(this.map.getZoom()-1)},ByronHamburgers.Modules.ModuleFind.prototype.loadRestaurantDataAfter=function(){this.firstSearchInit()},ByronHamburgers.Modules.ModuleFind.prototype.initDropdowns=function(){var t,e,n,o,i,a=this.div.find(".find-list");for(e=0;e<a.length;e++)for(t=$(a[e]),o=t.find(".find-list__column"),n=o.length-1;n>=0;n--)if(i=$(o[n]).find("li:last-of-type"),i.length){this.dropdownList.push({item:t,region:t.attr("data-region"),intro:t.find("h3"),last:i}),t.find("h3,.icon").on("click",function(t){this.dropdownToggle(t)}.bind(this,e));break}},ByronHamburgers.Modules.ModuleFind.prototype.dropdownToggle=function(t){this.dropdownList[t].open?(this.dropdownList[t].open=!1,this.dropdownList[t].item.removeClass("open"),this.dropdownList[t].item.css("height",this.dropdownList[t].height_closed+"px")):"m"!==this.layout&&"s"!==this.layout||(this.dropdownList[t].open=!0,this.dropdownList[t].item.addClass("open"),this.dropdownList[t].item.css("height",this.dropdownList[t].height_open+"px"))},ByronHamburgers.Modules.ModuleFind.prototype.mobileDropdownsInit=function(t){t=void 0===t||t;for(var e,n=0;n<this.dropdownList.length;n++)e=this.dropdownList[n].intro.position().top+this.dropdownList[n].intro.outerHeight()+ByronHamburgers.helper.getGridRowHeight(1),this.dropdownList[n].height_open=ByronHamburgers.helper.getGridRowHeight(2)+Math.ceil((this.dropdownList[n].last.outerHeight()+this.dropdownList[n].last.position().top)/ByronHamburgers.helper.getGridRowHeight())*ByronHamburgers.helper.getGridRowHeight(),this.dropdownList[n].height_closed=Math.ceil(e/ByronHamburgers.helper.getGridRowHeight())*ByronHamburgers.helper.getGridRowHeight(),this.dropdownList[n].open=!(!this.dropdownList[n].item.hasClass("open")||t),"m"!==this.layout&&"s"!==this.layout||this.dropdownList[n].item.css("height",this.dropdownList[n].open?this.dropdownList[n].height_open:this.dropdownList[n].height_closed),t&&this.dropdownList[n].item.removeClass("open")},ByronHamburgers.Modules.ModuleFind.prototype.setLayoutModeAfter=function(){if("s"!==this.layout&&"m"!==this.layout||"xl"!==this.layoutLast&&"l"!==this.layoutLast&&""!==this.layoutLast){if(!("xl"!==this.layout&&"l"!==this.layout||"s"!==this.layoutLast&&"m"!==this.layoutLast&&""!==this.layoutLast))for(var t=0;t<this.dropdownList.length;t++)this.dropdownList[t].item.css("height","auto")}else this.mobileDropdownsInit()},ByronHamburgers.Modules.ModuleFind.prototype.onMapReadyAfter=function(){this.geocoder=new google.maps.Geocoder,this.distanceCalculator=new google.maps.DistanceMatrixService,this.firstSearchInit()},ByronHamburgers.Modules.ModuleFind.prototype.firstSearchInit=function(){if(!this.firstSearchDone&&this.restaurantsLoaded&&this.mapReady){var t=this.getAutoSearchLocation(!0);""!==t?t===ByronHamburgers.helper.getConfigItem("search-nearby-id")?this.locationFetch():this.searchByUserInput(t):this.searchByIP(this.div.attr("data-ip"),"ip"),this.firstSearchDone=!0}},ByronHamburgers.Modules.ModuleFind.prototype.searchByUserInput=function(t){this.search.input=t,t+=", uk",this.geocoder.geocode({address:t},function(t,e){"OK"===e&&this.processResults(t[0].geometry.location.lng(),t[0].geometry.location.lat(),"user")}.bind(this))},ByronHamburgers.Modules.ModuleFind.prototype.searchByIP=function(t,e){this.search.input="ip"===e?t:ByronHamburgers.helper.getConfigItem("search-nearby-id"),$.ajax({url:"https://freegeoip.net/json/"+t,data:{},success:function(t){this.processResults(t.longitude,t.latitude,e)}.bind(this),dataType:"json"})},ByronHamburgers.Modules.ModuleFind.prototype.processResults=function(t,e,n){"user"===n&&this.collapseContent(),this.mapSetup({lng:t,lat:e}),this.search.type=n,this.search.origin={lng:t,lat:e},this.results=this.createSortedList(e,t,n,!1),this.resultsNearby=!0,0===this.results.length&&(this.resultsNearby=!1,this.results=this.createSortedList(e,t,n,!0)),this.resultsIterator=0,this.resultItems=[];for(var o=0;o<this.markers.length;o++)this.markers[o].setMap(null);if(this.markers=[],$(".results__list").html(""),!this.firstSearchComplete){if(this.results.length>0)for(var i=0;i<this.dropdownList.length;i++)if(this.dropdownList[i].region===this.restaurants[this.results[0].id].region){this.dropdownList[i].item.insertAfter(this.dropdownList[i].item.parent().find("h2")),this.resized();break}this.firstSearchComplete=!0}if("user"===n){var a=this.makeMapMarker({lng:t,lat:e},{title:"You",icon:"you"});this.markers.push(a)}this.showNextResults()},ByronHamburgers.Modules.ModuleFind.prototype.collapseContent=function(){this.collapseDone||(ByronHamburgers.Signals.modules.dispatch("module-collapse",{id:0}),$(".map__message-ip").fadeOut(500),$(".find-content--map .topper").fadeOut(500),$("#page-section-find-results").removeClass("hide"),$(".find-content--results").fadeIn(500),this.manageRestaurantList(!1),this.collapseDone=!0)},ByronHamburgers.Modules.ModuleFind.prototype.manageRestaurantList=function(t){t&&!this.listAll?($(".find-list").fadeIn(500),this.viewAllButton.addClass("hide")):!t&&this.listAll&&($(".find-list").fadeOut(500),this.viewAllButton.removeClass("hide")),this.listAll=t},ByronHamburgers.Modules.ModuleFind.prototype.distanceFetch=function(t,e,n,o){this.distanceCalculator.getDistanceMatrix({origins:t,destinations:e,travelMode:n.toUpperCase(),unitSystem:google.maps.UnitSystem.IMPERIAL,avoidHighways:!1,avoidTolls:!1},function(t,e,n,o){"OK"===o&&this.distanceFetchProcess(n,t,e)}.bind(this,n,o))},ByronHamburgers.Modules.ModuleFind.prototype.distanceFetchProcess=function(t,e){for(var n,o=t.rows[0].elements,i=0;i<o.length;i++)n=o[i],this.resultItems[this.locationLookups[e].keys[i]].find("p.distance-data--loading").addClass("distance-data--hidden"),this.resultItems[this.locationLookups[e].keys[i]].find("p.distance-data--"+e).removeClass("distance-data--hidden"),this.resultItems[this.locationLookups[e].keys[i]].find("p.distance-data--"+e+" span:nth-of-type(2)").html(n.distance.text.split("mi").join("miles")),this.resultItems[this.locationLookups[e].keys[i]].find("p.distance-data--"+e+" span:nth-of-type(4)").html(n.duration.text)},ByronHamburgers.Modules.ModuleFind.prototype.showNextResults=function(){var t,e,n=Math.min(this.resultsIterator+ByronHamburgers.helper.getConfigItem("search-perpage-"+this.search.type),this.results.length);this.locationLookups={driving:{points:[],keys:[]},walking:{points:[],keys:[]}};var o,i,a=new Date;if("user"===this.search.type){var s=this.div.attr(this.resultsNearby?"data-message-results":"data-message-results-none"),r=1===n?"Byron restaurant":n+" Byron restaurants";s=s.split("XXX").join(r),s=s.split("YYY").join(ByronHamburgers.helper.getConfigItem("search-max-distance-"+this.search.type)),s=s.split("ZZZ").join(this.search.input===ByronHamburgers.helper.getConfigItem("search-nearby-id")?"your location":'"'+this.search.input+'"'),$(".results__info").html(s)}else $(".results__info").html("");for(var l=this.resultsIterator;l<n;l++)e={title:this.restaurants[this.results[l].id].name,icon:("ip"===this.search.type,"restaurantSmallBlank")},"user"===this.search.type?e.label={color:"white",text:(l+1).toString(),fontFamily:'"Knockout 48 A", "Knockout 48 B"',fontSize:"18px"}:e.label={color:"white",text:"B",fontFamily:'"PlantinMTPro-BoldCondensed"',fontSize:"20px"},t=this.makeMapMarker(this.results[l].position,e),t.addListener("click",function(t){document.location.href="/"+t+"/"}.bind(this,this.restaurants[this.results[l].id].id)),this.markers.push(t),"user"===this.search.type&&(o=Handlebars.templates["SearchResult.hbs"]({number:l+1,restaurant:this.restaurants[this.results[l].id],distance:(Math.round(100*this.results[l].distance)/100).toString()+" miles",opening_hours:this.restaurants[this.results[l].id].hours[a.getDay()]}),i=$(o),this.resultItems.push(i),$(".results__list").append(i),i.fadeOut(0).fadeIn(500)),this.locationLookups[this.results[l].distance>.5?"driving":"walking"].points.push(this.results[l].position),this.locationLookups[this.results[l].distance>.5?"driving":"walking"].keys.push(l);"user"===this.search.type&&(this.locationLookups.walking.points.length>0&&this.distanceFetch([this.search.origin],this.locationLookups.walking.points,"walking"),this.locationLookups.driving.points.length>0&&this.distanceFetch([this.search.origin],this.locationLookups.driving.points,"driving")),this.resultsIterator=n,ByronHamburgers.helper.html.processElements($(".results__list")),this.resultsIterator<this.results.length?this.resultsMore.fadeIn(500):this.resultsMore.fadeOut(300),this.mapFitTimer()},ByronHamburgers.Modules.ModuleFind.prototype.showMoreResults=function(){this.resultsIterator<this.results.length&&this.showNextResults()},ByronHamburgers.Modules.ModuleFind.prototype.mapFitTimer=function(){this.mapFix(),this.mapFitTimeout&&(clearTimeout(this.mapFitTimeout),this.mapFitTimeout=null),this.mapFitTimeout=setTimeout(function(){this.mapFitToMarkers()}.bind(this),250)},ByronHamburgers.Modules.ModuleFind.prototype.mapFitToMarkers=function(){this.bounds=new google.maps.LatLngBounds;for(var t=0;t<this.markers.length;t++)this.bounds.extend(this.markers[t].getPosition());var e=new google.maps.LatLng(this.bounds.getSouthWest().lat()-.002,this.bounds.getSouthWest().lng()-.002),n=new google.maps.LatLng(this.bounds.getNorthEast().lat()+.002,this.bounds.getNorthEast().lng()+.002);this.bounds.extend(e),this.bounds.extend(n),this.map.fitBounds(this.bounds),this.mapFix()},ByronHamburgers.Modules.ModuleFind.prototype.resized=function(){if(this.map&&this.bounds)if(this.mapHolder.hasClass("find-content--map--expanded")){var t=this.map.getCenter();google.maps.event.trigger(this.map,"resize"),this.map.setCenter(t)}else this.mapFitTimer();"m"!==this.layout&&"s"!==this.layout||this.mobileDropdownsInit(!1)},ByronHamburgers.Modules.ModuleFind.prototype.mapSetup=function(t){if(void 0===this.map){var e={draggable:!1,scrollwheel:!1,panControl:!1,center:t,mapTypeId:google.maps.MapTypeId.ROADMAP,disableDefaultUI:!0,zoom:16,maxZoom:20,minZoom:6,styles:window.googleMapsStyling["default"]};this.mapInit(e)}else this.map.setCenter(t),this.mapFix()},ByronHamburgers.Modules.ModuleFind.prototype.createSortedList=function(t,e,n,o){for(var i,a=[],s=0;s<this.restaurants.length;s++)i=ByronHamburgers.helper.distanceCalculate({lng:e,lat:t},{lng:this.restaurants[s].longitude,lat:this.restaurants[s].latitude}),(i<ByronHamburgers.helper.getConfigItem("search-max-distance-"+n)||o)&&a.push({id:s,distance:i,position:{lng:this.restaurants[s].longitude,lat:this.restaurants[s].latitude}});return a.sort(function(t,e){return parseFloat(t.distance)-parseFloat(e.distance)}),o?a.splice(1):a.length>parseInt(ByronHamburgers.helper.getConfigItem("search-max-results-"+n))&&a.splice(parseInt(ByronHamburgers.helper.getConfigItem("search-max-results-"+n))),a},ByronHamburgers.Modules.ModuleFind.prototype.moduleEventAfter=function(t,e){"search-init"===t&&(e.location===ByronHamburgers.helper.getConfigItem("search-nearby-id")?this.locationFetch():this.search.input!==e.location&&this.searchByUserInput(e.location))},ByronHamburgers.Modules.ModuleFind.prototype.locationReceived=function(t){this.search.input=ByronHamburgers.helper.getConfigItem("search-nearby-id"),this.processResults(t.coords.longitude,t.coords.latitude,"user")},ByronHamburgers.Modules.ModuleFind.prototype.locationError=function(){this.searchByIP(this.div.attr("data-ip"),"user")},ByronHamburgers.Modules.ModuleFind.prototype.mapExpandToggle=function(t){t=void 0===t?!this.mapHolder.hasClass("find-content--map--expanded"):t,this.mapHolder.hasClass("find-content--map--expanded")!==t&&(t?(this.mapHolder.addClass("find-content--map--expanded fixed-offset-item"),$("body,html").addClass("no-scroll"),this.map.setOptions({draggable:!0}),$(window).scrollTop(0)):(this.mapHolder.removeClass("find-content--map--expanded fixed-offset-item"),$("body,html").removeClass("no-scroll"),this.map.setOptions({draggable:!1})),this.mapFitTimer())},ByronHamburgers.Modules.ModuleRestaurantMap=function(t,e){this.init(t,e)},ByronHamburgers.Modules.ModuleRestaurantMap.prototype=new ByronHamburgers.Modules.ModuleTemplate,ByronHamburgers.Modules.ModuleRestaurantMap.constructor=ByronHamburgers.Modules.ModuleRestaurantMap,ByronHamburgers.Modules.ModuleRestaurantMap.prototype.construct=function(){this.mapLoader=this.addLoaderToElement($("#map")),this.mapHolder=this.div,this.bindMapButtons()},ByronHamburgers.Modules.ModuleRestaurantMap.prototype.bindMapButtons=function(){for(var t,e=$(".map__button"),n=0;n<e.length;n++)t=$(e[n]),t.on("click",function(t){this.mapButtonAction(t)}.bind(this,t.attr("data-map-action")))},ByronHamburgers.Modules.ModuleRestaurantMap.prototype.mapButtonAction=function(t){"toggle"===t?this.mapExpandToggle():"zoom-in"===t&&this.map?this.map.setZoom(this.map.getZoom()+1):"zoom-out"===t&&this.map&&this.map.setZoom(this.map.getZoom()-1)},ByronHamburgers.Modules.ModuleRestaurantMap.prototype.onMapReadyAfter=function(){this.mapCentre={lat:parseFloat(this.div.attr("data-map-latitude")),lng:parseFloat(this.div.attr("data-map-longitude"))};var t={draggable:!0,scrollwheel:!1,panControl:!1,maxZoom:20,minZoom:6,zoom:18,center:this.mapCentre,mapTypeId:google.maps.MapTypeId.ROADMAP,disableDefaultUI:!0,styles:window.googleMapsStyling["default"]};this.mapInit(t),this.makeMapMarker(t.center,{title:"Byron Hamburgers!",icon:"restaurantBig"})},ByronHamburgers.Modules.ModuleRestaurantMap.prototype.resized=function(){this.map&&this.mapFitTimer()},ByronHamburgers.Modules.ModuleRestaurantMap.prototype.mapFitTimer=function(){this.mapFix(),this.mapFitTimeout&&(clearTimeout(this.mapFitTimeout),this.mapFitTimeout=null),this.mapFitTimeout=setTimeout(function(){this.map.setCenter(this.mapCentre)}.bind(this),250)},ByronHamburgers.Modules.ModuleRestaurantMap.prototype.mapExpandToggle=function(t){t=void 0===t?!this.mapHolder.hasClass("map-expanded"):t,this.mapHolder.hasClass("map-expanded")!==t&&(t?(this.mapHolder.addClass("map-expanded fixed-offset-item"),$("body,html").addClass("no-scroll"),$(window).scrollTop(0)):(this.mapHolder.removeClass("map-expanded fixed-offset-item"),$("body,html").removeClass("no-scroll"),ByronHamburgers.helper.scrollToElement(this.div,{xl:ByronHamburgers.helper.getGridRowHeight(-4),l:ByronHamburgers.helper.getGridRowHeight(-4),m:ByronHamburgers.helper.getGridRowHeight(-2),s:ByronHamburgers.helper.getGridRowHeight(-2)})),this.mapFitTimer())},ByronHamburgers.Modules.Elements.ElementTemplate=function(t,e){void 0!==t&&void 0!==e&&this.init(t,e)},ByronHamburgers.Modules.Elements.ElementTemplate.constructor=ByronHamburgers.Modules.Elements.ElementTemplate,ByronHamburgers.Modules.Elements.ElementTemplate.prototype.init=function(t,e){this.config=e,this.div=t,this.construct()},ByronHamburgers.Modules.Elements.ElementTemplate.prototype.construct=function(){},ByronHamburgers.Modules.Elements.ElementBook=function(t,e){this.apiCallCount=0,this.isTransitioning=!1,this.transitionSpeed=500,this.bookingReference="",this.bookingID="",this.sendData={},this.init(t,e)},ByronHamburgers.Modules.Elements.ElementBook.prototype=new ByronHamburgers.Modules.Elements.ElementTemplate,ByronHamburgers.Modules.Elements.ElementBook.constructor=ByronHamburgers.Modules.Elements.ElementBook,ByronHamburgers.Modules.Elements.ElementBook.prototype.construct=function(){this.titleMain=this.div.find("h2:first-of-type"),this.bodyMain=this.div.find("p.intro").first(),this.subtitle=this.div.find("h3"),this.splits=this.div.find(".split"),this.hasTelephoneNumber=this.bodyMain.hasClass("telephone"),this.backButton=this.div.find(".book-button-wrapper"),this.backButton.on("click",function(){"book-cancel-find-error"!==this.pageCurrent&&"book-cancel"!==this.pageCurrent&&"book-cancel-error"!==this.pageCurrent?this.pageSwitch("book-info-1",1):this.pageSwitch("book-cancel-find",1)}.bind(this)),this.backButton.fadeOut(0),this.pages={"book-info-1":{div:$("#form-page-1"),form:$("#form-book-restaurant"),title:this.titleMain.html(),body:this.bodyMain.html()},"book-info-2":{div:$("#form-page-2"),form:$("#form-book-details"),title:"Contact Details",body:"Let us know your contact details to continue your booking."},"book-info-3":{div:$("#form-page-3"),form:$("#form-book-confirm"),title:"Confirm",body:"||date|| at ||time|| for ||people|| at Byron ||restaurant||"},"book-send":{div:"",form:"",title:"Please wait",body:"We are processing your booking..."},"book-success":{div:$("#form-page-4"),form:"",title:"All set!",body:"||date|| at ||time|| for ||people|| at Byron ||restaurant|| - ||restaurant_phone||<br/>||first_name|| ||last_name||, ||email||, ||phone_number||<br/><br/><br/>||booking_ref||"},"book-error":{div:"",form:"",title:"Oh dear!",body:"We encountered a problem during the booking process, please try again later."},"book-cancel-find":{div:$("#form-page-cancel-find"),form:$("#form-book-cancel-find"),title:"Cancel Booking",body:"Please enter your booking reference number and email."},"book-cancel-find-send":{div:"",form:"",title:"Please wait",body:"Searching for your booking..."},"book-cancel-find-error":{div:"",form:"",title:"Oh dear!",body:'We were unable to find a booking with reference ||booking_ref_short|| for the email address ||cancel_email||, please check your details and <a href="action:book-cancel">try again</a>.'},"book-cancel":{div:$("#form-page-cancel"),form:$("#form-book-cancel"),title:"Cancel Booking",body:"||date|| at ||time|| for ||people|| at ||restaurant|| - ||restaurant_phone||<br/>||first_name|| ||last_name||, ||email||<br/><br/>||booking_ref||"},"book-cancel-send":{div:"",form:"",title:"Please wait",body:"Cancelling your booking..."},"book-cancel-error":{div:"",form:"",title:"Oh dear!",body:'We were unable to cancel your booking with reference ||booking_ref_short|| for the email address ||cancel_email||, please check your details and <a href="action:book-cancel">try again</a>.'},"book-cancel-success":{div:$("#form-page-cancel-success"),form:$("#form-book-cancel-success"),title:"Thank You",body:"Your booking has been successfully cancelled."}},this.pageCurrent=document.location.href.indexOf("/cancel")===-1?"book-info-1":"book-cancel-find",this.formsInit(),this.calendar=new ByronHamburgers.Modules.Elements.ElementCalendar(this.div.find("#calendar-book"),{months:2,field_date:$("#book-date"),field_time:$("#book-time"),field_display:$("#book-date-time"),change_callback:this.formChanged,change_callback_scope:this}),this.fields={restaurant:$("#book-restaurant"),"date-time":$("#book-date-time"),date:$("#book-date"),time:$("#book-time"),people:$("#book-people")},$("#book-date-time").parent().on("click",function(){this.calendar.showHide(!0)}.bind(this)),$(window).on("mousedown",function(){this.calendarCloseCheck()}.bind(this)),ByronHamburgers.helper.forms.initElements($("body")),$("#book-restaurant,#book-people,#book-time,#book-date").on("change",function(t){this.formChanged(t)}.bind(this))},ByronHamburgers.Modules.Elements.ElementBook.prototype.testing=function(){},ByronHamburgers.Modules.Elements.ElementBook.prototype.formsInit=function(){for(var t in this.pages)""!==this.pages[t].form&&(this.pages[t].form.on("submit",function(t,e){return this.formSubmit(t),e.preventDefault(),!1}.bind(this,t)),""!==this.pages[t].div&&this.pages[t].div.find(".button").on("click",function(t){this.formSubmit(t)}.bind(this,t))),t!==this.pageCurrent&&""!==this.pages[t].div?this.pages[t].div.fadeOut(0):t===this.pageCurrent&&""!==this.pages[t].div&&this.pages[t].div.fadeIn(0);this.setPageContent()},ByronHamburgers.Modules.Elements.ElementBook.prototype.formSubmit=function(t){var e=ByronHamburgers.helper.forms.validate(this.pages[this.pageCurrent].form);if(e.result){for(var n in e.data)this.sendData[n]=e.data[n];"book-info-1"===t||"book-info-2"===t?this.pageSwitch("book-info-1"===t?"book-info-2":"book-info-3",1):"book-info-3"===t?this.pageSwitch("book-send",1):"book-cancel-find"===t?this.pageSwitch("book-cancel-find-send",1):"book-cancel"===t?this.pageSwitch("book-cancel-send",1):"book-cancel-success"===t&&this.pageSwitch("book-info-1",1)}},ByronHamburgers.Modules.Elements.ElementBook.prototype.calendarCloseCheck=function(){this.fields.restaurant.is(":hover")||this.fields.people.is(":hover")||this.calendar.div.is(":hover")||!this.calendar.isActive||this.calendar.showHide(!1)},ByronHamburgers.Modules.Elements.ElementBook.prototype.formChanged=function(t){if(void 0!==t&&"book-date"===t.target.id?this.calendar.setDate(this.fields.date.val(),!1):void 0!==t&&"book-time"===t.target.id&&this.calendar.setTime(this.fields.time.val(),!1),void 0===t||"book-time"!==t.target.id){var e=!0,n={};for(var o in this.fields){if(("date"===o||"people"===o||"restaurant"===o)&&""===this.fields[o].val()){console.log("NOT VALID:"+o),e=!1;break}n[o]=this.fields[o].val()}e?this.getApiData("times",n,this,this.getTimesComplete):this.calendar.isActive&&setTimeout(function(){this.calendar.showHide(!1)}.bind(this),50)}},ByronHamburgers.Modules.Elements.ElementBook.prototype.getApiData=function(t,e,n,o){"times"===t&&this.calendar.clearTimes(!0),e.method=t,$.ajax({type:"POST",url:ByronHamburgers.helper.paths.api+"bat.php",data:e,error:function(t,n,o){t===this.apiCallCount&&"OK"===e.result&&o.apply(n,[!1,{}])}.bind(this,++this.apiCallCount,n,o),success:function(t,e,n,o){t===this.apiCallCount&&("OK"===o.result?n.apply(e,[!0,o]):n.apply(e,[!1,{}]))}.bind(this,++this.apiCallCount,n,o),dataType:"json"})},ByronHamburgers.Modules.Elements.ElementBook.prototype.getTimesComplete=function(t,e){t&&this.calendar.displayTimes(e.times)},ByronHamburgers.Modules.Elements.ElementBook.prototype.pageSwitch=function(t,e){(t!==this.pageCurrent&&!this.isTransitioning&&1===e||t===this.pageCurrent&&this.isTransitioning&&1!==e)&&(1===e?(this.isTransitioning=!0,""!==this.pages[this.pageCurrent].div&&this.pages[this.pageCurrent].div.fadeOut(this.transitionSpeed),this.titleMain.fadeOut(this.transitionSpeed),this.bodyMain.fadeOut(this.transitionSpeed),this.backButton.fadeOut(this.transitionSpeed),this.subtitle.length&&this.subtitle.fadeOut(this.transitionSpeed),this.splits.length&&this.splits.fadeOut(this.transitionSpeed),this.pageCurrent=t,setTimeout(function(t){this.pageSwitch(t,2)}.bind(this,t),this.transitionSpeed),"m"!==this.config.parent.layout&&"s"!==this.config.parent.layout||ByronHamburgers.helper.scrollToElement(this.config.parent.div,{xl:0,l:0,m:0,s:0},250)):2===e?(""!==this.pages[this.pageCurrent].div&&this.pages[this.pageCurrent].div.fadeIn(this.transitionSpeed),this.setPageContent(),setTimeout(function(t){this.pageSwitch(t,3)}.bind(this,t),this.transitionSpeed)):3===e&&(this.pageContentReady(t),this.isTransitioning=!1))},ByronHamburgers.Modules.Elements.ElementBook.prototype.setPageContent=function(){this.titleMain.html(this.parseTextContent(this.pages[this.pageCurrent].title)),this.bodyMain.html(this.parseTextContent(this.pages[this.pageCurrent].body)),this.titleMain.fadeIn(this.transitionSpeed),this.bodyMain.fadeIn(this.transitionSpeed),"book-info-1"===this.pageCurrent?(this.subtitle.length&&this.subtitle.fadeIn(this.transitionSpeed),this.splits.length&&this.splits.fadeIn(this.transitionSpeed),this.hasTelephoneNumber&&this.bodyMain.addClass("telephone")):this.hasTelephoneNumber&&this.bodyMain.removeClass("telephone"),this.initActionLinks(this.bodyMain.find("a")),"book-info-1"!==this.pageCurrent&&this.pageCurrent.indexOf("send")===-1&&this.backButton.fadeIn(this.transitionSpeed)},ByronHamburgers.Modules.Elements.ElementBook.prototype.initActionLinks=function(t){for(var e,n,o=0;o<t.length;o++)e=$(t[o]),0===e.attr("href").indexOf("action:")&&(n=e.attr("href").split(":"),e.on("click",function(t,e){return this.linkAction(t),e.preventDefault(),!1}.bind(this,n[1])),e.attr("href",""))},ByronHamburgers.Modules.Elements.ElementBook.prototype.pageContentReady=function(t){"book-send"===t?this.bookingDo():"book-cancel-find-send"===t?this.bookingFind():"book-cancel-send"===t&&this.bookincCancel()},ByronHamburgers.Modules.Elements.ElementBook.prototype.bookingDo=function(){var t={restaurant:this.sendData["book-restaurant"].value,"restaurant-name":this.sendData["book-restaurant"].display,people:this.sendData["book-people"].value,session:this.sendData["book-time"].attributes["data-session"],datetime:this.sendData["book-date"].value+"T"+this.sendData["book-time"].value+":00",firstname:this.sendData["book-first-name"].value,lastname:this.sendData["book-last-name"].value,email:this.sendData["book-email"].value,phone:this.sendData["book-phone"].value,info:this.sendData["book-special-info"].value};this.getApiData("book",t,this,this.bookingDoComplete)},ByronHamburgers.Modules.Elements.ElementBook.prototype.bookingDoComplete=function(t,e){t&&void 0!==e.book&&void 0!==e.book.ConfirmationNumber?(this.bookingReference=e.book.ConfirmationNumber,this.pageSwitch("book-success",1)):this.pageSwitch("book-error",1)},ByronHamburgers.Modules.Elements.ElementBook.prototype.bookingFind=function(){var t={reference:this.sendData["book-reference"].value,
email:this.sendData["book-cancel-email"].value};this.bookingReference=this.sendData["book-reference"].value,this.getApiData("cancel-find",t,this,this.bookingFindComplete)},ByronHamburgers.Modules.Elements.ElementBook.prototype.bookingFindComplete=function(t,e){t&&void 0!==e.info&&""!==e.info?(this.sendData["book-first-name"]={value:e.info.FirstName},this.sendData["book-last-name"]={value:e.info.LastName},this.sendData["book-email"]=this.sendData["book-cancel-email"],this.sendData["book-phone"]={value:""},this.sendData["book-people"]={value:e.info.Size},this.sendData["book-date"]={value:e.info.DiningDateAndTime.substr(0,10)},this.sendData["book-time"]={value:e.info.DiningDateAndTime.substr(11,5)},this.sendData["book-restaurant"]={value:"Something",attributes:{"data-telephone":e.info.RestaurantPhoneNumber._},display:e.info.Restaurant.Name},this.bookingID=e.info.id,this.pageSwitch("book-cancel",1)):this.pageSwitch("book-cancel-find-error",1)},ByronHamburgers.Modules.Elements.ElementBook.prototype.bookincCancel=function(){var t={reference:this.bookingID};this.getApiData("cancel",t,this,this.bookingCancelComplete)},ByronHamburgers.Modules.Elements.ElementBook.prototype.bookingCancelComplete=function(t,e){t&&void 0!==e.info&&""!==e.info?this.pageSwitch("book-cancel-success",1):this.pageSwitch("book-cancel-error",1)},ByronHamburgers.Modules.Elements.ElementBook.prototype.linkAction=function(t){"book-restart"===t?this.pageSwitch("book-info-1",1):"book-cancel"===t&&this.pageSwitch("book-cancel-find",1)},ByronHamburgers.Modules.Elements.ElementBook.prototype.parseTextContent=function(t){var e=void 0!==this.sendData["book-people"]&&1===parseInt(this.sendData["book-people"].value)?"person":"people",n="book-info-3"===this.pageCurrent?'<a href="action:book-restart">':'<span class="bold">',o="book-info-3"===this.pageCurrent?"</a>":"</span>";return void 0!==this.sendData["book-date"]&&(t=t.split("||date||").join(n+this.calendar.formatDate(this.sendData["book-date"].value,"display")+o),t=t.split("||time||").join(n+this.sendData["book-time"].value+o),t=t.split("||restaurant_phone||").join('<a href="tel:'+this.sendData["book-restaurant"].attributes["data-telephone"]+'">'+this.sendData["book-restaurant"].attributes["data-telephone"]+"</a>"),t=t.split("||people||").join(n+this.sendData["book-people"].value+" "+e+o),t="book-success"===this.pageCurrent?t.split("||restaurant||").join('<a href="/'+this.sendData["book-restaurant"].attributes["data-url"]+'/">'+this.sendData["book-restaurant"].display+"</a>"):t.split("||restaurant||").join(n+this.sendData["book-restaurant"].display+o)),this.sendData["book-first-name"]&&(t=t.split("||first_name||").join(this.sendData["book-first-name"].value),t=t.split("||last_name||").join(this.sendData["book-last-name"].value),t=t.split("||phone_number||").join(this.sendData["book-phone"].value),t=t.split("||email||").join(this.sendData["book-email"].value)),this.sendData["book-cancel-email"]&&(t=t.split("||cancel_email||").join(n+this.sendData["book-cancel-email"].value+o)),t=t.split("||booking_ref||").join("BOOKING REF: "+n+this.bookingReference+o),t=t.split("||booking_ref_short||").join(n+this.bookingReference+o)},ByronHamburgers.Modules.Elements.ElementCalendar=function(t,e){this.dictionary={wait:"Loading times...",time_select:"Select a time...",no_results:"No times available"},this.monthOffset=0,this.monthOffsetMax=void 0!==e.months?e.months:0,this.months=["January","February","March","April","May","June","July","August","September","October","November","December"],this.init(t,e)},ByronHamburgers.Modules.Elements.ElementCalendar.prototype=new ByronHamburgers.Modules.Elements.ElementTemplate,ByronHamburgers.Modules.Elements.ElementCalendar.constructor=ByronHamburgers.Modules.Elements.ElementCalendar,ByronHamburgers.Modules.Elements.ElementCalendar.prototype.construct=function(){this.isActive=!1,this.div.fadeOut(0),this.grid={date:[],time:[]},this.panels={date:$(".calendar__content--date"),time:$(".calendar__content--time")},this.panelCurrent="",this.current={date:"",time:""},this.setState("date",0),this.warning=this.div.find(".calendar__warning-wrapper"),this.warning.fadeOut(0),this.populateGrid("date"),this.populateGrid("time"),this.grid.time[0][0].on("click",function(){this.setState("date")}.bind(this)),this.grid.date[0][0].on("click",function(){this.monthChange(-1)}.bind(this)),this.grid.date[0][2].on("click",function(){this.monthChange(1)}.bind(this)),this.startDate=new Date;for(var t=this.startDate.getDate(),e=this.startDate.getMonth(),n=this.startDate.getFullYear(),o=new Date(n,e,t,0,0,0),i=e,a=0,s=!0;s;)this.config.field_date.append($('<option value="'+this.formatDate(o,"api")+'">'+this.formatDate(o,"display")+"</option>")),o=new Date(n,e,(++t),0,0,0),o.getMonth()!==i&&(i=o.getMonth(),a++,a>this.config.months&&(s=!1));this.displayMonth(this.startDate.getMonth(),this.startDate.getFullYear())},ByronHamburgers.Modules.Elements.ElementCalendar.prototype.showHide=function(t){t!==this.isActive&&(t?this.div.fadeIn(350):this.div.fadeOut(250),this.isActive=t)},ByronHamburgers.Modules.Elements.ElementCalendar.prototype.populateGrid=function(t){var e,n,o,i,a,s=this.panels[t].find(".calendar__row");for(i=0;i<s.length;i++){for(e=$(s[i]),o=[],n=e.find(".calendar__cell"),a=0;a<n.length;a++)o.push($(n[a]));this.grid[t].push(o)}},ByronHamburgers.Modules.Elements.ElementCalendar.prototype.setState=function(t,e){if(e=void 0===e?500:e,this.panelCurrent!==t){for(var n in this.panels)n===t?this.panels[n].fadeIn(e):this.panels[n].fadeOut(e);this.panelCurrent=t}},ByronHamburgers.Modules.Elements.ElementCalendar.prototype.formatDate=function(t,e){return"api"===e?"string"!=typeof t?t.getFullYear()+"-"+ByronHamburgers.helper.padString(t.getMonth()+1,"0",2)+"-"+ByronHamburgers.helper.padString(t.getDate(),"0",2):t:"string"!=typeof t?this.months[t.getMonth()]+" "+ByronHamburgers.helper.getOrdinal(t.getDate()):this.formatDate(new Date(parseInt(t.substr(0,4)),parseInt(t.substr(5,2))-1,parseInt(t.substr(8,2))),e)},ByronHamburgers.Modules.Elements.ElementCalendar.prototype.formatTime=function(t,e){return"api"===e?t:t},ByronHamburgers.Modules.Elements.ElementCalendar.prototype.monthChange=function(t){var e=this.monthOffset+t;e>=0&&e<=this.monthOffsetMax&&(this.monthOffset=e,this.displayMonth(this.startDate.getMonth()+this.monthOffset,this.startDate.getFullYear()))},ByronHamburgers.Modules.Elements.ElementCalendar.prototype.displayMonth=function(t,e){for(var n,o=new Date(e,t,0,0,0,0),i=new Date(e,t,1,0,0,0),a=new Date(e,t+1,0,0,0,0),s=0===i.getDay()?6:i.getDay()-1,r=0,l=0,d=2;d<this.grid.date.length;d++)for(var u=0;u<7;u++)this.grid.date[d][u].removeClass("calendar__cell--disabled calendar__cell--selected"),this.grid.date[d][u].off("click.calendar"),2===d&&u<s?(this.grid.date[d][u].addClass("calendar__cell--disabled"),this.grid.date[d][u].html(o.getDate()-(s-u-1))):r>=a.getDate()?(this.grid.date[d][u].addClass("calendar__cell--disabled"),this.grid.date[d][u].html(++l)):(r<this.startDate.getDate()-1&&t===this.startDate.getMonth()?this.grid.date[d][u].addClass("calendar__cell--disabled"):(n=new Date(e,t,r+1,0,0,0),this.grid.date[d][u].attr("data-date",this.formatDate(n,"api")),this.grid.date[d][u].on("click.calendar",function(t){this.setDate(t,!0)}.bind(this,this.formatDate(n,"api")))),this.grid.date[d][u].html(++r));this.monthOffset>0?this.grid.date[0][0].removeClass("calendar__cell--disabled"):this.grid.date[0][0].addClass("calendar__cell--disabled"),this.monthOffset<this.monthOffsetMax?this.grid.date[0][2].removeClass("calendar__cell--disabled"):this.grid.date[0][2].addClass("calendar__cell--disabled"),this.setTitle("date",this.months[i.getMonth()])},ByronHamburgers.Modules.Elements.ElementCalendar.prototype.setDate=function(t,e){this.current.date!==t&&(this.current.date=t,this.selectCurrentDate(),this.setDisplayValue(!1),this.setTitle("time",this.formatDate(this.current.date,"display")),e&&(this.config.field_date.val(this.current.date),this.config.change_callback.apply(this.config.change_callback_scope)))},ByronHamburgers.Modules.Elements.ElementCalendar.prototype.selectCurrentDate=function(){for(var t=!1,e=2;e<this.grid.date.length;e++)for(var n=0;n<7;n++)void 0!==this.grid.date[e][n].attr("data-date")&&this.grid.date[e][n].attr("data-date")===this.current.date?(this.grid.date[e][n].addClass("calendar__cell--selected"),t=!0):this.grid.date[e][n].removeClass("calendar__cell--selected");return t},ByronHamburgers.Modules.Elements.ElementCalendar.prototype.selectCurrentTime=function(){for(var t=!1,e=1;e<this.grid.time.length;e++)for(var n=0;n<3;n++)void 0!==this.grid.time[e][n].attr("data-time")&&this.grid.time[e][n].attr("data-time")===this.current.time?(this.grid.time[e][n].addClass("calendar__cell--selected"),t=!0):this.grid.time[e][n].removeClass("calendar__cell--selected");return t},ByronHamburgers.Modules.Elements.ElementCalendar.prototype.setDisplayValue=function(t){var e=this.formatDate(this.current.date,"display"),n=e.split(" ");e=n[0].length>6?n[0].substr(0,3):n[0],e+=" "+n[1],""!==this.current.time&&t&&(e+=", "+this.current.time),this.config.field_display.val(e)},ByronHamburgers.Modules.Elements.ElementCalendar.prototype.setTime=function(t,e){this.current.time!==t&&(this.current.time=t,this.selectCurrentTime(),this.setDisplayValue(!0),e&&this.config.field_time.val(this.current.time)),setTimeout(function(){this.showHide(!1)}.bind(this),50)},ByronHamburgers.Modules.Elements.ElementCalendar.prototype.setTitle=function(t,e){this.grid[t][0][1].html(e)},ByronHamburgers.Modules.Elements.ElementCalendar.prototype.clearTimes=function(t){this.config.field_time.find("option").remove(),this.config.field_time.append($('<option value="" selected>'+this.dictionary.wait+"</option>")),this.config.field_display.val(this.dictionary.wait),this.setTitle("time",this.dictionary.wait),console.log("reset time"),this.warning.fadeOut(100),t&&this.setState("time");for(var e=1;e<this.grid.time.length;e++)for(var n=0;n<3;n++)this.grid.time[e][n].attr("data-time",""),this.grid.time[e][n].removeClass("calendar__cell--selected"),this.grid.time[e][n].off("calendar"),this.grid.time[e][n].addClass("calendar__cell--disabled"),this.grid.time[e][n].html("")},ByronHamburgers.Modules.Elements.ElementCalendar.prototype.displayTimes=function(t){this.setTitle("time",this.formatDate(this.current.date,"display")),this.config.field_time.find("option").remove(),0===t.length?(this.config.field_time.append($('<option value="" selected>'+this.dictionary.no_results+"</option>")),this.warning.fadeIn(300)):this.config.field_time.append($('<option value="" selected>'+this.dictionary.time_select+"</option>"));var e,n,o,i=!1;for(o=0;o<t.length;o++)this.config.field_time.append($('<option value="'+this.formatTime(t[o].value,"api")+'" data-session="'+t[o].session+'" >'+t[o].value+"</option>")),o<24&&(e=1+Math.floor(o/3),n=o-3*(e-1),this.grid.time[e][n].removeClass("calendar__cell--disabled"),this.grid.time[e][n].html(t[o].value),this.grid.time[e][n].attr("data-time",t[o].value),this.grid.time[e][n].on("click.calendar",function(t){this.setTime(t,!0)}.bind(this,t[o].value))),t[o].value===this.current.time&&(i=!0);if(t.length<24&&t.length>0)for(o=t.length;o<24;o++)e=1+Math.floor(o/3),n=o-3*(e-1),this.grid.time[e][n].html("-");i?(this.selectCurrentTime(),this.config.field_time.val(this.current.time),console.log("restoring time"),this.setDisplayValue(!0)):(this.config.field_time.val(""),this.setDisplayValue(!1))},ByronHamburgers.Modules.Elements.ElementContactForm=function(t,e){this.isSending=!1,this.hasSent=!1,this.init(t,e)},ByronHamburgers.Modules.Elements.ElementContactForm.prototype=new ByronHamburgers.Modules.Elements.ElementTemplate,ByronHamburgers.Modules.Elements.ElementContactForm.constructor=ByronHamburgers.Modules.Elements.ElementContactForm,ByronHamburgers.Modules.Elements.ElementContactForm.prototype.construct=function(){ByronHamburgers.helper.forms.initElements(this.div,"minimal"),this.message=this.div.find(".contact-form__item--message"),this.messageText=this.div.find(".contact-form__item--message .tc.text"),this.messageIcon=this.div.find(".contact-form__item--message .icon"),this.messageIcon.fadeOut(0),this.dictionary={message_success:this.message.attr("data-message-success"),message_fail:this.message.attr("data-message-fail"),message_validation:this.message.attr("data-message-validation"),message_sending:this.message.attr("data-message-sending")},this.div.on("submit",function(t){return this.formVerify(),t.preventDefault(),!1}.bind(this)),this.div.find("select,input,textarea").on("focus",function(){this.message.hasClass("contact-form__item--message-error")&&!this.message.hasClass("contact-form__item--message-hidden")&&this.message.addClass("contact-form__item--message-hidden")}.bind(this)),this.div.find(".button").on("click",function(){this.hasSent?this.formReset():this.formVerify()}.bind(this)),this.buttonLabelDefault=this.div.find(".button span").html()},ByronHamburgers.Modules.Elements.ElementContactForm.prototype.formVerify=function(){var t=ByronHamburgers.helper.forms.validate(this.div);t.result?this.formSend(ByronHamburgers.helper.forms.createSendObject(t.data)):(this.message.removeClass("contact-form__item--message-hidden contact-form__item--message-success contact-form__item--message-sending"),this.message.addClass("contact-form__item--message-error"),this.messageText.html(this.dictionary.message_validation))},ByronHamburgers.Modules.Elements.ElementContactForm.prototype.formSend=function(t){this.isSending||this.hasSent||(this.div.find("select,input,textarea").attr("disabled",!0),this.message.removeClass("contact-form__item--message-hidden contact-form__item--message-error contact-form__item--message-success"),this.message.addClass("contact-form__item--message-sending"),this.messageText.html(this.dictionary.message_sending),this.isSending=!0,$.ajax({type:"POST",url:ByronHamburgers.helper.paths.api+"contact.php",data:t,success:function(t){this.formSendComplete(t)}.bind(this),dataType:"json"}))},ByronHamburgers.Modules.Elements.ElementContactForm.prototype.formSendComplete=function(t){this.isSending=!1,this.hasSent=!0,this.message.removeClass("contact-form__item--message-sending"),this.div.find(".button span").html("RESET?"),"OK"===t.result?(this.message.addClass("contact-form__item--message-success"),this.messageText.html(this.dictionary.message_success),this.messageIcon.fadeIn(500)):(this.message.addClass("contact-form__item--message-error"),this.messageText.html(this.dictionary.message_fail))},ByronHamburgers.Modules.Elements.ElementContactForm.prototype.formReset=function(){document.getElementById("form-contact").reset(),this.div.find("select").change(),this.div.find("select,input,textarea").attr("disabled",!1),this.hasSent=!1,this.div.find(".button span").html(this.buttonLabelDefault),this.message.addClass("contact-form__item--message-hidden"),this.messageIcon.fadeOut(400)},ByronHamburgers.Modules.Elements.ElementSignupForm=function(t,e){this.isSending=!1,this.hasSent=!1,this.init(t,e)},ByronHamburgers.Modules.Elements.ElementSignupForm.prototype=new ByronHamburgers.Modules.Elements.ElementTemplate,ByronHamburgers.Modules.Elements.ElementSignupForm.constructor=ByronHamburgers.Modules.Elements.ElementContactForm,ByronHamburgers.Modules.Elements.ElementSignupForm.prototype.construct=function(){ByronHamburgers.helper.forms.initElements(this.div),this.message=this.div.find(".contact-form__item--message"),this.messageText=this.div.find(".contact-form__item--message .tc.text"),this.messageIcon=this.div.find(".contact-form__item--message .icon"),this.messageIcon.fadeOut(0),this.dictionary={message_success:this.message.attr("data-message-success"),message_fail:this.message.attr("data-message-fail"),message_validation:this.message.attr("data-message-validation"),message_sending:this.message.attr("data-message-sending")},this.div.on("submit",function(t){return this.formVerify(),t.preventDefault(),!1}.bind(this)),this.div.find("select,input,textarea").on("focus",function(){this.message.hasClass("contact-form__item--message-error")&&!this.message.hasClass("contact-form__item--message-hidden")&&this.message.addClass("contact-form__item--message-hidden")}.bind(this)),this.div.find(".button").on("click",function(){this.hasSent?this.formReset():this.formVerify()}.bind(this)),this.buttonLabelDefault=this.div.find(".button span").html()},ByronHamburgers.Modules.Elements.ElementSignupForm.prototype.formVerify=function(){var t=ByronHamburgers.helper.forms.validate(this.div);t.result?this.formSend(ByronHamburgers.helper.forms.createSendObject(t.data)):(this.message.removeClass("contact-form__item--message-hidden contact-form__item--message-success contact-form__item--message-sending"),this.message.addClass("contact-form__item--message-error"),this.messageText.html(this.dictionary.message_validation))},ByronHamburgers.Modules.Elements.ElementSignupForm.prototype.formSend=function(t){this.isSending||this.hasSent||(this.div.find("select,input,textarea").attr("disabled",!0),this.message.removeClass("contact-form__item--message-hidden contact-form__item--message-error contact-form__item--message-success"),this.message.addClass("contact-form__item--message-sending"),this.messageText.html(this.dictionary.message_sending),this.isSending=!0,$.ajax({type:"POST",url:ByronHamburgers.helper.paths.api+"signup.php",data:t,success:function(t){this.formSendComplete(t)}.bind(this),dataType:"xml"}))},ByronHamburgers.Modules.Elements.ElementSignupForm.prototype.formSendComplete=function(t){this.isSending=!1,this.hasSent=!0,this.message.removeClass("contact-form__item--message-sending"),this.div.find(".button span").html("RESET?"),"0"===$(t).find("ResultCode").text()?(this.message.addClass("contact-form__item--message-success"),this.messageText.html($(t).find("ResultDescription").text()),this.messageIcon.fadeIn(500)):(this.message.addClass("contact-form__item--message-error"),this.messageText.html($(t).find("ResultDescription").text()))},ByronHamburgers.Modules.Elements.ElementSignupForm.prototype.formReset=function(){document.getElementById("form-signup").reset(),this.div.find("select").change(),this.div.find("select,input,textarea").attr("disabled",!1),this.hasSent=!1,this.div.find(".button span").html(this.buttonLabelDefault),this.message.addClass("contact-form__item--message-hidden"),this.messageIcon.fadeOut(400)},ByronHamburgers.Modules.Elements.ElementFindAByronForm=function(t,e){this.init(t,e)},ByronHamburgers.Modules.Elements.ElementFindAByronForm.prototype=new ByronHamburgers.Modules.Elements.ElementTemplate,ByronHamburgers.Modules.Elements.ElementFindAByronForm.constructor=ByronHamburgers.Modules.Elements.ElementFindAByronForm,ByronHamburgers.Modules.Elements.ElementFindAByronForm.prototype.construct=function(){var t=void 0!==this.div.attr("data-search-redirect-url")?this.div.attr("data-search-redirect-url"):"";this.searchRedirectURL=document.location.href.indexOf(t)!==document.location.href.length-t.length?t:"";var e=this.config.parent.getAutoSearchLocation(!1);""===this.searchRedirectURL&&""!==e&&e!==ByronHamburgers.helper.getConfigItem("search-nearby-id")&&$("#find-location").val(e),$("#find-a-byron").submit(function(){return""!==$("#find-location").val()&&this.initSearch(!1),!1}.bind(this)),$("#find-button-go, #find-button-mobile").on("click",function(){$("#find-a-byron").submit()}),$("#find-button-nearest, #find-button-nearest-mobile").on("click",function(){this.initSearch(!0)}.bind(this)),this.registerSearchAutocomplete()},ByronHamburgers.Modules.Elements.ElementFindAByronForm.prototype.initSearch=function(t){""!==this.searchRedirectURL?(ByronHamburgers.helper.cookies.save("search",t?ByronHamburgers.helper.getConfigItem("search-nearby-id"):$("#find-location").val(),1),document.location.href=this.searchRedirectURL):(ByronHamburgers.Signals.modules.dispatch("search-init",{location:t?ByronHamburgers.helper.getConfigItem("search-nearby-id"):$("#find-location").val()}),t&&$("#find-location").val(""),$("#find-location").blur())},ByronHamburgers.Modules.Elements.ElementFindAByronForm.prototype.registerSearchAutocomplete=function(){window.google&&(this.autocomplete=new google.maps.places.Autocomplete(document.getElementById("find-location"),{types:["geocode"],componentRestrictions:{country:"UK"},bounds:new google.maps.LatLngBounds(new google.maps.LatLng(51.71681946274873,(-.52734375)),new google.maps.LatLng(51.26707067795058,.20050048828125)),location:new google.maps.LatLng(51.50874245880332,(-.1318359375)),radius:3200})),$(document).on({DOMNodeInserted:function(){$(".pac-item, .pac-item span",this).addClass("needsclick")}},".pac-container"),$("#find-location").length>0&&$("body").css("position","inherit"),"s"!==this.layout&&$(window).scroll(function(){$(".pac-container").length>0&&$(".pac-container").hide()})},ByronHamburgers.Modules.Elements.ElementSectionPicker=function(t,e){this.init(t,e)},ByronHamburgers.Modules.Elements.ElementSectionPicker.prototype=new ByronHamburgers.Modules.Elements.ElementTemplate,ByronHamburgers.Modules.Elements.ElementSectionPicker.constructor=ByronHamburgers.Modules.Elements.ElementSectionPicker,ByronHamburgers.Modules.Elements.ElementSectionPicker.prototype.construct=function(){this.div.on("change",function(){this.sectionPickerChanged()}.bind(this))},ByronHamburgers.Modules.Elements.ElementSectionPicker.prototype.sectionPickerChanged=function(){ByronHamburgers.helper.scrollToElement("#"+this.div.val(),{xl:ByronHamburgers.helper.getGridRowHeight(-3),l:ByronHamburgers.helper.getGridRowHeight(1),m:ByronHamburgers.helper.getGridRowHeight(1),s:ByronHamburgers.helper.getGridRowHeight(1)})},ByronHamburgers.Utilities.DebugManager=function(){if(this.moduleDebugAtStart=!1,this.gridOnAtStart=!1,this.gridEnabled=!0,this.grid=$(".grid"),this.gridColumns=$($(".grid .column-wrapper")),this.currentColumns=0,this.show={rows:!this.grid.hasClass("grid--no-rows"),columns:!this.grid.hasClass("grid--no-columns")},this.colours=["black","red","yellow","green","blue"],this.colour=0,this.grid.length&&(this.gridEnabled=!0,this.grid.addClass("grid--"+this.colours[this.colour]),this.initColumns(18)),this.template=$(".debug-template"),this.templateStage=-1,this.template.length)for(var t=0;t<=4;t++)if(this.template.hasClass("debug-template--"+t)){this.templateStage=t;break}this.moduleDebug=!1,this.moduleDebugAtStart&&this.toggleModuleDebug(),this.gridEnabled&&(this.shiftDown=!1,$(window).keydown(function(t){this.keyDown(t.keyCode)}.bind(this)),$(window).keyup(function(t){this.keyUp(t.keyCode)}.bind(this)),!this.gridOnAtStart||this.show.rows||this.show.columns||this.colourCycle())},ByronHamburgers.Utilities.DebugManager.constructor=ByronHamburgers.Modules.DebugManager,ByronHamburgers.Utilities.DebugManager.prototype.initColumns=function(t){if(t!==this.currentColumns){for(var e="",n=0;n<t;n++)e+='<div class="column"></div>';this.gridColumns.html(e),this.currentColumns=t}},ByronHamburgers.Utilities.DebugManager.prototype.keyDown=function(t){16===t&&(this.shiftDown=!0),this.shiftDown&&(67===t&&this.gridEnabled?this.toggleShowElement("columns"):82===t&&this.gridEnabled?this.toggleShowElement("rows"):71===t&&this.gridEnabled?this.colourCycle():84===t&&this.templateStage!==-1?this.templateCycle():79===t&&this.toggleModuleDebug())},ByronHamburgers.Utilities.DebugManager.prototype.keyUp=function(t){16===t&&(this.shiftDown=!1)},ByronHamburgers.Utilities.DebugManager.prototype.toggleShowElement=function(t){void 0!==this.show[t]&&(this.show[t]?(this.grid.addClass("grid--no-"+t),this.show[t]=!1):(this.grid.removeClass("grid--no-"+t),this.show[t]=!0))},ByronHamburgers.Utilities.DebugManager.prototype.toggleModuleDebug=function(){$(".module").toggleClass("module--debug"),this.moduleDebug=!this.moduleDebug},ByronHamburgers.Utilities.DebugManager.prototype.colourCycle=function(){this.show.columns||this.show.rows?(this.grid.removeClass("grid--"+this.colours[this.colour]),this.colour++,this.colour>=this.colours.length&&(this.colour=0),this.grid.addClass("grid--"+this.colours[this.colour])):(this.toggleShowElement("rows"),this.toggleShowElement("columns"))},ByronHamburgers.Utilities.DebugManager.prototype.templateCycle=function(){this.template.removeClass("debug-template--"+this.templateStage),this.templateStage++,this.templateStage>4&&(this.templateStage=0),this.template.addClass("debug-template--"+this.templateStage)},ByronHamburgers.Utilities.ResizeManager=function(t){this.platform="desktop",this.layout="",this.screenWidth,this.screenHeight,this.breakPoints=t,ByronHamburgers.Signals.resize=new signals.Signal,this.platformDetect=new MobileDetect(window.navigator.userAgent),null!==this.platformDetect.mobile()&&(this.platform="mobile"),null!==this.platformDetect.tablet()&&(this.platform="tablet"),$("body").addClass(this.platform),this.setLayoutMode(),$(window).on("resize",function(){this.detect("resize")}.bind(this)),"tablet"===this.platform&&$(window).on("orientationchange",function(){this.detect("orientation")}.bind(this)),this.detect("init")},ByronHamburgers.Utilities.ResizeManager.constructor=ByronHamburgers.Utilities.ResizeManager,ByronHamburgers.Utilities.ResizeManager.prototype.detect=function(t){this.screenWidth=$(window).innerWidth(),this.screenHeight=$(window).innerHeight(),this.setLayoutMode(),ByronHamburgers.Signals.resize.dispatch("resize",{width:this.screenWidth,height:this.screenHeight,layout:this.layout,trigger:t})},ByronHamburgers.Utilities.ResizeManager.prototype.setLayoutMode=function(){var t=this.getLayoutMode();t!==this.layout&&(this.layout=t)},ByronHamburgers.Utilities.ResizeManager.prototype.getLayoutMode=function(){return this.screenWidth<=this.breakPoints.s?"s":this.screenWidth<=this.breakPoints.m?"m":this.screenWidth<=this.breakPoints.l?"l":"xl"},ByronHamburgers.Utilities.ScrollManager=function(t){ByronHamburgers.Signals.scroll=new signals.Signal,this.setupEvents(t.platform),this.scrollCurrent=0,this.scrollLast=0,this.scrollUpThreshold=50,this.scrollDownThreshold=52,this.isScrolled=!1,this.screenHeight=t.screenHeight,this.pageHeight,this.getPageHeight(),ByronHamburgers.Signals.resize.add(this.resizeListener=function(t,e){this.screenHeight=e.height,this.getPageHeight()}.bind(this))},ByronHamburgers.Utilities.ScrollManager.constructor=ByronHamburgers.Utilities.ScrollManager,ByronHamburgers.Utilities.ScrollManager.prototype.getPageHeight=function(){setTimeout(function(){this.pageHeight=$("body").height(),this.scrollEvent()}.bind(this),500)},ByronHamburgers.Utilities.ScrollManager.prototype.scrollEvent=function(){var t=$(window).scrollTop();this.isScrolled?t<this.scrollLast-this.scrollUpThreshold||t<this.scrollDownThreshold?this.scrollOff(t):t>this.scrollLast&&(this.scrollLast=t):(t>this.scrollDownThreshold&&t>this.scrollLast&&($("body").addClass("scrolled"),this.isScrolled=!0),this.scrollLast=t),this.scrollUpdateEvent(t)},ByronHamburgers.Utilities.ScrollManager.prototype.scrollUpdateEvent=function(t){void 0!==this.pageHeight&&ByronHamburgers.Signals.scroll.dispatch("update",{value:t,prop:t/(this.pageHeight-this.screenHeight),distanceToGo:this.pageHeight-this.screenHeight-t})},ByronHamburgers.Utilities.ScrollManager.prototype.scrollOff=function(t){$("body").removeClass("scrolled"),this.isScrolled=!1,this.scrollLast=t},ByronHamburgers.Utilities.ScrollManager.prototype.setupEvents=function(t){"desktop"===t&&($(window).on("scroll",function(){this.scrollEvent()}.bind(this)),this.scrollEvent())},ByronHamburgers.Utilities.AccountManager=function(){ByronHamburgers.Signals.account=new signals.Signal,this.isSending=!1,this.client_id="ByronSsoTestApp",this.client_secret="0a8E515Gx9BqTU2tf04u07F6qSSGXkfe",this.token="",this.responseData={},this.isLoggedIn=!1,$("body").addClass("logged-out"),console.log("*** Account Manager: v 1.0.21 ***")},ByronHamburgers.Utilities.AccountManager.constructor=ByronHamburgers.Modules.AccountManager,ByronHamburgers.Utilities.AccountManager.prototype.init=function(){this.setConditionalNavElements(!1),ByronHamburgers.helper.DEBUG_MODE?setTimeout(function(){this.loginTempCheck()}.bind(this),500):ByronHamburgers.Signals.sso.add(this.ssoListener=function(t,e){this.ssoEvent(t,e)}.bind(this))},ByronHamburgers.Utilities.AccountManager.prototype.ssoEvent=function(t,e){"user-status"===t?e.valid===!0?(this.token=e.user.access_token,this.getUserDetails("PersonalDetails"),ByronHamburgers.Signals.account.dispatch("user-fetch",{})):this.validateCurrentPage(!1):("signout"===t||"error"===t&&"user-query"===e.value)&&this.validateCurrentPage(!1)},ByronHamburgers.Utilities.AccountManager.prototype.setConditionalNavElements=function(t){void 0!==this.navRevealTimeout&&(clearTimeout(this.navRevealTimeout),this.navRevealTimeout=null),t?this.navRevealTimeout=setTimeout(function(){$(".nav .hide-on-logged-in, .nav .hide-on-logged-out").removeClass("faded")},100):$(".nav .hide-on-logged-in, .nav .hide-on-logged-out").addClass("faded")},ByronHamburgers.Utilities.AccountManager.prototype.validateCurrentPage=function(t){document.location.href.indexOf("my-account")!==-1?document.location.href=ByronHamburgers.helper.paths.base:(ByronHamburgers.Signals.account.dispatch("user-none",{}),t?document.location.reload():this.setConditionalNavElements(!0))},ByronHamburgers.Utilities.AccountManager.prototype.getUserDetails=function(t){this.apiCall(t,"GET",{})},ByronHamburgers.Utilities.AccountManager.prototype.createCORSRequest=function(t,e){var n=new XMLHttpRequest;return"withCredentials"in n?n.open(t,e,!0):"undefined"!=typeof XDomainRequest?(n=new XDomainRequest,n.open(t,e)):n=null,n},ByronHamburgers.Utilities.AccountManager.prototype.apiCall=function(t,e,n,o,i,a,s){if(s=void 0!==s&&s,!this.isSending||s){e=void 0===e?"GET":e,s||(this.isSending=!0);var r=this.createCORSRequest(e,ByronHamburgers.helper.sso.getSetting("api_url")+t);r.timeout=8e3,r.ontimeout=function(t,e,n,i){void 0!==o&&void 0!==i&&n.apply(i,[]),console.log("ERROR TIMEOUT:"+t+":"+e),ByronHamburgers.Signals.account.dispatch("failure",{reason:"timeout","function":t,method:e})}.bind(this,t,e,a,i),r.onerror=function(t,e,n,i){void 0!==o&&void 0!==i&&n.apply(i,[]),console.log("ERROR:"+t+":"+e),ByronHamburgers.Signals.account.dispatch("failure",{reason:"error","function":t,method:e})}.bind(this,t,e,a,i),r.onload=function(t,e,n,o,i,a){a||(this.isSending=!1);var s=this.parseResponse(r.response);"GET"===e&&(this.responseData[t]=s,console.log(s)),200===r.status?(console.log("================================="),console.log("API Success: "+t+":"+e),console.log("================================="),this.apiCallSuccess(s,t,e),void 0!==n&&void 0!==i&&null!==n&&null!==i&&n.apply(i,[s,t,e]),ByronHamburgers.Signals.account.dispatch("success",{data:s,"function":t,method:e})):(console.log("================================="),console.log("API Error: "+t+":"+e),console.log("================================="),console.log(t+": "+r.status+" - "+r.statusText+". "+ByronHamburgers.helper.account.parseResponse(r.response).message),"PersonalDetails"===t&&"GET"===e?this.logout():void 0!==o&&void 0!==i&&null!==o&&null!==i&&o.apply(i,[s,t,e]),ByronHamburgers.Signals.account.dispatch("failure",{reason:"status","function":t,method:e}))}.bind(this,t,e,o,a,i,s);var l=this.encodeBody(n);"PUT"!==e&&"POST"!==e||r.setRequestHeader("Content-Type","application/x-www-form-urlencoded");var d=ByronHamburgers.helper.DEBUG_MODE?this.token:ByronHamburgers.helper.sso.user.access_token;r.setRequestHeader("Authorization","Bearer "+d),r.setRequestHeader("Accept","application/json"),r.send(l)}},ByronHamburgers.Utilities.AccountManager.prototype.apiCallSuccess=function(t,e,n){"PersonalDetails"!==e||"GET"!==n||this.isLoggedIn?"RestaurantUpdateSubscriptions"!==e||"GET"!==n||this.isLoggedIn||this.setLoggedInState(!0):this.getUserDetails("RestaurantUpdateSubscriptions")},ByronHamburgers.Utilities.AccountManager.prototype.login=function(t,e){t=void 0===t?"login":t,ByronHamburgers.helper.cookies.save("login-restaurant-id",void 0!==e?e:""),ByronHamburgers.helper.cookies.save("login-redirect",document.location.href),ByronHamburgers.helper.DEBUG_MODE?this.loginTemp("gregfindon+1@gmail.com","Trousers78"):ByronHamburgers.helper.sso.signin("login"===t?"":"reg")},ByronHamburgers.Utilities.AccountManager.prototype.loginTemp=function(t,e){var n=new XMLHttpRequest;n.onload=function(){var t=this.parseResponse(n.response);200===n.status&&t.access_token?this.loginTempSuccess(t.access_token):console.log(n.status+" - "+n.statusText+". "+this.parseResponse(n.response).message)}.bind(this),n.open("POST",ByronHamburgers.helper.sso.getSetting("config").authority+"connect/token"),n.setRequestHeader("Authorization","Basic "+btoa(this.client_id+":"+this.client_secret)),n.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),n.send(this.encodeBody({username:t,password:e,grant_type:"password",scope:ByronHamburgers.helper.sso.getSetting("config").scope}))},ByronHamburgers.Utilities.AccountManager.prototype.loginTempCheck=function(){""!==ByronHamburgers.helper.cookies.get("token")?(this.token=ByronHamburgers.helper.cookies.get("token"),this.getUserDetails("PersonalDetails"),ByronHamburgers.Signals.account.dispatch("user-fetch",{})):this.validateCurrentPage(!1)},ByronHamburgers.Utilities.AccountManager.prototype.loginTempSuccess=function(t){ByronHamburgers.helper.cookies.save("token",t),this.token=t,this.loginSuccess()},ByronHamburgers.Utilities.AccountManager.prototype.loginSuccess=function(){""!==ByronHamburgers.helper.cookies.get("login-restaurant-id")?(console.log("restaurant signup first..."),this.restaurantSubscription(ByronHamburgers.helper.cookies.get("login-restaurant-id"),!0,this.loginRedirect,this),ByronHamburgers.helper.cookies.save("login-restaurant-id","")):""!==ByronHamburgers.helper.cookies.get("login-redirect")&&this.loginRedirect()},ByronHamburgers.Utilities.AccountManager.prototype.loginRedirect=function(){var t=ByronHamburgers.helper.cookies.get("login-redirect");ByronHamburgers.helper.cookies.save("login-redirect",""),setTimeout(function(){document.location.href=t},100)},ByronHamburgers.Utilities.AccountManager.prototype.encodeBody=function(t){var e="";if(void 0!==t)for(var n in t)e.length&&(e+="&"),e+=n+"=",e+=encodeURIComponent(t[n]);return e},ByronHamburgers.Utilities.AccountManager.prototype.parseResponse=function(t){return"["!==t[0]&&"{"!==t[0]||(t=JSON.parse(t)),t},ByronHamburgers.Utilities.AccountManager.prototype.setLoggedInState=function(t){t?$("body").addClass("logged-in").removeClass("logged-out"):$("body").addClass("logged-out").removeClass("logged-in"),this.setConditionalNavElements(t),this.isLoggedIn=t,t&&ByronHamburgers.Signals.account.dispatch("ready",{info:this.responseData.PersonalDetails,restaurantSubscriptions:this.responseData.RestaurantUpdateSubscriptions})},ByronHamburgers.Utilities.AccountManager.prototype.logout=function(t){t=void 0===t?"generic":t,this.responseData={},ByronHamburgers.helper.DEBUG_MODE?(this.token="",ByronHamburgers.helper.cookies.save("token",""),"generic"===t&&this.validateCurrentPage(!0)):ByronHamburgers.helper.sso.signout()},ByronHamburgers.Utilities.AccountManager.prototype.restaurantSubscription=function(t,e,n,o){var i="RestaurantUpdateSubscriptions";e||(i+="/"+t);var a=e?{restaurantCrmId:t}:{},s=e?"POST":"DELETE";this.apiCall(i,s,a,n,o,null,!0)},ByronHamburgers.Utilities.CookieManager=function(t,e){this.prefix=t,this.expiryLength=e},ByronHamburgers.Utilities.CookieManager.constructor=ByronHamburgers.Utilities.CookieManager,ByronHamburgers.Utilities.CookieManager.prototype.save=function(t,e,n,o){$.cookie(this.getID(t),e,{expires:void 0===n?this.expiryLength:n,path:void 0===o?"/":o})},ByronHamburgers.Utilities.CookieManager.prototype.getID=function(t){return this.prefix+t},ByronHamburgers.Utilities.CookieManager.prototype.get=function(t){return void 0!==$.cookie(this.getID(t))?$.cookie(this.getID(t)):""},ByronHamburgers.Utilities.SSOManager=function(){ByronHamburgers.Signals.sso=new signals.Signal,this.user,this.settingsCurrent,this.settings={prod:{domains:["www.byronhamburgers.com"],config:{authority:"https://login.byronhamburgers.com/sso/identity",client_id:"MyAccountWeb",redirect_uri:window.location.protocol+"//"+window.location.host+"/sso-client/callback.html",silent_redirect_uri:window.location.protocol+"//"+window.location.host+"/sso-client/token-refresh.html",post_logout_redirect_uri:window.location.protocol+"//"+window.location.host+"/",response_type:"id_token token",scope:"openid profile address offline_access ByronSsoManagement",silentRequestTimeout:1e4,automaticSilentRenew:!0,loadUserInfo:!0},api_url:"https://byronmyaccountapi.altaineapps.com/api/",website_url:"https://"+window.location.host,log_level:"none"},uat:{domains:["uatv2.byronhamburgers.com"],config:{authority:"https://byronuatlogin.altaineapps.com/sso/identity/",client_id:"MyAccountWeb",redirect_uri:window.location.protocol+"//"+window.location.host+"/sso-client/callback.html",silent_redirect_uri:window.location.protocol+"//"+window.location.host+"/sso-client/token-refresh.html",post_logout_redirect_uri:window.location.protocol+"//"+window.location.host+"/",response_type:"id_token token",scope:"openid profile address offline_access ByronSsoManagement",silentRequestTimeout:1e4,automaticSilentRenew:!0,loadUserInfo:!0},api_url:"https://altainebyronmauatapi.azurewebsites.net/api/",website_url:"https://"+window.location.host,log_level:"none"},"local-altaine":{domains:["localhost"],config:{client_id:"ByronOnlineTakeawayWeb",redirect_uri:"https://localhost:44359/callback.aspx",post_logout_redirect_uri:"https://localhost:44359/",response_type:"id_token token",scope:"ByronSsoManagement openid profile address offline_access",authority:"https://localhost:44317/identity",silent_redirect_uri:"https://localhost:44359/silentrefreshframe.aspx",automaticSilentRenew:!0,silentRequestTimeout:1e4,acr_values:"",loadUserInfo:!0},api_url:"https://localhost:44302/",website_url:"https://uatv2.byronhamburgers.com/",log_level:"all"},"local-chs":{domains:["localhost:9000"],config:{authority:"https://byronuatlogin.altaineapps.com/sso/identity/",client_id:"MyAccountWeb",redirect_uri:"https://uatv2.byronhamburgers.com/sso-client/callback.html",silent_redirect_uri:"https://uatv2.byronhamburgers.com/sso-client/callback.html/sso-client/token-refresh.html",post_logout_redirect_uri:"https://uatv2.byronhamburgers.com/",response_type:"id_token token",scope:"openid ByronSsoManagement",silentRequestTimeout:1e4,automaticSilentRenew:!0,loadUserInfo:!1},api_url:"https://altainebyronmauatapi.azurewebsites.net/api/",website_url:"https://"+window.location.host,log_level:"none"},"altaine-DEV":{domains:["altainebyronotdevw.azurewebsites.net"],config:{client_id:"ByronOnlineTakeawayWeb",redirect_uri:"https://altainebyronotdevw.azurewebsites.net/callback.aspx",post_logout_redirect_uri:"https://altainebyronotdevw.azurewebsites.net/",response_type:"id_token token",scope:"ByronSsoManagement openid profile address offline_access",authority:"https://altainebyroniddevw.azurewebsites.net/sso/identity",silent_redirect_uri:"https://altainebyronotdevw.azurewebsites.net/silentrefreshframe.aspx",automaticSilentRenew:!0,silentRequestTimeout:1e4,acr_values:"",loadUserInfo:!0},api_url:"https://altainebyronmadevapi.azurewebsites.net/api/",website_url:"https://uatv2.byronhamburgers.com/",log_level:"all"},"altaine-UAT":{domains:["byronuat.altaineapps.com"],config:{client_id:"ByronOnlineTakeawayWeb",redirect_uri:"https://byronuat.altaineapps.com/callback.aspx",post_logout_redirect_uri:"https://byronuat.altaineapps.com/",response_type:"id_token token",scope:"ByronSsoManagement openid profile address offline_access",authority:"https://byronuatlogin.altaineapps.com/sso/identity",silent_redirect_uri:"https://byronuat.altaineapps.com/silentrefreshframe.aspx",automaticSilentRenew:!0,silentRequestTimeout:1e4,acr_values:"",loadUserInfo:!0},api_url:"https://altainebyronmauatapi.azurewebsites.net/api/",website_url:"https://uatv2.byronhamburgers.com/",log_level:"all"},"altaine-PROD":{domains:["takeaway.byronhamburgers.com"],config:{client_id:"ByronOnlineTakeawayWeb",redirect_uri:"https://takeaway.byronhamburgers.com/callback.aspx",post_logout_redirect_uri:"https://takeaway.byronhamburgers.com/",response_type:"id_token token",scope:"ByronSsoManagement openid profile address offline_access",authority:"https://login.byronhamburgers.com/sso/identity",silent_redirect_uri:"https://takeaway.byronhamburgers.com/silentrefreshframe.aspx",automaticSilentRenew:!0,silentRequestTimeout:1e4,acr_values:"",loadUserInfo:!0},api_url:"https://byronmyaccountapi.altaineapps.com/api/",website_url:"https://www.byronhamburgers.com",log_level:"none"},"login-UAT":{domains:["byronuatlogin.altaineapps.com"],website_url:"https://uatv2.byronhamburgers.com/",log_level:"none"},"login-PROD":{domains:["login.byronhamburgers.com"],website_url:"https://www.byronhamburgers.com",log_level:"none"}}},ByronHamburgers.Utilities.SSOManager.constructor=ByronHamburgers.Modules.SSOManager,ByronHamburgers.Utilities.SSOManager.prototype.init=function(){var t="uat";for(var e in this.settings)for(var n=0;n<this.settings[e].domains.length;n++)if(document.location.href.indexOf(this.settings[e].domains[n])!==-1){t=e;break}this.settingsCurrent=this.settings[t],void 0!==this.settingsCurrent.config&&(this.manager=new Oidc.UserManager(this.settingsCurrent.config),"none"!==this.getSetting("log_level")&&(console.log("SSO INIT: "+t),console.log(this.settingsCurrent)),this.manager.events.addUserLoaded(function(t){this.user=t,this.eventDispatch("user-loaded",{user:t},[t])}.bind(this)),this.manager.events.addSilentRenewError(function(t){this.eventDispatch("error",{value:"token-renew",error:t})}.bind(this)),this.manager.events.addUserSignedOut(function(){this.eventDispatch("signout",{})}.bind(this)),"all"===this.getSetting("log_level")&&(Oidc.Log.logger=console,Oidc.Log.logLevel=Oidc.Log.INFO),this.userQuery())},ByronHamburgers.Utilities.SSOManager.prototype.userQuery=function(){this.manager.signinSilent().then(function(t){t&&t.access_token?(this.user=t,this.eventDispatch("user-status",{valid:!0,user:t},["--User session found--",t.access_token])):this.eventDispatch("user-status",{valid:!1},["--No user session found--"])}.bind(this))["catch"](function(t){this.eventDispatch("error",{value:"user-query",error:t})}.bind(this))},ByronHamburgers.Utilities.SSOManager.prototype.signin=function(t){this.manager._settings._acr_values=t,this.manager.signinRedirect().then(function(){this.eventDispatch("signin-redirect-success",{})}.bind(this))["catch"](function(t){this.eventDispatch("error",{value:"signin-redirect",error:t})}.bind(this))},ByronHamburgers.Utilities.SSOManager.prototype.signout=function(){this.manager.signoutRedirect()["catch"](function(t){this.eventDispatch("error",{value:"signout-redirect",error:t})}.bind(this))},ByronHamburgers.Utilities.SSOManager.prototype.getSetting=function(t,e){return e=void 0===e?"":e,this.settingsCurrent&&void 0!==this.settingsCurrent[t]?this.settingsCurrent[t]:e},ByronHamburgers.Utilities.SSOManager.prototype.eventDispatch=function(t,e,n){if("none"!==this.getSetting("log_level")&&(console.log("SSO EVENT:"+t),"error"===t&&(console.log("ERROR:"+e.value),void 0!==e.error&&console.log(e.error)),void 0!==n))for(var o=0;o<n.length;o++)console.log(n[o]);ByronHamburgers.Signals.sso.dispatch(t,void 0!==e?e:{})},ByronHamburgers.Utilities.ModuleManager=function(){this.modules=[],this.moduleMaps={"module-1":{"class":ByronHamburgers.Modules.ModuleType1,config:{}},"module-2":{"class":ByronHamburgers.Modules.ModuleType2,config:{}},"module-social":{"class":ByronHamburgers.Modules.ModuleSocial,config:{}},"module-header":{"class":ByronHamburgers.Modules.ModuleHeader,config:{}},"module-allergens":{"class":ByronHamburgers.Modules.ModuleAllergens,config:{}},"module-carousel":{"class":ByronHamburgers.Modules.ModuleCarousel,config:{}},"module-menu-category":{"class":ByronHamburgers.Modules.ModuleMenuCategory,config:{}},"module-my-account-auth-demo":{"class":ByronHamburgers.Modules.ModuleMyAccountAuthDemo,config:{}},"module-my-account":{"class":ByronHamburgers.Modules.ModuleMyAccount,config:{}},"module-book":{"class":ByronHamburgers.Modules.ModuleBook,config:{}},"module-default":{"class":ByronHamburgers.Modules.ModuleTemplate,config:{}},"module-news-filter":{"class":ByronHamburgers.Modules.ModuleNewsFilter,config:{}},"module-find":{"class":ByronHamburgers.Modules.ModuleFind,config:{}},"module-restaurant-map":{"class":ByronHamburgers.Modules.ModuleRestaurantMap,config:{}}};var t=["module--1-a module--1-a-left","module--1-b module--1-b-right","module--1-b module--1-b-left","module--1-a module--1-a-right"],e=Math.floor(Math.random()*t.length);ByronHamburgers.Signals.modules=new signals.Signal;var n,o,i,a,s,r=$(".module, .page-section-wrapper");for(i=0;i<r.length;i++)n=$(r[i]),a=void 0!==n.attr("data-js-class")&&void 0!==this.moduleMaps[n.attr("data-js-class")]&&void 0!==this.moduleMaps[n.attr("data-js-class")]["class"]?this.moduleMaps[n.attr("data-js-class")]["class"]:ByronHamburgers.Modules.ModuleTemplate,s=void 0!==n.attr("data-js-class")&&void 0!==this.moduleMaps[n.attr("data-js-class")]&&void 0!==this.moduleMaps[n.attr("data-js-class")].config?this.moduleMaps[n.attr("data-js-class")].config:{},s.layout=ByronHamburgers.helper.resizer.layout,n.hasClass("module--1")&&(n.removeClass("module--1-a module--1-a-left module--1-a-right module--1-b module--1-b-left module--1-b-right"),n.addClass(t[e%t.length]),e++),o=n.hasClass("module")?{html:n,content:n.find(".module__content-wrapper"),autoHeightConfig:{enabled:void 0!==n.attr("data-autoheight")&&"true"===n.attr("data-autoheight"),min:void 0!==n.attr("data-autoheight-min")?parseInt(n.attr("data-autoheight-min")):0,max:void 0!==n.attr("data-autoheight-max")?parseInt(n.attr("data-autoheight-max")):0,percentage:void 0!==n.attr("data-autoheight-percentage")?parseInt(n.attr("data-autoheight-percentage")):ByronHamburgers.helper.getConfigItem("module-default-percentage-height")},js:new a(n,s)}:{html:n,content:"",autoHeightConfig:{enabled:!1,min:0,max:0,percentage:ByronHamburgers.helper.getConfigItem("module-default-percentage-height")},js:new a(n,s)},this.modules.push(o);var l=[];for(i=0;i<this.modules.length;i++)l.indexOf(this.modules[i].js.masterID)===-1&&(this.modules[i].js.initAsMaster(),l.push(this.modules[i].js.masterID)),i>0&&this.modules[i-1].html.find(".welcome-back-wrapper").length&&this.modules[i].content.first().prepend($('<div class="spacer spacer--row2 hide-above-s"></div>'));ByronHamburgers.Signals.html.dispatch("process",{baseElement:$("body"),letters:document.location.href===ByronHamburgers.helper.paths.base}),this.setModuleSizes(ByronHamburgers.helper.resizer.layout,"init"),ByronHamburgers.Signals.resize.add(this.resizeListener=function(t,e){this.setModuleSizes(e.layout,e.trigger)}.bind(this)),ByronHamburgers.Signals.modules.add(this.moduleListener=function(t,e){this.moduleEvent(t,e)}.bind(this))},ByronHamburgers.Utilities.ModuleManager.constructor=ByronHamburgers.Modules.ModuleManager,ByronHamburgers.Utilities.ModuleManager.prototype.setModuleSizes=function(t,e){for(var n,o,i=ByronHamburgers.helper.getGridRowHeight(1),a=$("#nav-main").height(),s=0;s<this.modules.length;s++)if(this.modules[s].js.setLayoutMode(t),this.modules[s].autoHeightConfig.enabled!==!0||"resize"===e&&(ByronHamburgers.helper.resizer.platformDetect.mobile()||ByronHamburgers.helper.resizer.platformDetect.tablet())){if(""!==this.modules[s].content){var r=parseInt(this.modules[s].html.css("padding-top").split("px").join(""))+parseInt(this.modules[s].html.css("padding-bottom").split("px").join(""));n=Math.ceil((this.modules[s].content.innerHeight()+r)/i)*i}}else n=this.modules[s].autoHeightConfig.percentage/100*ByronHamburgers.helper.resizer.screenHeight,n-=a,this.modules[s].content.css("height","auto"),o=this.modules[s].content.innerHeight(),this.modules[s].content.css("height","100%"),"l"!==t&&"xl"!==t||(void 0!==this.modules[s].html.css("padding-bottom")&&(o+=parseInt(this.modules[s].html.css("padding-bottom"))),void 0!==this.modules[s].html.css("padding-top")&&(o+=parseInt(this.modules[s].html.css("padding-top")))),n<o&&(n=o),o=Math.max(600,o),n=Math.ceil(n/i)*i,this.modules[s].html.css("height",n+"px")},ByronHamburgers.Utilities.ModuleManager.prototype.moduleEvent=function(t,e){"module-collapse"===t&&(console.log(e.id),this.modules[e.id].autoHeightConfig.enabled=!1,this.modules[e.id].js.collapse())},ByronHamburgers.Utilities.OverlayManager=function(){this.overlay=$("#overlay-content"),this.content=this.overlay.find(".overlay__content"),ByronHamburgers.Signals.overlay=new signals.Signal,ByronHamburgers.Signals.overlay.add(this.overlayListener=function(t,e){this.overlayEvent(t,e)}.bind(this))},ByronHamburgers.Utilities.OverlayManager.constructor=ByronHamburgers.Modules.OverlayManager,ByronHamburgers.Utilities.OverlayManager.prototype.overlayEvent=function(t,e){"show"===t?this.showHide(!0,e):"hide"===t&&this.showHide(!1)},ByronHamburgers.Utilities.OverlayManager.prototype.showHide=function(t,e){if(this.overlay.attr("class","overlay"),t){if(this.overlay.addClass("overlay--active"),void 0!==e.type&&this.overlay.addClass("overlay--"+e.type),void 0!==e.classes)for(var n=0;n<e.classes.length;n++)this.overlay.addClass(e.classes[n]);this.content.html(""),void 0!==e.content&&this.content.append(e.content),ByronHamburgers.Signals.html.dispatch("process",{baseElement:this.content})}},ByronHamburgers.Utilities.FormManager=function(){this.patternEmail=/^([a-z\d!#$%&'*+\-\/=?^_`{|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+(\.[a-z\d!#$%&'*+\-\/=?^_`{|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+)*|"((([ \t]*\r\n)?[ \t]+)?([\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|\\[\x01-\x09\x0b\x0c\x0d-\x7f\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))*(([ \t]*\r\n)?[ \t]+)?")@(([a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|[a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF][a-z\d\-._~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]*[a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])\.)+([a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|[a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF][a-z\d\-._~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]*[a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])\.?$/i},ByronHamburgers.Utilities.FormManager.constructor=ByronHamburgers.Modules.FormManager,ByronHamburgers.Utilities.FormManager.prototype.validate=function(t,e){this.formReference=t,e=void 0===e?"minimal":e;for(var n,o,i,a,s={},r=!0,l=t.find("select,textarea,input"),d=0;d<l.length;d++)o=$(l[d]),i="text",o.is("input")&&void 0!==o.attr("type")&&(i=o.attr("type")),a={value:"checkbox"!==i||void 0!==o.val()&&o.is(":checked")?o.val():o.is(":checked"),display:o.is("select")?o.find("option:selected").text():"",attributes:{},send:void 0===o.attr("data-send")||"1"===o.attr("data-send")},"checkbox"===i&&(a.checked=o.is(":checked"),a.checkedValue=o.val()),o.is("select")&&$.each(o.find("option:selected").get(0).attributes,function(t,e){0===e.name.indexOf("data-")&&(a.attributes[e.name]=e.value)}),void 0===o.attr("data-boolean")||"1"!==o.attr("data-boolean")&&"true"!==o.attr("data-boolean")||(a.value="true"===a.value||"1"===a.value||a.value===!0||1===a.value),s[void 0===o.attr("name")?o.attr("id"):o.attr("name")]=a,void 0===o.attr("data-validate")||"true"!==o.attr("data-validate")&&"1"!==o.attr("data-validate")||(this.itemError(o,!1),n=this.itemValidate(o,i),n&&o.data("validate-against")&&(n=this.itemValidateMatch(o,o.data("validate-against"),t)),n||("none"!==e&&this.itemError(o,!0,"minimal"!==e?"Please check or complete this field.":""),r=!1));return{data:s,result:r}},ByronHamburgers.Utilities.FormManager.prototype.itemError=function(t,e,n){n=void 0===n?"":n,t.removeClass("error").parents(".validation-wrapper").find(".tooltip").remove(),e&&(""!==n&&(0===t.parents(".validation-wrapper").length?t.parents(".form-item").wrap('<div class="validation-wrapper"></div>'):null,t.parents(".validation-wrapper").append($('<div class="field-validation-error tooltip tooltip--right">'+n+"</div>"))),t.addClass("error"))},ByronHamburgers.Utilities.FormManager.prototype.createSendObject=function(t){var e={};for(var n in t)t[n].send&&(e[n]=t[n].value);return e},ByronHamburgers.Utilities.FormManager.prototype.itemValidate=function(t,e){var n=!0;return"text"!==e&&"email"!==e&&"tel"!==e&&"password"!==e||""!==t.val()?void 0!==t.attr("data-min-length")&&t.val().length<parseInt(t.attr("data-min-length"))?n=!1:("checkbox"!==e||t.is(":checked"))&&("email"!==e||this.patternEmail.test(t.val()))&&("password"!==e||this.passwordValidate(t.val()))?void 0!==t.attr("data-no-match")&&this.formReference.find('input[name="'+t.attr("data-no-match")+'"]').length&&this.formReference.find('input[name="'+t.attr("data-no-match")+'"]').val()===t.val()&&(n=!1):n=!1:n=!1,n},ByronHamburgers.Utilities.FormManager.prototype.itemValidateMatch=function(t,e,n){return n.find('input[name="'+e+'"]').val()===t.val()},ByronHamburgers.Utilities.FormManager.prototype.passwordValidate=function(t){return!!(/[A-Z]/.test(t)&&/[0-9]/.test(t)&&/[a-z]/.test(t)&&t.length>=8)},ByronHamburgers.Utilities.FormManager.prototype.toggleLoadSpinner=function(t,e){var n='<div class="loading-spinner button-spinner"><svg class="circular" viewBox="25 25 50 50"><circle class="path" cx="50" cy="50" r="20" fill="none" stroke-width="8" stroke-miterlimit="10"/></svg></div>';0===t.find(".button-spinner").length?t.append(n):null,e?t.addClass("loading"):t.removeClass("loading")},ByronHamburgers.Utilities.FormManager.prototype.initElements=function(t){var e=function(t,e,n){this.element=t,this.field=e,this.label=n,this.toggle()};e.prototype={toggle:function(){var t=this;t.element.on("change",function(){t.element.prop("checked")?(t.field.attr("type","text"),t.label.children("span").text("hide")):(t.field.attr("type","password"),t.label.children("span").text("show"))})}},t.find(".pwd-wrapper").each(function(){var t=$(this).find('input[type="checkbox"]'),n=$(this).find("label"),o=$(this).find('input[type="password"]');new e(t,o,n)});for(var n,o=t.find("select,input,textarea"),i=0;i<o.length;i++)n=$(o[i]),n.on("focus",function(t){this.itemError(t,!1)}.bind(this,n));t.find("select").length&&t.find("select").off().each(function(){var t=$(this),e=t.attr("size"),e="undefined"===e||""===e||isNaN(e)?1:parseInt(e,10),n=e>1?"list":"drop",o=t.children("option").not("[default]"),i=t.children("option:selected"),a='<div class="dropdown-wrapper '+n+'" data-size="'+e+'"></div>',s='<div class="dropdown-current" data-value="'+i.val()+'">'+i.html()+"</div>",r='<div class="dropdown default"></div>';t.parents(".dropdown-wrapper").length||(t.wrap(a),$(r).insertAfter(t),$(s).insertAfter(t));var l=t.parents(".dropdown-wrapper"),d=l.children(".dropdown-arrow"),u=l.children(".dropdown-current"),p=l.children(".dropdown");p.html(""),u.val(i.val()).html(i.html());for(var c=0;c<o.length;c++){var h=o.eq(c),m=h.is(":selected")?"active":"",g='<div class="dropdown-item '+m+'" data-value="'+h.val()+'">'+h.html()+"</div>";p.append(g)}var f=p.children(".dropdown-item");"list"===n&&p.height((l.find(".dropdown-item").outerHeight()+1)*e-1);$(this);u.attr("class","dropdown-current "+t.attr("class")),t.is("[readonly]")?(l.addClass("readonly"),u.attr("readonly",!0)):t.is("[disabled]")?(l.addClass("disabled"),u.attr("disabled",!0)):(u.off().on("click",function(){t.focus()}),d.off().on("click",function(){t.focus()}),f.off().on("click",function(){var e=$(this).attr("data-value").trim();t.val(e).change()}),t.on("focus",function(){$(this).removeClass("error").parents(".validation-wrapper").find(".tooltip").remove(),l.hasClass("active")?$(".dropdown-wrapper").removeClass("active"):($(".dropdown-wrapper").removeClass("active"),l.addClass("active"))}).on("change",function(){var e=$(this).children("option:selected");t.blur(),l.removeClass("active"),t.hasClass("keep")||u.text(e.text()).attr("data-value",e.val()),f.removeClass("active");for(var n=0;n<f.length;n++)f.eq(n).text()===e.text()&&(f.eq(n).addClass("active"),t.parents("form").hasClass("auto-send")&&t.parents("form").submit())}))}),$("html, body").off().on("click",function(t){$(t.target).closest(".dropdown").length||$(t.target).closest(".dropdown-wrapper.active").length||$(".dropdown-wrapper").removeClass("active")})},ByronHamburgers.Utilities.GeoLocationManager=function(){ByronHamburgers.Signals.geo=new signals.Signal,ByronHamburgers.Signals.geo.add(this.geoListener=function(t,e){this.geoEvent(t,e)}.bind(this))},ByronHamburgers.Utilities.GeoLocationManager.constructor=ByronHamburgers.Modules.GeoLocationManager,ByronHamburgers.Utilities.GeoLocationManager.prototype.geoEvent=function(t){"get"===t&&this.getLocation()},ByronHamburgers.Utilities.GeoLocationManager.prototype.getLocation=function(){navigator.geolocation?navigator.geolocation.getCurrentPosition(function(t){this.getLocationSuccess(t)}.bind(this),function(t){this.getLocationError(t)}.bind(this)):ByronHamburgers.Signals.geo.dispatch("error",{code:9999,str:""})},ByronHamburgers.Utilities.GeoLocationManager.prototype.getLocationSuccess=function(t){ByronHamburgers.Signals.geo.dispatch("success",{location:t})},ByronHamburgers.Utilities.GeoLocationManager.prototype.getLocationError=function(t){var e="";switch(t.code){case t.PERMISSION_DENIED:e="User denied the request for Geolocation.";break;case t.POSITION_UNAVAILABLE:e="Location information is unavailable.";break;case t.TIMEOUT:e="The request to get user location timed out.";break;case t.UNKNOWN_ERROR:e="An unknown error occurred."}ByronHamburgers.Signals.geo.dispatch("error",{code:t.code,str:e})},ByronHamburgers.Utilities.HTMLManager=function(){this.flourish=[],this.letters=[],this.borders=[],this.colours={},ByronHamburgers.Signals.html=new signals.Signal,ByronHamburgers.Signals.html.add(this.htmlListener=function(t,e){this.htmlEvent(t,e)}.bind(this))},ByronHamburgers.Utilities.HTMLManager.constructor=ByronHamburgers.Utilities.HTMLManager,ByronHamburgers.Utilities.HTMLManager.prototype.setData=function(t){var e,n,o;for(e=t.find("flourish").find("item"),o=0;o<e.length;o++)n=$(e[o]),this.flourish.push({id:n.attr("id"),tl:n.attr("tl"),tr:n.attr("tr"),ml:n.attr("ml"),mr:n.attr("mr"),bl:n.attr("bl"),br:n.attr("br")});for(e=t.find("borders").find("item"),o=0;o<e.length;o++)n=$(e[o]),this.borders.push({data:n.text(),width:n.attr("w"),height:n.attr("h"),cache:{}});for(e=t.find("letters").find("item"),o=0;o<e.length;o++)n=$(e[o]),this.letters.push({id:n.attr("id"),image:n.attr("image")});for(e=t.find("colours").find("item"),o=0;o<e.length;o++)n=$(e[o]),this.colours[n.attr("id").toLowerCase()]=n.attr("hex")},ByronHamburgers.Utilities.HTMLManager.prototype.htmlEvent=function(t,e){"process"===t&&this.processElements(e.baseElement,void 0!==e.letters&&e.letters)},ByronHamburgers.Utilities.HTMLManager.prototype.processElements=function(t,e){e=void 0!==e&&e,this.setTitleFonts(t.find(".font--random-header, .font--random")),this.setFrames(t.find(".fancy-frame")),e&&this.initShareableLetters(t.find(".module")),this.setFlourishes(t.find(".flourish")),this.setCustomLinks(t.find("a"))},ByronHamburgers.Utilities.HTMLManager.prototype.setCustomLinks=function(t){for(var e,n=0;n<t.length;n++)e=$(t[n]),void 0!==e.attr("href")&&0===e.attr("href").indexOf("action:")&&ByronHamburgers.helper.assignCustomLinkAction(e,e.attr("href").substr(7))},ByronHamburgers.Utilities.HTMLManager.prototype.initShareableLetters=function(t){var e,n,o,i,a,s,r="",l=[],d=[],u=[],p="",c="",h=-1;for(s=0;s<t.length;s++){if(i=$(t[s]),u=[],p="",o="",c.indexOf("module--header")===-1){if(i.hasClass("module--1")?u=["left","right"]:i.hasClass("module--2-a")?u=["left","right"]:i.hasClass("module--book")&&(u=["left","right"]),u.length>0&&(u.length>1||u[0]!==r)){for(o=u[Math.floor(Math.random()*u.length)];o===r;)o=u[Math.floor(Math.random()*u.length)];for("right"===o&&(p+=" shareable--right"),0===s||d.indexOf(o)!==-1?Math.random()>.75&&(p+=" shareable--2column"):p+=" shareable--2column",i.hasClass("module--1-b")&&p.indexOf("shareable--2column")===-1&&(i.hasClass("module--1-b-left")&&"right"===o||i.hasClass("module--1-b-right")&&"left"===o)&&(p+=" shareable--2column"),a=Math.floor(Math.random()*this.letters.length);a===h;)a=Math.floor(Math.random()*this.letters.length);h=a,r=o,e=Handlebars.templates["ShareableItem.hbs"]({"class":p,image:this.letters[a].image,image_full:window.location.protocol+"//"+window.location.host+this.letters[a].image}),n=$(e),i.append(n)}d=u}c=i.attr("class"),l.push(o)}for(s=t.length-1;s>=0;s--)if(i=$(t[s]),""!==l[s]&&(i.addClass("module--shareable-one"),i.find(".module__content-wrapper").addClass("module__content-wrapper--padded-top")),void 0!==l[s+1]&&""!==l[s+1]&&(""!==l[s]?(i.removeClass("module--shareable-one"),i.addClass("module--shareable-both"),i.find(".module__content-wrapper").addClass("module__content-wrapper--padded-bottom")):(i.addClass("module--shareable-one"),i.find(".module__content-wrapper").addClass("module__content-wrapper--padded-bottom"))),i.hasClass("module--1")&&i.find(".image .flourish").length){var m=i.find(".image .flourish"),g=[];""!==l[s]?g="right"===l[s]?["br","tl"]:["tr","bl"]:void 0!==l[s+1]&&""!==l[s+1]&&(g="left"===l[s+1]?["br","tl"]:["tr","bl"]),0!==g.length&&this.setFlourish($(m[0]),$(m[1]),g)}},ByronHamburgers.Utilities.HTMLManager.prototype.setFlourishes=function(t){for(var e,n,o,i,a={image:[["tr","bl"],["br","tl"]],text:[["ml","mr"]]},s=-1,r=0;r<Math.round(t.length/2);r++)if(e=$(t[2*r]),n=$(t[2*r+1]),void 0===e.attr("data-activated")||"0"===e.attr("data-activated")){for(i=e.attr("data-type"),o=Math.floor(a[i].length*Math.random());o===s&&a[i].length>1;)o=Math.floor(a[i].length*Math.random());s=o,this.setFlourish(e,n,a[i][o])}},ByronHamburgers.Utilities.HTMLManager.prototype.setFlourish=function(t,e,n){var o=Math.floor(Math.random()*this.flourish.length);t.html('<img src="'+this.flourish[o][n[0]]+'"/>'),e.html('<img src="'+this.flourish[o][n[1]]+'"/>'),t.addClass("flourish--"+n[0]),e.addClass("flourish--"+n[1]),t.attr("data-activated","1"),e.attr("data-activated","1")},ByronHamburgers.Utilities.HTMLManager.prototype.setTitleFonts=function(t){for(var e,n,o,i=-1,a=0;a<t.length;a++){for(n=$(t[a]),o=!!n.hasClass("font--random-header"),e=Math.floor(6*Math.random())+1;e===i||o&&(1===e||4===e);)e=Math.floor(6*Math.random())+1;n.removeClass("font--random-header").removeClass("font--random").addClass("font"+e),i=e}},ByronHamburgers.Utilities.HTMLManager.prototype.setFrames=function(t){for(var e,n,o,i,a,s=-1,r=0;r<t.length;r++){if(e=$(t[r]),n=$(t[r]).find(".fancy-frame-parent"),a=!!e.find(".step").length,void 0!==e.attr("data-frame-type")&&!isNaN(parseInt(e.attr("data-frame-type")))&&parseInt(e.attr("data-frame-type"))<this.borders.length&&parseInt(e.attr("data-frame-type"))>=0)i=parseInt(e.attr("data-frame-type"));else for(i=Math.floor(Math.random()*this.borders.length);this.borders.length>1&&(i===s||1===i&&a);)i=Math.floor(Math.random()*this.borders.length);o=void 0===e.attr("data-frame-colour")?this.colours.black:void 0!==this.colours[e.attr("data-frame-colour")]?this.colours[e.attr("data-frame-colour")]:e.attr("data-frame-colour"),void 0===this.borders[i].cache[o]&&(this.borders[i].cache[o]="data:image/svg+xml;charset=utf8;base64,"+window.btoa(this.borders[i].data.split("000000").join(o))),e.css("background-image",'url("'+this.borders[i].cache[o]+'")'),e.css("background-size",this.borders[i].width+"px "+this.borders[i].height+"px"),n.length&&(n.css("background-image",'url("'+this.borders[i].cache[o]+'")'),n.css("background-size",this.borders[i].width+"px "+this.borders[i].height+"px")),s=i}},ByronHamburgers.Utilities.CookieBarManager=function(){this.div=$(".cookie-warning__wrapper"),this.cookieItemID="consent",""===ByronHamburgers.helper.cookies.get(this.cookieItemID)?this.show():this.kill()},ByronHamburgers.Utilities.CookieBarManager.constructor=ByronHamburgers.Utilities.CookieBarManager,ByronHamburgers.Utilities.CookieBarManager.prototype.show=function(){this.div.removeClass("cookie-warning__wrapper--hidden"),this.div.find(".tc--right a").on("click",function(t){
this.dismiss(),t.preventDefault()}.bind(this))},ByronHamburgers.Utilities.CookieBarManager.prototype.dismiss=function(){this.div.addClass("cookie-warning__wrapper--hidden"),setTimeout(function(){this.kill()}.bind(this),500),ByronHamburgers.helper.cookies.save(this.cookieItemID,"1")},ByronHamburgers.Utilities.CookieBarManager.prototype.kill=function(){this.div.remove()},ByronHamburgers.Utilities.MessageManager=function(){ByronHamburgers.Signals.messager=new signals.Signal,ByronHamburgers.Signals.messager.add(this.messageListener=function(t,e){this.messageEvent(t,e)}.bind(this))},ByronHamburgers.Utilities.MessageManager.constructor=ByronHamburgers.Utilities.MessageManager,ByronHamburgers.Utilities.MessageManager.prototype.messageEvent=function(t,e){var n=$('<div class="global-message bg--'+e.colour+'">'+e.text+"</div>");$("body").append(n),setTimeout(function(){n.addClass("visible")},10),setTimeout(function(){n.on("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){this.remove()}).removeClass("visible")},2e3)},ByronHamburgers.Utilities.ShareManager=function(){ByronHamburgers.Signals.share=new signals.Signal,ByronHamburgers.Signals.share.add(this.shareListener=function(t,e){this.shareEvent(t,e)}.bind(this))},ByronHamburgers.Utilities.ShareManager.constructor=ByronHamburgers.Utilities.ShareManager,ByronHamburgers.Utilities.ShareManager.prototype.shareEvent=function(t,e){var n,o=void 0===e.url||""===e.url?document.location.href:e.url,i=void 0===e.image?"":e.image;if("facebook"===t)n={method:"share",href:o},""!==i&&(n.picture=i),FB.ui(n,function(){});else if("twitter"===t){""!==i&&(o=i);var a=window.open("https://twitter.com/intent/tweet?url="+o+"&text=&original_referer="+o,"share");window.focus&&a.focus()}else"clipboard"===t&&clipboard.copy(o)};var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(){var t=Handlebars.template,e=Handlebars.templates=Handlebars.templates||{};e["MenuSidebarItem.hbs"]=t({compiler:[7,">= 4.0.0"],main:function(t,e,n,o,i){var a,s=null!=e?e:{},r=n.helperMissing,l="function",d=t.escapeExpression;return'<li class="menu__sidenav__item" data-id="'+d((a=null!=(a=n.module_link||(null!=e?e.module_link:e))?a:r,("undefined"==typeof a?"undefined":_typeof(a))===l?a.call(s,{name:"module_link",hash:{},data:i}):a))+'">\n\t<span class="icon icon--default" style="background-image:url('+d((a=null!=(a=n.image1||(null!=e?e.image1:e))?a:r,("undefined"==typeof a?"undefined":_typeof(a))===l?a.call(s,{name:"image1",hash:{},data:i}):a))+');"></span>\n\t<span class="icon icon--selected" style="background-image:url('+d((a=null!=(a=n.image2||(null!=e?e.image2:e))?a:r,("undefined"==typeof a?"undefined":_typeof(a))===l?a.call(s,{name:"image2",hash:{},data:i}):a))+');"></span>\n\t<div class="text-wrapper">\n    <span class="text">'+d((a=null!=(a=n.label||(null!=e?e.label:e))?a:r,("undefined"==typeof a?"undefined":_typeof(a))===l?a.call(s,{name:"label",hash:{},data:i}):a))+'<span class="shadow"></span></span>\n\t</div>\n</li>'},useData:!0}),e["MyAccountAddressBook.hbs"]=t({1:function(t,e,n,o,i,a,s){var r,l,d=null!=e?e:{},u=n.helperMissing,p="function",c=t.escapeExpression,h=t.lambda;return'\t<div class="module__subcontent-column module__subcontent-column--left">\n'+(null!=(r=n["if"].call(d,null!=e?e.isDefault:e,{name:"if",hash:{},fn:t.program(2,i,0,a,s),inverse:t.noop,data:i}))?r:"")+"\t\t<h3>"+c((l=null!=(l=n.nickname||(null!=e?e.nickname:e))?l:u,("undefined"==typeof l?"undefined":_typeof(l))===p?l.call(d,{name:"nickname",hash:{},data:i}):l))+'</h3>\n\t\t<div class="address-wrap">\n\t\t\t<div>'+c((l=null!=(l=n.line1||(null!=e?e.line1:e))?l:u,("undefined"==typeof l?"undefined":_typeof(l))===p?l.call(d,{name:"line1",hash:{},data:i}):l))+"</div>\n\t\t\t<div>"+c((l=null!=(l=n.line2||(null!=e?e.line2:e))?l:u,("undefined"==typeof l?"undefined":_typeof(l))===p?l.call(d,{name:"line2",hash:{},data:i}):l))+"</div>\n\t\t\t<div>"+c((l=null!=(l=n.line3||(null!=e?e.line3:e))?l:u,("undefined"==typeof l?"undefined":_typeof(l))===p?l.call(d,{name:"line3",hash:{},data:i}):l))+"</div>\n\t\t\t<div>"+c((l=null!=(l=n.city||(null!=e?e.city:e))?l:u,("undefined"==typeof l?"undefined":_typeof(l))===p?l.call(d,{name:"city",hash:{},data:i}):l))+"</div>\n\t\t\t<div>"+c((l=null!=(l=n.postcode||(null!=e?e.postcode:e))?l:u,("undefined"==typeof l?"undefined":_typeof(l))===p?l.call(d,{name:"postcode",hash:{},data:i}):l))+"</div>\n\t\t\t<!--<div>"+c((l=null!=(l=n.country||(null!=e?e.country:e))?l:u,("undefined"==typeof l?"undefined":_typeof(l))===p?l.call(d,{name:"country",hash:{},data:i}):l))+'</div>-->\n\t\t</div>\n\n\t\t<a href="'+c(h(null!=(r=null!=s[1]?s[1].urls:s[1])?r.address_book_edit:r,e))+c((l=null!=(l=n.id||(null!=e?e.id:e))?l:u,("undefined"==typeof l?"undefined":_typeof(l))===p?l.call(d,{name:"id",hash:{},data:i}):l))+'" class="button button--red-over button--edit">\n\t\t\t<div class="button__content-wrapper">\n\t\t\t\t<div class="button__content">\n\t\t\t\t\t<span>'+c(h(null!=(r=null!=(r=null!=s[1]?s[1].dictionary:s[1])?r.address_book:r)?r.button_edit:r,e))+'</span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</a>\n\n\t\t<button data-delete-id="'+c((l=null!=(l=n.id||(null!=e?e.id:e))?l:u,("undefined"==typeof l?"undefined":_typeof(l))===p?l.call(d,{name:"id",hash:{},data:i}):l))+'" class="button button--red-over button--delete">\n\t\t\t<div class="button__content-wrapper">\n\t\t\t\t<i class="zmdi zmdi-delete zmdi-hc-fw"></i>\n\t\t\t</div>\n\t\t</button>\n\t</div>\n'},2:function(t,e,n,o,i,a,s){var r;return'\t\t<span class="default">'+t.escapeExpression(t.lambda(null!=(r=null!=(r=null!=s[1]?s[1].dictionary:s[1])?r.address_book:r)?r["default"]:r,e))+"</span>\n"},4:function(t,e,n,o,i){var a;return'\t<h3 class="no-result">'+t.escapeExpression(t.lambda(null!=(a=null!=(a=null!=e?e.dictionary:e)?a.address_book:a)?a.no_data:a,e))+"</h3>\n"},compiler:[7,">= 4.0.0"],main:function(t,e,n,o,i,a,s){var r;return null!=(r=n.each.call(null!=e?e:{},e,{name:"each",hash:{},fn:t.program(1,i,0,a,s),inverse:t.program(4,i,0,a,s),data:i}))?r:""},useData:!0,useDepths:!0}),e["MyAccountAddressBookForm.hbs"]=t({1:function(t,e,n,o,i){var a;return'\t<input id="f10" name="id" type="hidden" value="'+t.escapeExpression((a=null!=(a=n.id||(null!=e?e.id:e))?a:n.helperMissing,"function"==typeof a?a.call(null!=e?e:{},{name:"id",hash:{},data:i}):a))+'" data-send="0">\n'},3:function(t,e,n,o,i){return"checked"},5:function(t,e,n,o,i){var a;return t.escapeExpression(t.lambda(null!=(a=null!=(a=null!=e?e.dictionary:e)?a.address_book_edit:a)?a.button_save:a,e))},7:function(t,e,n,o,i){var a;return t.escapeExpression(t.lambda(null!=(a=null!=(a=null!=e?e.dictionary:e)?a.address_book_add:a)?a.button_save:a,e))},9:function(t,e,n,o,i){var a;return t.escapeExpression(t.lambda(null!=(a=null!=(a=null!=e?e.dictionary:e)?a.address_book_edit:a)?a.button_cancel:a,e))},11:function(t,e,n,o,i){var a;return t.escapeExpression(t.lambda(null!=(a=null!=(a=null!=e?e.dictionary:e)?a.address_book_add:a)?a.button_cancel:a,e))},compiler:[7,">= 4.0.0"],main:function(t,e,n,o,i){var a,s,r=null!=e?e:{},l=t.lambda,d=t.escapeExpression,u=n.helperMissing,p="function";return'<form action="#">\n'+(null!=(a=n["if"].call(r,null!=e?e.nickname:e,{name:"if",hash:{},fn:t.program(1,i,0),inverse:t.noop,data:i}))?a:"")+'\n\t<label for="f7">'+d(l(null!=(a=null!=(a=null!=e?e.dictionary:e)?a.address_book_add:a)?a.nickname:a,e))+'</label>\n\t<div class="form-item">\n\t\t<input id="f7" name="nickname" type="text" value="'+d((s=null!=(s=n.nickname||(null!=e?e.nickname:e))?s:u,("undefined"==typeof s?"undefined":_typeof(s))===p?s.call(r,{name:"nickname",hash:{},data:i}):s))+'" data-validate="1">\n\t</div>\n\n\t<label for="f1">'+d(l(null!=(a=null!=(a=null!=e?e.dictionary:e)?a.address_book_add:a)?a.line1:a,e))+'</label>\n\t<div class="form-item">\n\t\t<input id="f1" name="line1" type="text" value="'+d((s=null!=(s=n.line1||(null!=e?e.line1:e))?s:u,("undefined"==typeof s?"undefined":_typeof(s))===p?s.call(r,{name:"line1",hash:{},data:i}):s))+'" data-validate="1" placeholder="'+d(l(null!=(a=null!=(a=null!=e?e.dictionary:e)?a.address_book_add:a)?a.line1_placeholder:a,e))+'">\n\t</div>\n\n\t<label for="f2">'+d(l(null!=(a=null!=(a=null!=e?e.dictionary:e)?a.address_book_add:a)?a.line2:a,e))+'</label>\n\t<div class="form-item">\n\t\t<input id="f2" name="line2" type="text" value="'+d((s=null!=(s=n.line2||(null!=e?e.line2:e))?s:u,("undefined"==typeof s?"undefined":_typeof(s))===p?s.call(r,{name:"line2",hash:{},data:i}):s))+'" placeholder="'+d(l(null!=(a=null!=(a=null!=e?e.dictionary:e)?a.address_book_add:a)?a.line2_placeholder:a,e))+'">\n\t</div>\n\n\t<label for="f4">'+d(l(null!=(a=null!=(a=null!=e?e.dictionary:e)?a.address_book_add:a)?a.city:a,e))+'</label>\n\t<div class="form-item">\n\t\t<input id="f4" name="city" type="text" value="'+d((s=null!=(s=n.city||(null!=e?e.city:e))?s:u,("undefined"==typeof s?"undefined":_typeof(s))===p?s.call(r,{name:"city",hash:{},data:i}):s))+'" data-validate="1">\n\t</div>\n\n\t<label for="f5">'+d(l(null!=(a=null!=(a=null!=e?e.dictionary:e)?a.address_book_add:a)?a.postcode:a,e))+'</label>\n\t<div class="form-item">\n\t\t<input id="f5" name="postcode" type="text" value="'+d((s=null!=(s=n.postcode||(null!=e?e.postcode:e))?s:u,("undefined"==typeof s?"undefined":_typeof(s))===p?s.call(r,{name:"postcode",hash:{},data:i}):s))+'" data-validate="1">\n\t</div>\n\n\t<!--\n\t<label for="f6">'+d(l(null!=(a=null!=(a=null!=e?e.dictionary:e)?a.address_book_add:a)?a.country:a,e))+'</label>\n\t<div class="form-item">\n\t\t<input id="f6" name="country" type="text" value="'+d((s=null!=(s=n.country||(null!=e?e.country:e))?s:u,("undefined"==typeof s?"undefined":_typeof(s))===p?s.call(r,{name:"country",hash:{},data:i}):s))+'" data-validate="1">\n\t</div>-->\n\n\t<div class="form-item form-item--centered">\n\t\t<input id="f8" type="checkbox" name="isDefault" value="true" data-boolean="1" '+(null!=(a=n["if"].call(r,null!=e?e.isDefault:e,{name:"if",hash:{},fn:t.program(3,i,0),inverse:t.noop,data:i}))?a:"")+'>\n\t\t<label for="f8">'+d(l(null!=(a=null!=(a=null!=e?e.dictionary:e)?a.address_book_add:a)?a["default"]:a,e))+'</label>\n\t</div>\n\n\t<div class="clear"></div>\n\n\t<!--Save-->\n\t<button class="button button--red-over" type="submit">\n\t\t<div class="button__content-wrapper">\n\t\t\t<div class="button__content">\n\t\t\t\t<span>'+(null!=(a=n["if"].call(r,null!=e?e.nickname:e,{name:"if",hash:{},fn:t.program(5,i,0),inverse:t.program(7,i,0),data:i}))?a:"")+'</span>\n\t\t\t</div>\n\t\t</div>\n\t</button>\n\n\t<!--Cancel-->\n\t<a href="'+d(l(null!=(a=null!=e?e.urls:e)?a.address_book:a,e))+'" class="form-cancel"><h4>'+(null!=(a=n["if"].call(r,null!=e?e.nickname:e,{name:"if",hash:{},fn:t.program(9,i,0),inverse:t.program(11,i,0),data:i}))?a:"")+"</h4></a>\n</form>\n"},useData:!0}),e["MyAccountProfile.hbs"]=t({1:function(t,e,n,o,i){var a;return t.escapeExpression((a=null!=(a=n.gender_display||(null!=e?e.gender_display:e))?a:n.helperMissing,"function"==typeof a?a.call(null!=e?e:{},{name:"gender_display",hash:{},data:i}):a))},3:function(t,e,n,o,i){var a;return t.escapeExpression(t.lambda(null!=(a=null!=(a=null!=e?e.dictionary:e)?a.profile_information:a)?a.gender_missing:a,e))},5:function(t,e,n,o,i){return t.escapeExpression((n.formatDate||e&&e.formatDate||n.helperMissing).call(null!=e?e:{},null!=e?e.dateOfBirth:e,{name:"formatDate",hash:{},data:i}))},7:function(t,e,n,o,i){var a;return t.escapeExpression(t.lambda(null!=(a=null!=(a=null!=e?e.dictionary:e)?a.profile_information:a)?a.dob_missing:a,e))},9:function(t,e,n,o,i){var a;return t.escapeExpression((a=null!=(a=n.postCode||(null!=e?e.postCode:e))?a:n.helperMissing,"function"==typeof a?a.call(null!=e?e:{},{name:"postCode",hash:{},data:i}):a))},11:function(t,e,n,o,i){var a;return t.escapeExpression(t.lambda(null!=(a=null!=(a=null!=e?e.dictionary:e)?a.profile_information:a)?a.postcode_missing:a,e))},13:function(t,e,n,o,i){var a,s;return null!=(s=null!=(s=n.favouriteByronName||(null!=e?e.favouriteByronName:e))?s:n.helperMissing,a="function"==typeof s?s.call(null!=e?e:{},{name:"favouriteByronName",hash:{},data:i}):s)?a:""},15:function(t,e,n,o,i){var a;return t.escapeExpression(t.lambda(null!=(a=null!=(a=null!=e?e.dictionary:e)?a.profile_preferences:a)?a.favourite_restaurant_missing:a,e))},17:function(t,e,n,o,i){var a;return'\t\t\t\t\t<span class="option option--on">'+t.escapeExpression(t.lambda(null!=(a=null!=(a=null!=e?e.dictionary:e)?a.profile:a)?a.toggle_on:a,e))+"</span>\n"},19:function(t,e,n,o,i){var a;return'\t\t\t\t\t<span class="option option--off">'+t.escapeExpression(t.lambda(null!=(a=null!=(a=null!=e?e.dictionary:e)?a.profile:a)?a.toggle_off:a,e))+"</span>\n"},compiler:[7,">= 4.0.0"],main:function(t,e,n,o,i){var a,s,r=t.lambda,l=t.escapeExpression,d=null!=e?e:{},u=n.helperMissing,p="function";return'<div class="section-wrapper section-wrapper--background fancy-frame" data-frame-type="0">\n\t<div class="section">\n\t\t<div class="section-wrapper section-wrapper--background section-wrapper--title">\n\t\t\t<div class="section section--title fancy-frame" data-frame-type="0">\n\t\t\t\t<span>'+l(r(null!=(a=null!=(a=null!=e?e.dictionary:e)?a.profile:a)?a.box_title_1:a,e))+'</span>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div class="module__subcontent">\n\t\t\t<div class="module__subcontent-column module__subcontent-column--left">\n\t\t\t\t<h3>'+l(r(null!=(a=null!=(a=null!=e?e.dictionary:e)?a.profile_information:a)?a.first_name:a,e))+'</h3>\n\t\t\t\t<div class="icon">\n\t\t\t\t\t<i class="zmdi zmdi-account zmdi-hc-fw"></i>\n\t\t\t\t</div>\n\t\t\t\t<span>'+l((s=null!=(s=n.firstName||(null!=e?e.firstName:e))?s:u,("undefined"==typeof s?"undefined":_typeof(s))===p?s.call(d,{name:"firstName",hash:{},data:i}):s))+'</span>\n\t\t\t</div><!--\n\t\t\t--><div class="module__subcontent-column module__subcontent-column--right">\n\t\t\t\t<h3>'+l(r(null!=(a=null!=(a=null!=e?e.dictionary:e)?a.profile_information:a)?a.last_name:a,e))+'</h3>\n\t\t\t\t<div class="icon">\n\t\t\t\t\t<i class="zmdi zmdi-account zmdi-hc-fw"></i>\n\t\t\t\t</div>\n\t\t\t\t<span>'+l((s=null!=(s=n.lastName||(null!=e?e.lastName:e))?s:u,("undefined"==typeof s?"undefined":_typeof(s))===p?s.call(d,{name:"lastName",hash:{},data:i}):s))+'</span>\n\t\t\t</div><!--\n\t\t\t--><div class="module__subcontent-column module__subcontent-column--left">\n\t\t\t\t<h3>'+l(r(null!=(a=null!=(a=null!=e?e.dictionary:e)?a.profile_information:a)?a.gender:a,e))+'</h3>\n\t\t\t\t<div class="icon">\n\t\t\t\t\t<i class="zmdi zmdi-male-female zmdi-hc-fw"></i>\n\t\t\t\t</div>\n\t\t\t\t<span>'+(null!=(a=n["if"].call(d,null!=e?e.gender_display:e,{name:"if",hash:{},fn:t.program(1,i,0),inverse:t.program(3,i,0),data:i}))?a:"")+'</span>\n\t\t\t</div><!--\n\t\t\t--><div class="module__subcontent-column module__subcontent-column--right">\n\t\t\t\t<h3>'+l(r(null!=(a=null!=(a=null!=e?e.dictionary:e)?a.profile_information:a)?a.dob:a,e))+'</h3>\n\t\t\t\t<div class="icon">\n\t\t\t\t\t<i class="zmdi zmdi-calendar zmdi-hc-fw"></i>\n\t\t\t\t</div>\n\t\t\t\t<span>'+(null!=(a=n["if"].call(d,null!=e?e.dateOfBirth:e,{name:"if",hash:{},fn:t.program(5,i,0),inverse:t.program(7,i,0),data:i}))?a:"")+'</span>\n\t\t\t</div><!--\n\t\t\t--><div class="module__subcontent-column module__subcontent-column--left">\n\t\t\t\t<h3>'+l(r(null!=(a=null!=(a=null!=e?e.dictionary:e)?a.profile_information:a)?a.postcode:a,e))+'</h3>\n\t\t\t\t<div class="icon">\n\t\t\t\t\t<i class="zmdi zmdi-home zmdi-hc-fw"></i>\n\t\t\t\t</div>\n\t\t\t\t<span>'+(null!=(a=n["if"].call(d,null!=e?e.postCode:e,{name:"if",hash:{},fn:t.program(9,i,0),inverse:t.program(11,i,0),data:i}))?a:"")+'</span>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<a href="'+l(r(null!=(a=null!=e?e.urls:e)?a.profile_information:a,e))+'" class="button button--red-over button--edit">\n\t\t\t<div class="button__content-wrapper">\n\t\t\t\t<div class="button__content">\n\t\t\t\t\t<span>'+l(r(null!=(a=null!=(a=null!=e?e.dictionary:e)?a.profile:a)?a.button_edit:a,e))+'</span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</a>\n\t</div>\n</div>\n\n<div class="section-wrapper section-wrapper--background fancy-frame" data-frame-type="0">\n\t<div class="section">\n\t\t<div class="section-wrapper section-wrapper--background section-wrapper--title">\n\t\t\t<div class="section section--title fancy-frame" data-frame-type="0">\n\t\t\t\t<span>'+l(r(null!=(a=null!=(a=null!=e?e.dictionary:e)?a.profile:a)?a.box_title_2:a,e))+'</span>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div class="module__subcontent">\n\t\t\t<div class="module__subcontent-column module__subcontent-column--left">\n\t\t\t\t<h3>'+l(r(null!=(a=null!=(a=null!=e?e.dictionary:e)?a.profile:a)?a.email:a,e))+'</h3>\n\t\t\t\t<div class="icon">\n\t\t\t\t\t<i class="zmdi zmdi-email zmdi-hc-fw"></i>\n\t\t\t\t</div>\n\t\t\t\t<span>'+l((s=null!=(s=n.email||(null!=e?e.email:e))?s:u,("undefined"==typeof s?"undefined":_typeof(s))===p?s.call(d,{name:"email",hash:{},data:i}):s))+'</span>\n\t\t\t</div><!--\n\t\t\t--><div class="module__subcontent-column module__subcontent-column--right">\n\t\t\t\t<h3>'+l(r(null!=(a=null!=(a=null!=e?e.dictionary:e)?a.profile:a)?a.password:a,e))+'</h3>\n\t\t\t\t<div class="icon">\n\t\t\t\t\t<i class="zmdi zmdi-lock zmdi-hc-fw"></i>\n\t\t\t\t</div>\n\t\t\t\t<span>**********</span>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<a href="'+l(r(null!=(a=null!=e?e.urls:e)?a.profile_details:a,e))+'" class="button button--red-over button--edit">\n\t\t\t<div class="button__content-wrapper">\n\t\t\t\t<div class="button__content">\n\t\t\t\t\t<span>'+l(r(null!=(a=null!=(a=null!=e?e.dictionary:e)?a.profile:a)?a.button_edit:a,e))+'</span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</a>\n\t</div>\n</div>\n\n<div class="section-wrapper section-wrapper--background fancy-frame" data-frame-type="0">\n\t<div class="section">\n\t\t<div class="section-wrapper section-wrapper--background section-wrapper--title">\n\t\t\t<div class="section section--title fancy-frame" data-frame-type="0">\n\t\t\t\t<span>'+l(r(null!=(a=null!=(a=null!=e?e.dictionary:e)?a.profile:a)?a.box_title_3:a,e))+'</span>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div class="module__subcontent">\n\t\t\t<div class="module__subcontent-column module__subcontent-column--left">\n\t\t\t\t<h3>'+l(r(null!=(a=null!=(a=null!=e?e.dictionary:e)?a.profile_preferences:a)?a.favourite_restaurant:a,e))+'</h3>\n\t\t\t\t<div class="icon">\n\t\t\t\t\t<i class="zmdi zmdi-pin zmdi-hc-fw"></i>\n\t\t\t\t</div>\n\t\t\t\t<span>'+(null!=(a=n["if"].call(d,null!=e?e.favouriteByron:e,{name:"if",hash:{},fn:t.program(13,i,0),inverse:t.program(15,i,0),data:i}))?a:"")+'</span>\n\t\t\t</div>\n\t\t\t<!--\n\t\t\t<div class="module__subcontent-column module__subcontent-column--right">\n\t\t\t\t<h3>'+l(r(null!=(a=null!=(a=null!=e?e.dictionary:e)?a.profile:a)?a.favourite_restaurant:a,e))+'</h3>\n\t\t\t\t<div class="icon">\n\t\t\t\t\t...\n\t\t\t\t</div>\n\t\t\t\t<span>'+l((s=null!=(s=n.favouriteBurger||(null!=e?e.favouriteBurger:e))?s:u,("undefined"==typeof s?"undefined":_typeof(s))===p?s.call(d,{name:"favouriteBurger",hash:{},data:i}):s))+'</span>\n\t\t\t</div>-->\n\t\t</div>\n\n\t\t<a href="'+l(r(null!=(a=null!=e?e.urls:e)?a.profile_preferences:a,e))+'" class="button button--red-over button--edit">\n\t\t\t<div class="button__content-wrapper">\n\t\t\t\t<div class="button__content">\n\t\t\t\t\t<span>'+l(r(null!=(a=null!=(a=null!=e?e.dictionary:e)?a.profile:a)?a.button_edit:a,e))+'</span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</a>\n\t</div>\n</div>\n\n<div class="section-wrapper section-wrapper--background fancy-frame" data-frame-type="0">\n\t<div class="section">\n\t\t<div class="section-wrapper section-wrapper--background section-wrapper--title">\n\t\t\t<div class="section section--title fancy-frame" data-frame-type="0">\n\t\t\t\t<span>'+l(r(null!=(a=null!=(a=null!=e?e.dictionary:e)?a.profile:a)?a.box_title_4:a,e))+'</span>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div class="module__subcontent">\n\t\t\t<div class="module__subcontent-column module__subcontent-column--left">\n\t\t\t\t<h3>'+l(r(null!=(a=null!=(a=null!=e?e.dictionary:e)?a.profile_updates:a)?a.email:a,e))+'</h3>\n\t\t\t\t<div class="icon">\n\t\t\t\t\t<i class="zmdi zmdi-notifications zmdi-hc-fw"></i>\n\t\t\t\t</div>\n\t\t\t\t<span>'+(null!=(a=r(null!=(a=null!=(a=null!=e?e.dictionary:e)?a.profile_updates:a)?a.email_text:a,e))?a:"")+"</span>\n"+(null!=(a=n["if"].call(d,null!=e?e.notificationsOptIn:e,{name:"if",hash:{},fn:t.program(17,i,0),inverse:t.program(19,i,0),data:i}))?a:"")+'\t\t\t</div><!--\n\t\t\t--><div class="module__subcontent-column module__subcontent-column--right">\n\t\t\t\t<h3>'+l(r(null!=(a=null!=(a=null!=e?e.dictionary:e)?a.profile_updates:a)?a.mobile:a,e))+'</h3>\n\t\t\t\t<div class="icon">\n\t\t\t\t\t<i class="zmdi zmdi-notifications zmdi-hc-fw"></i>\n\t\t\t\t</div>\n\t\t\t\t<span>'+(null!=(a=r(null!=(a=null!=(a=null!=e?e.dictionary:e)?a.profile_updates:a)?a.mobile_text:a,e))?a:"")+"</span>\n"+(null!=(a=n["if"].call(d,null!=e?e.smsOptIn:e,{name:"if",hash:{},fn:t.program(17,i,0),inverse:t.program(19,i,0),data:i}))?a:"")+'\t\t\t</div>\n\n\t\t\t<!--Placeholder for showing restaurant subscriptions-->\n\t\t\t<div id="templateInsert-1" class="module__subcontent-column module__subcontent-column--left"></div>\n\t\t</div>\n\n\t\t<a href="'+l(r(null!=(a=null!=e?e.urls:e)?a.profile_updates:a,e))+'" class="button button--red-over button--edit">\n\t\t\t<div class="button__content-wrapper">\n\t\t\t\t<div class="button__content">\n\t\t\t\t\t<span>'+l(r(null!=(a=null!=(a=null!=e?e.dictionary:e)?a.profile:a)?a.button_edit:a,e))+"</span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</a>\n\t</div>\n</div>\n"},useData:!0}),e["MyAccountProfileDetails.hbs"]=t({compiler:[7,">= 4.0.0"],main:function(t,e,n,o,i){var a,s,r=t.lambda,l=t.escapeExpression;return'<!--Email Change-->\n<form action="#">\n\t<h4>'+l(r(null!=(a=null!=(a=null!=e?e.dictionary:e)?a.profile_details:a)?a.email_title:a,e))+'</h4>\n\n\t<p data-account-detail="email" class="bold intro intro--email">'+l((s=null!=(s=n.email||(null!=e?e.email:e))?s:n.helperMissing,"function"==typeof s?s.call(null!=e?e:{},{name:"email",hash:{},data:i}):s))+'</p>\n\n\t<label for="f1">'+(null!=(a=r(null!=(a=null!=(a=null!=e?e.dictionary:e)?a.profile_details:a)?a.email_new:a,e))?a:"")+'</label>\n\t<div class="form-item">\n\t\t<input id="f1" type="text" name="emailAddress" data-validate="1">\n\t</div>\n\n\t<label for="f2">'+(null!=(a=r(null!=(a=null!=(a=null!=e?e.dictionary:e)?a.profile_details:a)?a.email_confirm:a,e))?a:"")+'</label>\n\t<div class="form-item">\n\t\t<input id="f2" type="text" name="emailConfirm" data-validate="1" data-validate-against=\'emailAddress\'>\n\t</div>\n\n\t<button class="button button--red-over" type="submit" data-endpoint="PersonalDetails/EmailAddress">\n\t\t<div class="button__content-wrapper">\n\t\t\t<div class="button__content">\n\t\t\t\t<span>'+l(r(null!=(a=null!=(a=null!=e?e.dictionary:e)?a.profile_details:a)?a.button_save_email:a,e))+'</span>\n\t\t\t</div>\n\t\t</div>\n\t</button>\n</form>\n\n<!--Password Change-->\n<form action="#">\n\t<h4>'+l(r(null!=(a=null!=(a=null!=e?e.dictionary:e)?a.profile_details:a)?a.password_title:a,e))+'</h4>\n\n\t<label for="f1">'+(null!=(a=r(null!=(a=null!=(a=null!=e?e.dictionary:e)?a.profile_details:a)?a.password_current:a,e))?a:"")+'</label>\n\t<div class="form-item pwd-wrapper">\n\t\t<input id="f1" type="password" name="currentPassword" data-validate="1">\n\t\t<label><span>show</span><input type="checkbox" value="1"></label>\n\t</div>\n\n\t<label for="f2">'+(null!=(a=r(null!=(a=null!=(a=null!=e?e.dictionary:e)?a.profile_details:a)?a.password_new:a,e))?a:"")+'</label>\n\t<div class="form-item pwd-wrapper">\n\t\t<input id="f2" type="password" name="newPassword" data-validate="1" data-no-match="currentPassword">\n\t\t<label><span>show</span><input type="checkbox" value="1"></label>\n\t</div>\n\n\t<p class="form-helper">'+(null!=(a=r(null!=(a=null!=(a=null!=e?e.dictionary:e)?a.profile_details:a)?a.password_helper:a,e))?a:"")+'</p>\n\t<div class="clear"></div>\n\n\t<label for="f3">'+(null!=(a=r(null!=(a=null!=(a=null!=e?e.dictionary:e)?a.profile_details:a)?a.password_confirm:a,e))?a:"")+'</label>\n\t<div class="form-item pwd-wrapper">\n\t\t<input id="f3" type="password" name="confirmPassword" data-validate="1" data-validate-against=\'newPassword\' data-no-match="currentPassword">\n\t\t<label><span>show</span><input type="checkbox" value="1"></label>\n\t</div>\n\n\t<button class="button button--red-over" type="submit" data-endpoint="/PersonalDetails/Password">\n\t\t<div class="button__content-wrapper">\n\t\t\t<div class="button__content">\n\t\t\t\t<span>'+(null!=(a=r(null!=(a=null!=(a=null!=e?e.dictionary:e)?a.profile_details:a)?a.button_save_password:a,e))?a:"")+'</span>\n\t\t\t</div>\n\t\t</div>\n\t</button>\n</form>\n\n<a href="'+l(r(null!=(a=null!=e?e.urls:e)?a.profile:a,e))+'" class="form-cancel"><h4>'+(null!=(a=r(null!=(a=null!=(a=null!=e?e.dictionary:e)?a.profile_details:a)?a.button_cancel:a,e))?a:"")+'</h4></a>\n<a href="'+l(r(null!=(a=null!=e?e.urls:e)?a.profile_remove:a,e))+'" class="form-cancel c--red"><h4>'+(null!=(a=r(null!=(a=null!=(a=null!=e?e.dictionary:e)?a.profile_details:a)?a.button_remove:a,e))?a:"")+"</h4></a>\n"},useData:!0}),e["MyAccountProfileInformation.hbs"]=t({compiler:[7,">= 4.0.0"],main:function(t,e,n,o,i){var a,s,r=t.lambda,l=t.escapeExpression,d=null!=e?e:{},u=n.helperMissing,p="function";return'<form action="#">\n\t<!--First Name-->\n\t<label for="f1">'+l(r(null!=(a=null!=(a=null!=e?e.dictionary:e)?a.profile_information:a)?a.first_name:a,e))+'</label>\n\t<div class="form-item">\n\t\t<input id="f1" type="text" name="firstName" value="'+l((s=null!=(s=n.firstName||(null!=e?e.firstName:e))?s:u,("undefined"==typeof s?"undefined":_typeof(s))===p?s.call(d,{name:"firstName",hash:{},data:i}):s))+'" data-validate="1">\n\t</div>\n\n\t<!--Last Name-->\n\t<label for="f2">'+l(r(null!=(a=null!=(a=null!=e?e.dictionary:e)?a.profile_information:a)?a.last_name:a,e))+'</label>\n\t<div class="form-item">\n\t\t<input id="f2" type="text" name="lastName" value="'+l((s=null!=(s=n.lastName||(null!=e?e.lastName:e))?s:u,("undefined"==typeof s?"undefined":_typeof(s))===p?s.call(d,{name:"lastName",hash:{},data:i}):s))+'" data-validate="1">\n\t</div>\n\n\t<!--Gender-->\n\t<label for="f3">'+l(r(null!=(a=null!=(a=null!=e?e.dictionary:e)?a.profile_information:a)?a.gender:a,e))+'</label>\n\t<div class="form-item">\n\t\t<select id="f3" name="gender" data-value="'+l((s=null!=(s=n.gender||(null!=e?e.gender:e))?s:u,("undefined"==typeof s?"undefined":_typeof(s))===p?s.call(d,{name:"gender",hash:{},data:i}):s))+'">\n\t\t\t<option value="" default>'+l(r(null!=(a=null!=(a=null!=e?e.dictionary:e)?a.profile_information:a)?a.gender_select:a,e))+'</option>\n\t\t\t<option value="'+l(r(null!=(a=null!=(a=null!=e?e.dictionary:e)?a.profile_information:a)?a.gender_value_female:a,e))+'">'+l(r(null!=(a=null!=(a=null!=e?e.dictionary:e)?a.profile_information:a)?a.gender_display_female:a,e))+'</option>\n\t\t\t<option value="'+l(r(null!=(a=null!=(a=null!=e?e.dictionary:e)?a.profile_information:a)?a.gender_value_male:a,e))+'">'+l(r(null!=(a=null!=(a=null!=e?e.dictionary:e)?a.profile_information:a)?a.gender_display_male:a,e))+'</option>\n\t\t\t<option value="'+l(r(null!=(a=null!=(a=null!=e?e.dictionary:e)?a.profile_information:a)?a.gender_value_other:a,e))+'">'+l(r(null!=(a=null!=(a=null!=e?e.dictionary:e)?a.profile_information:a)?a.gender_display_other:a,e))+'</option>\n\t\t\t<option value="'+l(r(null!=(a=null!=(a=null!=e?e.dictionary:e)?a.profile_information:a)?a.gender_value_prefernottosay:a,e))+'">'+l(r(null!=(a=null!=(a=null!=e?e.dictionary:e)?a.profile_information:a)?a.gender_display_prefernottosay:a,e))+'</option>\n\t\t</select>\n\t\t<div class="icon icon-up_down"></div>\n\t</div>\n\n\t<!--Date of Birth-->\n\t<label for="f5">'+l(r(null!=(a=null!=(a=null!=e?e.dictionary:e)?a.profile_information:a)?a.dob:a,e))+'</label>\n\t<div class="form-item inline-block-fix">\n\t\t<div class="input--dob js-input--dob">\n\t\t\t<select id="f5" name="day" data-value="'+l((s=null!=(s=n.day||(null!=e?e.day:e))?s:u,("undefined"==typeof s?"undefined":_typeof(s))===p?s.call(d,{name:"day",hash:{},data:i}):s))+'" data-send="0">\n\t\t\t\t<option value="" default selected>dd</option>\n\t\t\t\t<option value="01">01</option>\n\t\t\t\t<option value="02">02</option>\n\t\t\t\t<option value="03">03</option>\n\t\t\t\t<option value="04">04</option>\n\t\t\t\t<option value="05">05</option>\n\t\t\t\t<option value="06">06</option>\n\t\t\t\t<option value="07">07</option>\n\t\t\t\t<option value="08">08</option>\n\t\t\t\t<option value="09">09</option>\n\t\t\t\t<option value="10">10</option>\n\t\t\t\t<option value="11">11</option>\n\t\t\t\t<option value="12">12</option>\n\t\t\t\t<option value="13">13</option>\n\t\t\t\t<option value="14">14</option>\n\t\t\t\t<option value="15">15</option>\n\t\t\t\t<option value="16">16</option>\n\t\t\t\t<option value="17">17</option>\n\t\t\t\t<option value="18">18</option>\n\t\t\t\t<option value="19">19</option>\n\t\t\t\t<option value="20">20</option>\n\t\t\t\t<option value="21">21</option>\n\t\t\t\t<option value="22">22</option>\n\t\t\t\t<option value="23">23</option>\n\t\t\t\t<option value="24">24</option>\n\t\t\t\t<option value="25">25</option>\n\t\t\t\t<option value="26">26</option>\n\t\t\t\t<option value="27">27</option>\n\t\t\t\t<option value="28">28</option>\n\t\t\t\t<option value="29">29</option>\n\t\t\t\t<option value="30">30</option>\n\t\t\t\t<option value="31">31</option>\n\t\t\t</select>\n\t\t\t<div class="icon icon-up_down"></div>\n\t\t</div>\n\n\t\t<div class="input--dob js-input--dob">\n\t\t\t<select id="f6" name="month" data-value="'+l((s=null!=(s=n.month||(null!=e?e.month:e))?s:u,("undefined"==typeof s?"undefined":_typeof(s))===p?s.call(d,{name:"month",hash:{},data:i}):s))+'" data-send="0">\n\t\t\t\t<option value="" default selected>mm</option>\n\t\t\t\t<option value="01">Jan</option>\n\t\t\t\t<option value="02">Feb</option>\n\t\t\t\t<option value="03">Mar</option>\n\t\t\t\t<option value="04">Apr</option>\n\t\t\t\t<option value="05">May</option>\n\t\t\t\t<option value="06">Jun</option>\n\t\t\t\t<option value="07">Jul</option>\n\t\t\t\t<option value="08">Aug</option>\n\t\t\t\t<option value="09">Sep</option>\n\t\t\t\t<option value="10">Oct</option>\n\t\t\t\t<option value="11">Nov</option>\n\t\t\t\t<option value="12">Dec</option>\n\t\t\t</select>\n\t\t\t<div class="icon icon-up_down"></div>\n\t\t</div>\n\n\t\t<div class="input--dob js-input--dob">\n\t\t\t<select id="f7" name="year" data-value="'+l((s=null!=(s=n.year||(null!=e?e.year:e))?s:u,("undefined"==typeof s?"undefined":_typeof(s))===p?s.call(d,{name:"year",hash:{},data:i}):s))+'" data-send="0">\n\t\t\t\t<option value="" default selected>yyyy</option>\n\t\t\t\t<option value="2016">2016</option>\n\t\t\t\t<option value="2015">2015</option>\n\t\t\t\t<option value="2014">2014</option>\n\t\t\t\t<option value="2013">2013</option>\n\t\t\t\t<option value="2012">2012</option>\n\t\t\t\t<option value="2011">2011</option>\n\t\t\t\t<option value="2010">2010</option>\n\t\t\t\t<option value="2009">2009</option>\n\t\t\t\t<option value="2008">2008</option>\n\t\t\t\t<option value="2007">2007</option>\n\t\t\t\t<option value="2006">2006</option>\n\t\t\t\t<option value="2005">2005</option>\n\t\t\t\t<option value="2004">2004</option>\n\t\t\t\t<option value="2003">2003</option>\n\t\t\t\t<option value="2002">2002</option>\n\t\t\t\t<option value="2001">2001</option>\n\t\t\t\t<option value="2000">2000</option>\n\t\t\t\t<option value="1999">1999</option>\n\t\t\t\t<option value="1998">1998</option>\n\t\t\t\t<option value="1997">1997</option>\n\t\t\t\t<option value="1996">1996</option>\n\t\t\t\t<option value="1995">1995</option>\n\t\t\t\t<option value="1994">1994</option>\n\t\t\t\t<option value="1993">1993</option>\n\t\t\t\t<option value="1992">1992</option>\n\t\t\t\t<option value="1991">1991</option>\n\t\t\t\t<option value="1990">1990</option>\n\t\t\t\t<option value="1989">1989</option>\n\t\t\t\t<option value="1988">1988</option>\n\t\t\t\t<option value="1987">1987</option>\n\t\t\t\t<option value="1986">1986</option>\n\t\t\t\t<option value="1985">1985</option>\n\t\t\t\t<option value="1984">1984</option>\n\t\t\t\t<option value="1983">1983</option>\n\t\t\t\t<option value="1982">1982</option>\n\t\t\t\t<option value="1981">1981</option>\n\t\t\t\t<option value="1980">1980</option>\n\t\t\t\t<option value="1979">1979</option>\n\t\t\t\t<option value="1978">1978</option>\n\t\t\t\t<option value="1977">1977</option>\n\t\t\t\t<option value="1976">1976</option>\n\t\t\t\t<option value="1975">1975</option>\n\t\t\t\t<option value="1974">1974</option>\n\t\t\t\t<option value="1973">1973</option>\n\t\t\t\t<option value="1972">1972</option>\n\t\t\t\t<option value="1971">1971</option>\n\t\t\t\t<option value="1970">1970</option>\n\t\t\t\t<option value="1969">1969</option>\n\t\t\t\t<option value="1968">1968</option>\n\t\t\t\t<option value="1967">1967</option>\n\t\t\t\t<option value="1966">1966</option>\n\t\t\t\t<option value="1965">1965</option>\n\t\t\t\t<option value="1964">1964</option>\n\t\t\t\t<option value="1963">1963</option>\n\t\t\t\t<option value="1962">1962</option>\n\t\t\t\t<option value="1961">1961</option>\n\t\t\t\t<option value="1960">1960</option>\n\t\t\t\t<option value="1959">1959</option>\n\t\t\t\t<option value="1958">1958</option>\n\t\t\t\t<option value="1957">1957</option>\n\t\t\t\t<option value="1956">1956</option>\n\t\t\t\t<option value="1955">1955</option>\n\t\t\t\t<option value="1954">1954</option>\n\t\t\t\t<option value="1953">1953</option>\n\t\t\t\t<option value="1952">1952</option>\n\t\t\t\t<option value="1951">1951</option>\n\t\t\t\t<option value="1950">1950</option>\n\t\t\t\t<option value="1949">1949</option>\n\t\t\t\t<option value="1948">1948</option>\n\t\t\t\t<option value="1947">1947</option>\n\t\t\t\t<option value="1946">1946</option>\n\t\t\t\t<option value="1945">1945</option>\n\t\t\t\t<option value="1944">1944</option>\n\t\t\t\t<option value="1943">1943</option>\n\t\t\t\t<option value="1942">1942</option>\n\t\t\t\t<option value="1941">1941</option>\n\t\t\t\t<option value="1940">1940</option>\n\t\t\t\t<option value="1939">1939</option>\n\t\t\t\t<option value="1938">1938</option>\n\t\t\t\t<option value="1937">1937</option>\n\t\t\t\t<option value="1936">1936</option>\n\t\t\t\t<option value="1935">1935</option>\n\t\t\t\t<option value="1934">1934</option>\n\t\t\t\t<option value="1933">1933</option>\n\t\t\t\t<option value="1932">1932</option>\n\t\t\t\t<option value="1931">1931</option>\n\t\t\t\t<option value="1930">1930</option>\n\t\t\t\t<option value="1929">1929</option>\n\t\t\t\t<option value="1928">1928</option>\n\t\t\t\t<option value="1927">1927</option>\n\t\t\t\t<option value="1926">1926</option>\n\t\t\t\t<option value="1925">1925</option>\n\t\t\t\t<option value="1924">1924</option>\n\t\t\t\t<option value="1923">1923</option>\n\t\t\t\t<option value="1922">1922</option>\n\t\t\t\t<option value="1921">1921</option>\n\t\t\t\t<option value="1920">1920</option>\n\t\t\t\t<option value="1919">1919</option>\n\t\t\t\t<option value="1918">1918</option>\n\t\t\t\t<option value="1917">1917</option>\n\t\t\t\t<option value="1916">1916</option>\n\t\t\t\t<option value="1915">1915</option>\n\t\t\t\t<option value="1914">1914</option>\n\t\t\t\t<option value="1913">1913</option>\n\t\t\t\t<option value="1912">1912</option>\n\t\t\t\t<option value="1911">1911</option>\n\t\t\t\t<option value="1910">1910</option>\n\t\t\t</select>\n\t\t\t<div class="icon icon-up_down"></div>\n\t\t</div>\n\t</div>\n\n\t<!--Phone-->\n\t<label for="f5">'+l(r(null!=(a=null!=(a=null!=e?e.dictionary:e)?a.profile_information:a)?a.postcode:a,e))+'</label>\n\t<div class="form-item">\n\t\t<input id="f5" type="text" name="postcode" value="'+l((s=null!=(s=n.postCode||(null!=e?e.postCode:e))?s:u,("undefined"==typeof s?"undefined":_typeof(s))===p?s.call(d,{name:"postCode",hash:{},data:i}):s))+'">\n\t</div>\n\n\t<!--Hidden fields (required for update)-->\n\t<input type="hidden" name="notificationsOptIn" value="'+l((s=null!=(s=n.notificationsOptIn||(null!=e?e.notificationsOptIn:e))?s:u,("undefined"==typeof s?"undefined":_typeof(s))===p?s.call(d,{name:"notificationsOptIn",hash:{},data:i}):s))+'" data-boolean="1">\n\t<input type="hidden" name="smsOptIn" value="'+l((s=null!=(s=n.smsOptIn||(null!=e?e.smsOptIn:e))?s:u,("undefined"==typeof s?"undefined":_typeof(s))===p?s.call(d,{name:"smsOptIn",hash:{},data:i}):s))+'" data-boolean="1">\n\t<input type="hidden" name="favouriteByron" value="'+l((s=null!=(s=n.favouriteByron||(null!=e?e.favouriteByron:e))?s:u,("undefined"==typeof s?"undefined":_typeof(s))===p?s.call(d,{name:"favouriteByron",hash:{},data:i}):s))+'">\n\n\t<!--Save-->\n\t<button class="button button--red-over" type="submit">\n\t\t<div class="button__content-wrapper">\n\t\t\t<div class="button__content">\n\t\t\t\t<span>'+l(r(null!=(a=null!=(a=null!=e?e.dictionary:e)?a.profile_information:a)?a.button_save:a,e))+'</span>\n\t\t\t</div>\n\t\t</div>\n\t</button>\n\n\t<!--Reset-->\n\t<a href="'+l(r(null!=(a=null!=e?e.urls:e)?a.profile:a,e))+'" class="form-cancel"><h4>'+l(r(null!=(a=null!=(a=null!=e?e.dictionary:e)?a.profile_information:a)?a.button_cancel:a,e))+"</h4></a>\n</form>\n"},useData:!0}),e["MyAccountProfilePreferences.hbs"]=t({1:function(t,e,n,o,i){var a,s,r=null!=e?e:{},l=n.helperMissing,d="function";return'\t\t\t<option value="'+t.escapeExpression((s=null!=(s=n.crm_id||(null!=e?e.crm_id:e))?s:l,("undefined"==typeof s?"undefined":_typeof(s))===d?s.call(r,{name:"crm_id",hash:{},data:i}):s))+'">'+(null!=(s=null!=(s=n.city||(null!=e?e.city:e))?s:l,a=("undefined"==typeof s?"undefined":_typeof(s))===d?s.call(r,{name:"city",hash:{},data:i}):s)?a:"")+" - "+(null!=(s=null!=(s=n.name||(null!=e?e.name:e))?s:l,a=("undefined"==typeof s?"undefined":_typeof(s))===d?s.call(r,{name:"name",hash:{},data:i}):s)?a:"")+"</option>\n"},3:function(t,e,n,o,i){var a;return t.escapeExpression((a=null!=(a=n.postCode||(null!=e?e.postCode:e))?a:n.helperMissing,"function"==typeof a?a.call(null!=e?e:{},{name:"postCode",hash:{},data:i}):a))},5:function(t,e,n,o,i){return"-"},compiler:[7,">= 4.0.0"],main:function(t,e,n,o,i){var a,s,r=t.lambda,l=t.escapeExpression,d=null!=e?e:{},u=n.helperMissing,p="function";return'<form action="#">\n\n\t<!--Restaurant-->\n\t<label for="f9">'+l(r(null!=(a=null!=(a=null!=e?e.dictionary:e)?a.profile_preferences:a)?a.favourite_restaurant:a,e))+'</label>\n\t<div class="form-item">\n\t\t<select name="favouriteByron" id="f9" data-value="'+l((s=null!=(s=n.favouriteByron||(null!=e?e.favouriteByron:e))?s:u,("undefined"==typeof s?"undefined":_typeof(s))===p?s.call(d,{name:"favouriteByron",hash:{},data:i}):s))+'">\n\t\t\t<option value="" default>'+l(r(null!=(a=null!=(a=null!=e?e.dictionary:e)?a.profile_preferences:a)?a.favourite_restaurant_select:a,e))+'</option>\n\t\t\t<option value="'+l(r(null!=(a=null!=(a=null!=e?e.dictionary:e)?a.profile_preferences:a)?a.favourite_restaurant_missing:a,e))+'" >'+l(r(null!=(a=null!=(a=null!=e?e.dictionary:e)?a.profile_preferences:a)?a.favourite_restaurant_missing:a,e))+"</option>\n"+(null!=(a=n.each.call(d,null!=e?e.restaurants:e,{name:"each",hash:{},fn:t.program(1,i,0),inverse:t.noop,data:i}))?a:"")+'\t\t</select>\n\t\t<div class="icon icon-up_down"></div>\n\t</div>\n\n\t<!--Hidden fields-->\n\t<input type="hidden" name="firstName" value="'+l((s=null!=(s=n.firstName||(null!=e?e.firstName:e))?s:u,("undefined"==typeof s?"undefined":_typeof(s))===p?s.call(d,{name:"firstName",hash:{},data:i}):s))+'">\n\t<input type="hidden" name="lastName" value="'+l((s=null!=(s=n.lastName||(null!=e?e.lastName:e))?s:u,("undefined"==typeof s?"undefined":_typeof(s))===p?s.call(d,{name:"lastName",hash:{},data:i}):s))+'">\n\t<input type="hidden" name="gender" value="'+l((s=null!=(s=n.gender||(null!=e?e.gender:e))?s:u,("undefined"==typeof s?"undefined":_typeof(s))===p?s.call(d,{name:"gender",hash:{},data:i}):s))+'">\n\t<input type="hidden" name="mobilePhone" value="'+l((s=null!=(s=n.mobilePhone||(null!=e?e.mobilePhone:e))?s:u,("undefined"==typeof s?"undefined":_typeof(s))===p?s.call(d,{name:"mobilePhone",hash:{},data:i}):s))+'">\n\t<input type="hidden" name="postcode" value="'+(null!=(a=n["if"].call(d,null!=e?e.postCode:e,{name:"if",hash:{},fn:t.program(3,i,0),inverse:t.program(5,i,0),data:i}))?a:"")+'">\n\t<input type="hidden" name="dateOfBirth" value="'+l((s=null!=(s=n.dateOfBirth||(null!=e?e.dateOfBirth:e))?s:u,("undefined"==typeof s?"undefined":_typeof(s))===p?s.call(d,{name:"dateOfBirth",hash:{},data:i}):s))+'">\n\t<input type="hidden" name="notificationsOptIn" value="'+l((s=null!=(s=n.notificationsOptIn||(null!=e?e.notificationsOptIn:e))?s:u,("undefined"==typeof s?"undefined":_typeof(s))===p?s.call(d,{name:"notificationsOptIn",hash:{},data:i}):s))+'" data-boolean="1">\n\t<input type="hidden" name="smsOptIn" value="'+l((s=null!=(s=n.smsOptIn||(null!=e?e.smsOptIn:e))?s:u,("undefined"==typeof s?"undefined":_typeof(s))===p?s.call(d,{name:"smsOptIn",hash:{},data:i}):s))+'" data-boolean="1">\n\n\t<!--Save-->\n\t<button class="button button--red-over" type="submit">\n\t\t<div class="button__content-wrapper">\n\t\t\t<div class="button__content">\n\t\t\t\t<span>'+l(r(null!=(a=null!=(a=null!=e?e.dictionary:e)?a.profile_preferences:a)?a.button_save:a,e))+'</span>\n\t\t\t</div>\n\t\t</div>\n\t</button>\n\n\t<!--Cancel-->\n\t<a href="'+l(r(null!=(a=null!=e?e.urls:e)?a.profile:a,e))+'" class="form-cancel"><h4>'+l(r(null!=(a=null!=(a=null!=e?e.dictionary:e)?a.profile_preferences:a)?a.button_cancel:a,e))+"</h4></a>\n</form>\n"},useData:!0}),e["MyAccountProfileRemove.hbs"]=t({compiler:[7,">= 4.0.0"],main:function(t,e,n,o,i){var a,s=t.lambda;return'<form action="#">\n\t<p class="page-helper">'+(null!=(a=s(null!=(a=null!=(a=null!=e?e.dictionary:e)?a.profile_remove:a)?a.page_helper:a,e))?a:"")+'</p>\n\n\t<label for="f1">'+(null!=(a=s(null!=(a=null!=(a=null!=e?e.dictionary:e)?a.profile_remove:a)?a.password_title:a,e))?a:"")+'</label>\n\t<div class="form-item pwd-wrapper">\n\t\t<input id="f1" type="password" name="currentPassword" data-validate="1">\n\t\t<label><span>show</span><input type="checkbox" value="1"></label>\n\t</div>\n\n\t<button class="button button--red-over" type="submit" data-endpoint="/PersonalDetails/DeletePassword">\n\t\t<div class="button__content-wrapper">\n\t\t\t<div class="button__content">\n\t\t\t\t<span>'+(null!=(a=s(null!=(a=null!=(a=null!=e?e.dictionary:e)?a.profile_remove:a)?a.button_remove:a,e))?a:"")+'</span>\n\t\t\t</div>\n\t\t</div>\n\t</button>\n</form>\n\n\n<a href="'+t.escapeExpression(s(null!=(a=null!=e?e.urls:e)?a.profile:a,e))+'" class="form-cancel"><h4>'+(null!=(a=s(null!=(a=null!=(a=null!=e?e.dictionary:e)?a.profile_remove:a)?a.button_cancel:a,e))?a:"")+"</h4></a>\n"},useData:!0}),e["MyAccountProfileUpdates.hbs"]=t({1:function(t,e,n,o,i){return"checked"},3:function(t,e,n,o,i){var a;return'<label for="f2">'+(null!=(a=t.lambda(null!=(a=null!=(a=null!=e?e.dictionary:e)?a.profile_updates:a)?a.mobile_text:a,e))?a:"")+"</label>"},5:function(t,e,n,o,i){var a;return'<p class="info">'+t.escapeExpression(t.lambda(null!=(a=null!=(a=null!=e?e.dictionary:e)?a.profile_updates:a)?a.mobile_footer:a,e))+"</p>"},7:function(t,e,n,o,i){var a;return'<label for="f1">'+(null!=(a=t.lambda(null!=(a=null!=(a=null!=e?e.dictionary:e)?a.profile_updates:a)?a.email_text:a,e))?a:"")+"</label>"},9:function(t,e,n,o,i){var a;return'<p class="info">'+t.escapeExpression(t.lambda(null!=(a=null!=(a=null!=e?e.dictionary:e)?a.profile_updates:a)?a.email_footer:a,e))+"</p>"},11:function(t,e,n,o,i){var a,s,r=null!=e?e:{},l=n.helperMissing,d="function";return'\t\t\t\t<option value="'+t.escapeExpression((s=null!=(s=n.crm_id||(null!=e?e.crm_id:e))?s:l,("undefined"==typeof s?"undefined":_typeof(s))===d?s.call(r,{name:"crm_id",hash:{},data:i}):s))+'">'+(null!=(s=null!=(s=n.city||(null!=e?e.city:e))?s:l,a=("undefined"==typeof s?"undefined":_typeof(s))===d?s.call(r,{name:"city",hash:{},data:i}):s)?a:"")+" - "+(null!=(s=null!=(s=n.name||(null!=e?e.name:e))?s:l,a=("undefined"==typeof s?"undefined":_typeof(s))===d?s.call(r,{name:"name",hash:{},data:i}):s)?a:"")+"</option>\n"},compiler:[7,">= 4.0.0"],main:function(t,e,n,o,i){var a,s,r=t.lambda,l=t.escapeExpression,d=null!=e?e:{},u=n.helperMissing,p="function";return'<form action="#">\n\t<!--Mobile Updates-->\n\t<h4>'+l(r(null!=(a=null!=(a=null!=e?e.dictionary:e)?a.profile_updates:a)?a.mobile:a,e))+'</h4>\n\t<input type="checkbox" id="f2" name="smsOptIn" value="true" '+(null!=(a=n["if"].call(d,null!=e?e.smsOptIn:e,{name:"if",hash:{},fn:t.program(1,i,0),inverse:t.noop,data:i}))?a:"")+">\n\t"+(null!=(a=n["if"].call(d,null!=(a=null!=(a=null!=e?e.dictionary:e)?a.profile_updates:a)?a.mobile_text:a,{name:"if",hash:{},fn:t.program(3,i,0),inverse:t.noop,data:i}))?a:"")+"\n\t"+(null!=(a=n["if"].call(d,null!=(a=null!=(a=null!=e?e.dictionary:e)?a.profile_updates:a)?a.mobile_footer:a,{name:"if",hash:{},fn:t.program(5,i,0),inverse:t.noop,data:i}))?a:"")+'\n\n\t<div class="clear"></div>\n\n\t<!--Toggle Form (required when opting in for updates) -->\n\t<div class="toggle-form" data-toggle="smsOptIn">\n\t\t<!--Phone-->\n\t\t<label for="f4">'+l(r(null!=(a=null!=(a=null!=e?e.dictionary:e)?a.profile_information:a)?a.phone:a,e))+'</label>\n\t\t<div class="form-item">\n\t\t\t<input id="f4" type="text" name="mobilePhone" value="'+l((s=null!=(s=n.mobilePhone||(null!=e?e.mobilePhone:e))?s:u,("undefined"==typeof s?"undefined":_typeof(s))===p?s.call(d,{name:"mobilePhone",hash:{},data:i}):s))+'" data-validate="1">\n\t\t</div>\n\t</div>\n\n\n\t<!--Restaurant Subscriptions-->\n\t<div id="templateInsert-1"></div>\n\n\n\t<!--Email Updates-->\n\t<h4>'+l(r(null!=(a=null!=(a=null!=e?e.dictionary:e)?a.profile_updates:a)?a.email:a,e))+'</h4>\n\t<input type="checkbox" id="f1" name="notificationsOptIn" value="true" '+(null!=(a=n["if"].call(d,null!=e?e.notificationsOptIn:e,{name:"if",hash:{},fn:t.program(1,i,0),inverse:t.noop,data:i}))?a:"")+">\n\t"+(null!=(a=n["if"].call(d,null!=(a=null!=(a=null!=e?e.dictionary:e)?a.profile_updates:a)?a.email_text:a,{name:"if",hash:{},fn:t.program(7,i,0),inverse:t.noop,data:i}))?a:"")+"\n\t"+(null!=(a=n["if"].call(d,null!=(a=null!=(a=null!=e?e.dictionary:e)?a.profile_updates:a)?a.email_footer:a,{name:"if",hash:{},fn:t.program(9,i,0),inverse:t.noop,data:i}))?a:"")+'\n\n\t<div class="clear"></div>\n\n\t<!--Toggle Form (required when opting in for updates) -->\n\t<div class="toggle-form" data-toggle="notificationsOptIn">\n\n\t\t<!--Date of Birth-->\n\t\t<label for="f5">'+l(r(null!=(a=null!=(a=null!=e?e.dictionary:e)?a.profile_information:a)?a.dob:a,e))+'</label>\n\t\t<div class="form-item inline-block-fix">\n\t\t\t<div class="input--dob js-input--dob">\n\t\t\t\t<select id="f5" name="day" data-value="'+l((s=null!=(s=n.day||(null!=e?e.day:e))?s:u,("undefined"==typeof s?"undefined":_typeof(s))===p?s.call(d,{name:"day",hash:{},data:i}):s))+'" data-send="0" data-validate="1">\n\t\t\t\t\t<option value="" default selected>dd</option>\n\t\t\t\t\t<option value="01">01</option>\n\t\t\t\t\t<option value="02">02</option>\n\t\t\t\t\t<option value="03">03</option>\n\t\t\t\t\t<option value="04">04</option>\n\t\t\t\t\t<option value="05">05</option>\n\t\t\t\t\t<option value="06">06</option>\n\t\t\t\t\t<option value="07">07</option>\n\t\t\t\t\t<option value="08">08</option>\n\t\t\t\t\t<option value="09">09</option>\n\t\t\t\t\t<option value="10">10</option>\n\t\t\t\t\t<option value="11">11</option>\n\t\t\t\t\t<option value="12">12</option>\n\t\t\t\t\t<option value="13">13</option>\n\t\t\t\t\t<option value="14">14</option>\n\t\t\t\t\t<option value="15">15</option>\n\t\t\t\t\t<option value="16">16</option>\n\t\t\t\t\t<option value="17">17</option>\n\t\t\t\t\t<option value="18">18</option>\n\t\t\t\t\t<option value="19">19</option>\n\t\t\t\t\t<option value="20">20</option>\n\t\t\t\t\t<option value="21">21</option>\n\t\t\t\t\t<option value="22">22</option>\n\t\t\t\t\t<option value="23">23</option>\n\t\t\t\t\t<option value="24">24</option>\n\t\t\t\t\t<option value="25">25</option>\n\t\t\t\t\t<option value="26">26</option>\n\t\t\t\t\t<option value="27">27</option>\n\t\t\t\t\t<option value="28">28</option>\n\t\t\t\t\t<option value="29">29</option>\n\t\t\t\t\t<option value="30">30</option>\n\t\t\t\t\t<option value="31">31</option>\n\t\t\t\t</select>\n\t\t\t\t<div class="icon icon-up_down"></div>\n\t\t\t</div>\n\n\t\t\t<div class="input--dob js-input--dob">\n\t\t\t\t<select id="f6" name="month" data-value="'+l((s=null!=(s=n.month||(null!=e?e.month:e))?s:u,("undefined"==typeof s?"undefined":_typeof(s))===p?s.call(d,{name:"month",hash:{},data:i}):s))+'" data-send="0" data-validate="1">\n\t\t\t\t\t<option value="" default selected>mm</option>\n\t\t\t\t\t<option value="01">Jan</option>\n\t\t\t\t\t<option value="02">Feb</option>\n\t\t\t\t\t<option value="03">Mar</option>\n\t\t\t\t\t<option value="04">Apr</option>\n\t\t\t\t\t<option value="05">May</option>\n\t\t\t\t\t<option value="06">Jun</option>\n\t\t\t\t\t<option value="07">Jul</option>\n\t\t\t\t\t<option value="08">Aug</option>\n\t\t\t\t\t<option value="09">Sep</option>\n\t\t\t\t\t<option value="10">Oct</option>\n\t\t\t\t\t<option value="11">Nov</option>\n\t\t\t\t\t<option value="12">Dec</option>\n\t\t\t\t</select>\n\t\t\t\t<div class="icon icon-up_down"></div>\n\t\t\t</div>\n\n\t\t\t<div class="input--dob js-input--dob">\n\t\t\t\t<select id="f7" name="year" data-value="'+l((s=null!=(s=n.year||(null!=e?e.year:e))?s:u,("undefined"==typeof s?"undefined":_typeof(s))===p?s.call(d,{name:"year",hash:{},data:i}):s))+'" data-send="0" data-validate="1">\n\t\t\t\t\t<option value="" default selected>yyyy</option>\n\t\t\t\t\t<option value="2016">2016</option>\n\t\t\t\t\t<option value="2015">2015</option>\n\t\t\t\t\t<option value="2014">2014</option>\n\t\t\t\t\t<option value="2013">2013</option>\n\t\t\t\t\t<option value="2012">2012</option>\n\t\t\t\t\t<option value="2011">2011</option>\n\t\t\t\t\t<option value="2010">2010</option>\n\t\t\t\t\t<option value="2009">2009</option>\n\t\t\t\t\t<option value="2008">2008</option>\n\t\t\t\t\t<option value="2007">2007</option>\n\t\t\t\t\t<option value="2006">2006</option>\n\t\t\t\t\t<option value="2005">2005</option>\n\t\t\t\t\t<option value="2004">2004</option>\n\t\t\t\t\t<option value="2003">2003</option>\n\t\t\t\t\t<option value="2002">2002</option>\n\t\t\t\t\t<option value="2001">2001</option>\n\t\t\t\t\t<option value="2000">2000</option>\n\t\t\t\t\t<option value="1999">1999</option>\n\t\t\t\t\t<option value="1998">1998</option>\n\t\t\t\t\t<option value="1997">1997</option>\n\t\t\t\t\t<option value="1996">1996</option>\n\t\t\t\t\t<option value="1995">1995</option>\n\t\t\t\t\t<option value="1994">1994</option>\n\t\t\t\t\t<option value="1993">1993</option>\n\t\t\t\t\t<option value="1992">1992</option>\n\t\t\t\t\t<option value="1991">1991</option>\n\t\t\t\t\t<option value="1990">1990</option>\n\t\t\t\t\t<option value="1989">1989</option>\n\t\t\t\t\t<option value="1988">1988</option>\n\t\t\t\t\t<option value="1987">1987</option>\n\t\t\t\t\t<option value="1986">1986</option>\n\t\t\t\t\t<option value="1985">1985</option>\n\t\t\t\t\t<option value="1984">1984</option>\n\t\t\t\t\t<option value="1983">1983</option>\n\t\t\t\t\t<option value="1982">1982</option>\n\t\t\t\t\t<option value="1981">1981</option>\n\t\t\t\t\t<option value="1980">1980</option>\n\t\t\t\t\t<option value="1979">1979</option>\n\t\t\t\t\t<option value="1978">1978</option>\n\t\t\t\t\t<option value="1977">1977</option>\n\t\t\t\t\t<option value="1976">1976</option>\n\t\t\t\t\t<option value="1975">1975</option>\n\t\t\t\t\t<option value="1974">1974</option>\n\t\t\t\t\t<option value="1973">1973</option>\n\t\t\t\t\t<option value="1972">1972</option>\n\t\t\t\t\t<option value="1971">1971</option>\n\t\t\t\t\t<option value="1970">1970</option>\n\t\t\t\t\t<option value="1969">1969</option>\n\t\t\t\t\t<option value="1968">1968</option>\n\t\t\t\t\t<option value="1967">1967</option>\n\t\t\t\t\t<option value="1966">1966</option>\n\t\t\t\t\t<option value="1965">1965</option>\n\t\t\t\t\t<option value="1964">1964</option>\n\t\t\t\t\t<option value="1963">1963</option>\n\t\t\t\t\t<option value="1962">1962</option>\n\t\t\t\t\t<option value="1961">1961</option>\n\t\t\t\t\t<option value="1960">1960</option>\n\t\t\t\t\t<option value="1959">1959</option>\n\t\t\t\t\t<option value="1958">1958</option>\n\t\t\t\t\t<option value="1957">1957</option>\n\t\t\t\t\t<option value="1956">1956</option>\n\t\t\t\t\t<option value="1955">1955</option>\n\t\t\t\t\t<option value="1954">1954</option>\n\t\t\t\t\t<option value="1953">1953</option>\n\t\t\t\t\t<option value="1952">1952</option>\n\t\t\t\t\t<option value="1951">1951</option>\n\t\t\t\t\t<option value="1950">1950</option>\n\t\t\t\t\t<option value="1949">1949</option>\n\t\t\t\t\t<option value="1948">1948</option>\n\t\t\t\t\t<option value="1947">1947</option>\n\t\t\t\t\t<option value="1946">1946</option>\n\t\t\t\t\t<option value="1945">1945</option>\n\t\t\t\t\t<option value="1944">1944</option>\n\t\t\t\t\t<option value="1943">1943</option>\n\t\t\t\t\t<option value="1942">1942</option>\n\t\t\t\t\t<option value="1941">1941</option>\n\t\t\t\t\t<option value="1940">1940</option>\n\t\t\t\t\t<option value="1939">1939</option>\n\t\t\t\t\t<option value="1938">1938</option>\n\t\t\t\t\t<option value="1937">1937</option>\n\t\t\t\t\t<option value="1936">1936</option>\n\t\t\t\t\t<option value="1935">1935</option>\n\t\t\t\t\t<option value="1934">1934</option>\n\t\t\t\t\t<option value="1933">1933</option>\n\t\t\t\t\t<option value="1932">1932</option>\n\t\t\t\t\t<option value="1931">1931</option>\n\t\t\t\t\t<option value="1930">1930</option>\n\t\t\t\t\t<option value="1929">1929</option>\n\t\t\t\t\t<option value="1928">1928</option>\n\t\t\t\t\t<option value="1927">1927</option>\n\t\t\t\t\t<option value="1926">1926</option>\n\t\t\t\t\t<option value="1925">1925</option>\n\t\t\t\t\t<option value="1924">1924</option>\n\t\t\t\t\t<option value="1923">1923</option>\n\t\t\t\t\t<option value="1922">1922</option>\n\t\t\t\t\t<option value="1921">1921</option>\n\t\t\t\t\t<option value="1920">1920</option>\n\t\t\t\t\t<option value="1919">1919</option>\n\t\t\t\t\t<option value="1918">1918</option>\n\t\t\t\t\t<option value="1917">1917</option>\n\t\t\t\t\t<option value="1916">1916</option>\n\t\t\t\t\t<option value="1915">1915</option>\n\t\t\t\t\t<option value="1914">1914</option>\n\t\t\t\t\t<option value="1913">1913</option>\n\t\t\t\t\t<option value="1912">1912</option>\n\t\t\t\t\t<option value="1911">1911</option>\n\t\t\t\t\t<option value="1910">1910</option>\n\t\t\t\t</select>\n\t\t\t\t<div class="icon icon-up_down"></div>\n\t\t\t</div>\n\t\t</div>\n\n\n\t\t<!--Postcode-->\n\t\t<label for="f8">'+l(r(null!=(a=null!=(a=null!=e?e.dictionary:e)?a.profile_information:a)?a.postcode:a,e))+'</label>\n\t\t<div class="form-item">\n\t\t\t<input id="f8" type="text" name="postcode" value="'+l((s=null!=(s=n.postCode||(null!=e?e.postCode:e))?s:u,("undefined"==typeof s?"undefined":_typeof(s))===p?s.call(d,{name:"postCode",hash:{},data:i}):s))+'" data-validate="1">\n\t\t</div>\n\n\t\t<!--Gender-->\n\t\t<label for="f9">'+l(r(null!=(a=null!=(a=null!=e?e.dictionary:e)?a.profile_information:a)?a.gender:a,e))+'</label>\n\t\t<div class="form-item">\n\t\t\t<select id="f9" name="gender" data-value="'+l((s=null!=(s=n.gender||(null!=e?e.gender:e))?s:u,("undefined"==typeof s?"undefined":_typeof(s))===p?s.call(d,{name:"gender",hash:{},data:i}):s))+'" data-validate="1">\n\t\t\t\t<option value="" default>'+l(r(null!=(a=null!=(a=null!=e?e.dictionary:e)?a.profile_information:a)?a.gender_select:a,e))+'</option>\n\t\t\t\t<option value="'+l(r(null!=(a=null!=(a=null!=e?e.dictionary:e)?a.profile_information:a)?a.gender_value_female:a,e))+'">'+l(r(null!=(a=null!=(a=null!=e?e.dictionary:e)?a.profile_information:a)?a.gender_display_female:a,e))+'</option>\n\t\t\t\t<option value="'+l(r(null!=(a=null!=(a=null!=e?e.dictionary:e)?a.profile_information:a)?a.gender_value_male:a,e))+'">'+l(r(null!=(a=null!=(a=null!=e?e.dictionary:e)?a.profile_information:a)?a.gender_display_male:a,e))+'</option>\n\t\t\t\t<option value="'+l(r(null!=(a=null!=(a=null!=e?e.dictionary:e)?a.profile_information:a)?a.gender_value_other:a,e))+'">'+l(r(null!=(a=null!=(a=null!=e?e.dictionary:e)?a.profile_information:a)?a.gender_display_other:a,e))+'</option>\n\t\t\t\t<option value="'+l(r(null!=(a=null!=(a=null!=e?e.dictionary:e)?a.profile_information:a)?a.gender_value_prefernottosay:a,e))+'">'+l(r(null!=(a=null!=(a=null!=e?e.dictionary:e)?a.profile_information:a)?a.gender_display_prefernottosay:a,e))+'</option>\n\t\t\t</select>\n\t\t\t<div class="icon icon-up_down"></div>\n\t\t</div>\n\n\t\t<!--Restaurant-->\n\t\t<label for="10">'+l(r(null!=(a=null!=(a=null!=e?e.dictionary:e)?a.profile_preferences:a)?a.favourite_restaurant:a,e))+'</label>\n\t\t<div class="form-item">\n\t\t\t<select name="favouriteByron" id="f10" data-value="'+l((s=null!=(s=n.favouriteByron||(null!=e?e.favouriteByron:e))?s:u,("undefined"==typeof s?"undefined":_typeof(s))===p?s.call(d,{name:"favouriteByron",hash:{},data:i}):s))+'" data-validate="1">\n\t\t\t\t<option value="" default>'+l(r(null!=(a=null!=(a=null!=e?e.dictionary:e)?a.profile_preferences:a)?a.favourite_restaurant_select:a,e))+"</option>\n"+(null!=(a=n.each.call(d,null!=e?e.restaurants:e,{name:"each",hash:{},fn:t.program(11,i,0),inverse:t.noop,data:i}))?a:"")+'\t\t\t</select>\n\t\t\t<div class="icon icon-up_down"></div>\n\t\t</div>\n\t</div>\n\n\t<!--Hidden fields-->\n\t<input type="hidden" name="email" value="'+l((s=null!=(s=n.email||(null!=e?e.email:e))?s:u,("undefined"==typeof s?"undefined":_typeof(s))===p?s.call(d,{name:"email",hash:{},data:i}):s))+'">\n\t<input type="hidden" name="firstName" value="'+l((s=null!=(s=n.firstName||(null!=e?e.firstName:e))?s:u,("undefined"==typeof s?"undefined":_typeof(s))===p?s.call(d,{name:"firstName",hash:{},data:i}):s))+'">\n\t<input type="hidden" name="lastName" value="'+l((s=null!=(s=n.lastName||(null!=e?e.lastName:e))?s:u,("undefined"==typeof s?"undefined":_typeof(s))===p?s.call(d,{name:"lastName",hash:{},data:i}):s))+'">\n\n\t<!--Save-->\n\t<button class="button button--red-over" type="submit">\n\t\t<div class="button__content-wrapper">\n\t\t\t<div class="button__content">\n\t\t\t\t<span>'+l(r(null!=(a=null!=(a=null!=e?e.dictionary:e)?a.profile_information:a)?a.button_save:a,e))+'</span>\n\t\t\t</div>\n\t\t</div>\n\t</button>\n\n\t<!--Cancel-->\n\t<a href="'+l(r(null!=(a=null!=e?e.urls:e)?a.profile:a,e))+'" class="form-cancel"><h4>'+l(r(null!=(a=null!=(a=null!=e?e.dictionary:e)?a.profile_information:a)?a.button_cancel:a,e))+"</h4></a>\n</form>\n"},useData:!0}),e["MyAccountProfileUpdatesRestaurantSubscriptions.hbs"]=t({1:function(t,e,n,o,i,a,s){var r,l=t.lambda,d=t.escapeExpression;return"<h4>"+d(l(null!=(r=null!=(r=null!=e?e.dictionary:e)?r.profile_updates:r)?r.restaurants:r,e))+"</h4>\n"+(null!=(r=n.each.call(null!=e?e:{},e,{name:"each",hash:{},fn:t.program(2,i,0,a,s),inverse:t.noop,data:i}))?r:"")+'<p class="info">'+d(l(null!=(r=null!=(r=null!=e?e.dictionary:e)?r.profile_updates:r)?r.restaurants_footer:r,e))+"</p>\n"},2:function(t,e,n,o,i,a,s){var r,l,d=null!=e?e:{},u=n.helperMissing,p="function",c=t.escapeExpression;return'\t<div class="clear"></div>\n\n\t<input type="checkbox" name="crmId'+c((l=null!=(l=n.index||i&&i.index)?l:u,("undefined"==typeof l?"undefined":_typeof(l))===p?l.call(d,{name:"index",hash:{},data:i}):l))+'" value="'+c((l=null!=(l=n.crmId||(null!=e?e.crmId:e))?l:u,("undefined"==typeof l?"undefined":_typeof(l))===p?l.call(d,{name:"crmId",hash:{},data:i}):l))+'" checked data-send="0">\n\t<label>'+c(t.lambda(null!=(r=null!=(r=null!=s[1]?s[1].dictionary:s[1])?r.profile_updates:r)?r.restaurants_prefix:r,e))+" "+c((l=null!=(l=n.name||(null!=e?e.name:e))?l:u,("undefined"==typeof l?"undefined":_typeof(l))===p?l.call(d,{name:"name",hash:{},data:i}):l))+".</label>\n"},compiler:[7,">= 4.0.0"],main:function(t,e,n,o,i,a,s){var r;return null!=(r=n["if"].call(null!=e?e:{},e,{name:"if",hash:{},fn:t.program(1,i,0,a,s),inverse:t.noop,data:i}))?r:""},useData:!0,useDepths:!0}),e["MyAccountRestaurantSubscriptions.hbs"]=t({1:function(t,e,n,o,i,a,s){var r;return"\t<h3>"+t.escapeExpression(t.lambda(null!=(r=null!=(r=null!=e?e.dictionary:e)?r.profile_updates:r)?r.restaurants:r,e))+"</h3>\n"+(null!=(r=n.each.call(null!=e?e:{},e,{name:"each",hash:{},fn:t.program(2,i,0,a,s),inverse:t.noop,data:i}))?r:"")},2:function(t,e,n,o,i,a,s){var r,l,d=t.escapeExpression;return'\t\t<div class="clear"></div>\n\t\t<div class="icon">\n\t\t\t<i class="zmdi zmdi-notifications zmdi-hc-fw"></i>\n\t\t</div>\n\t\t<span>'+d(t.lambda(null!=(r=null!=(r=null!=s[1]?s[1].dictionary:s[1])?r.profile_updates:r)?r.restaurants_prefix:r,e))+" "+d((l=null!=(l=n.name||(null!=e?e.name:e))?l:n.helperMissing,"function"==typeof l?l.call(null!=e?e:{},{name:"name",hash:{},data:i}):l))+'.</span>\n\t\t<span class="option option--on">On</span>\n'},compiler:[7,">= 4.0.0"],main:function(t,e,n,o,i,a,s){var r;return null!=(r=n["if"].call(null!=e?e:{},e,{name:"if",hash:{},fn:t.program(1,i,0,a,s),inverse:t.noop,data:i}))?r:""},useData:!0,useDepths:!0}),e["MyAccountWallet.hbs"]=t({1:function(t,e,n,o,i,a,s){var r,l,d=null!=e?e:{},u=n.helperMissing,p="function",c=t.escapeExpression,h=t.lambda;return'\t<div class="module__subcontent-column module__subcontent-column--left">\n'+(null!=(r=n["if"].call(d,null!=(r=null!=e?e.billingAddress:e)?r.isDefault:r,{name:"if",hash:{},fn:t.program(2,i,0,a,s),inverse:t.noop,data:i}))?r:"")+"\t\t<h3>"+c((l=null!=(l=n.nickname||(null!=e?e.nickname:e))?l:u,("undefined"==typeof l?"undefined":_typeof(l))===p?l.call(d,{name:"nickname",hash:{},data:i}):l))+'</h3>\n\t\t<div class="card-details-wrap">\n\t\t\t<div>'+c(h(null!=(r=null!=e?e.billingAddress:e)?r.nickname:r,e))+"</div>\n\t\t\t<div>"+c((l=null!=(l=n.maskedCardNumber||(null!=e?e.maskedCardNumber:e))?l:u,("undefined"==typeof l?"undefined":_typeof(l))===p?l.call(d,{name:"maskedCardNumber",hash:{},data:i}):l))+"</div>\n\t\t\t<!--<div>"+c((l=null!=(l=n.dateCreatedUtc||(null!=e?e.dateCreatedUtc:e))?l:u,("undefined"==typeof l?"undefined":_typeof(l))===p?l.call(d,{name:"dateCreatedUtc",hash:{},data:i}):l))+"</div>-->\n\t\t\t<div>"+c(h(null!=(r=null!=e?e.billingAddress:e)?r.postcode:r,e))+'</div>\n\t\t</div>\n\n\t\t<a href="'+c(h(null!=(r=null!=s[1]?s[1].urls:s[1])?r.wallet_edit:r,e))+c((l=null!=(l=n.id||(null!=e?e.id:e))?l:u,("undefined"==typeof l?"undefined":_typeof(l))===p?l.call(d,{name:"id",hash:{},data:i}):l))+'" class="button button--red-over button--edit">\n\t\t\t<div class="button__content-wrapper">\n\t\t\t\t<div class="button__content">\n\t\t\t\t\t<span>'+c(h(null!=(r=null!=(r=null!=s[1]?s[1].dictionary:s[1])?r.wallet:r)?r.button_edit:r,e))+'</span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</a>\n\n\t\t<button data-delete-id="'+c((l=null!=(l=n.id||(null!=e?e.id:e))?l:u,("undefined"==typeof l?"undefined":_typeof(l))===p?l.call(d,{name:"id",hash:{},data:i}):l))+'" class="button button--red-over button--delete">\n\t\t\t<div class="button__content-wrapper">\n\t\t\t\t<i class="zmdi zmdi-delete zmdi-hc-fw"></i>\n\t\t\t</div>\n\t\t</button>\n\t</div>\n'},2:function(t,e,n,o,i){var a;return'\t\t<span class="default">'+t.escapeExpression(t.lambda(null!=(a=null!=(a=null!=e?e.dictionary:e)?a.wallet:a)?a.default_address:a,e))+"</span>\n"},4:function(t,e,n,o,i){var a;return'\t<h3 class="no-result">'+t.escapeExpression(t.lambda(null!=(a=null!=(a=null!=e?e.dictionary:e)?a.wallet:a)?a.no_data:a,e))+"</h3>\n"},compiler:[7,">= 4.0.0"],main:function(t,e,n,o,i,a,s){var r;return null!=(r=n.each.call(null!=e?e:{},e,{name:"each",hash:{},fn:t.program(1,i,0,a,s),inverse:t.program(4,i,0,a,s),data:i}))?r:""},useData:!0,useDepths:!0}),e["MyAccountWalletAdd.hbs"]=t({compiler:[7,">= 4.0.0"],main:function(t,e,n,o,i){var a,s=t.lambda,r=t.escapeExpression;return'<iframe id="paymentIframe" stlye="border:none;" src="" width="100%" height="400" hidden></iframe>\n\n<form action="#">\n\n<h4>'+r(s(null!=(a=null!=(a=null!=e?e.dictionary:e)?a.wallet_add:a)?a.card_subtitle:a,e))+'</h4>\n\n\t<label for="f9">'+r(s(null!=(a=null!=(a=null!=e?e.dictionary:e)?a.wallet_add:a)?a.nickname:a,e))+'</label>\n\t<div class="form-item">\n\t\t<input id="f9" type="text" name="nickname" data-validate="1">\n\t</div>\n\n\t<h4>'+r(s(null!=(a=null!=(a=null!=e?e.dictionary:e)?a.wallet_add:a)?a.address_subtitle:a,e))+'</h4>\n\n\t<!--List of addresses-->\n\t<div id="templateInsert-1"></div>\n\n\t<!--Toggle form (shows if blank address, or if no address box at all)-->\n\t<div class="toggle-form" data-toggle="existingBillingAddressId">\n\n\t\t<label for="f8">'+r(s(null!=(a=null!=(a=null!=e?e.dictionary:e)?a.wallet_add:a)?a.address_nickname:a,e))+'</label>\n\t\t<div class="form-item">\n\t\t\t<input id="f8" name="newBillingAddress[].nickname" type="text" value="" data-validate="1">\n\t\t</div>\n\n\t\t<label for="f1">'+r(s(null!=(a=null!=(a=null!=e?e.dictionary:e)?a.wallet_add:a)?a.line1:a,e))+'</label>\n\t\t<div class="form-item">\n\t\t\t<input id="f1" name="newBillingAddress[].line1" type="text" value="" placeholder="'+r(s(null!=(a=null!=(a=null!=e?e.dictionary:e)?a.wallet_add:a)?a.line1_placeholder:a,e))+'" data-validate="1">\n\t\t</div>\n\n\t\t<label for="f2">'+r(s(null!=(a=null!=(a=null!=e?e.dictionary:e)?a.wallet_add:a)?a.line2:a,e))+'</label>\n\t\t<div class="form-item">\n\t\t\t<input id="f2" name="newBillingAddress[].line2" type="text" value="" placeholder="'+r(s(null!=(a=null!=(a=null!=e?e.dictionary:e)?a.wallet_add:a)?a.line2_placeholder:a,e))+'" data-validate="0">\n\t\t</div>\n\n\t\t<label for="f4">'+r(s(null!=(a=null!=(a=null!=e?e.dictionary:e)?a.wallet_add:a)?a.city:a,e))+'</label>\n\t\t<div class="form-item">\n\t\t\t<input id="f4" name="newBillingAddress[].city" type="text" value="" data-validate="1">\n\t\t</div>\n\n\t\t<label for="f5">'+r(s(null!=(a=null!=(a=null!=e?e.dictionary:e)?a.wallet_add:a)?a.postcode:a,e))+'</label>\n\t\t<div class="form-item">\n\t\t\t<input id="f5" name="newBillingAddress[].postcode" type="text" value="" data-validate="1">\n\t\t</div>\n\n\t\t<!--\n\t\t<label for="f6">'+r(s(null!=(a=null!=(a=null!=e?e.dictionary:e)?a.wallet_add:a)?a.country:a,e))+'</label>\n\t\t<div class="form-item">\n\t\t\t<input id="f6" name="newBillingAddress[].country" type="text" value="" data-validate="1">\n\t\t</div>-->\n\n\t\t<div class="form-item form-item--centered">\n\t\t\t<input type="checkbox" name="newBillingAddress[].isDefault" value="true">\n\t\t\t<label for="f7">'+r(s(null!=(a=null!=(a=null!=e?e.dictionary:e)?a.wallet_add:a)?a["default"]:a,e))+'</label>\n\t\t</div>\n\t</div>\n\n\t<!--Redirect URLS-->\n\t<input name="completeRedirectUrl" type="hidden" value="'+r(s(null!=(a=null!=e?e.urls:e)?a.wallet_card_success:a,e))+'">\n\t<input name="expiryRedirectUrl" type="hidden" value="'+r(s(null!=(a=null!=e?e.urls:e)?a.wallet_card_error_expiry:a,e))+'">\n\t<input name="errorRedirectUrl" type="hidden" value="'+r(s(null!=(a=null!=e?e.urls:e)?a.wallet_card_error:a,e))+'">\n\n\t<button class="button button--red-over" type="submit">\n\t\t<div class="button__content-wrapper">\n\t\t\t<div class="button__content">\n\t\t\t\t<span>'+r(s(null!=(a=null!=(a=null!=e?e.dictionary:e)?a.wallet_add:a)?a.button_next:a,e))+'</span>\n\t\t\t</div>\n\t\t</div>\n\t</button>\n\n\t<a href="'+r(s(null!=(a=null!=e?e.urls:e)?a.wallet:a,e))+'" class="form-cancel"><h4>'+r(s(null!=(a=null!=(a=null!=e?e.dictionary:e)?a.wallet_add:a)?a.button_cancel:a,e))+"</h4></a>\n</form>\n"},useData:!0}),e["MyAccountWalletAddAddress.hbs"]=t({1:function(t,e,n,o,i){var a,s=null!=e?e:{},r=n.helperMissing,l="function",d=t.escapeExpression;return'\t\t<option value="'+d((a=null!=(a=n.id||(null!=e?e.id:e))?a:r,("undefined"==typeof a?"undefined":_typeof(a))===l?a.call(s,{name:"id",hash:{},data:i}):a))+'">'+d((a=null!=(a=n.nickname||(null!=e?e.nickname:e))?a:r,("undefined"==typeof a?"undefined":_typeof(a))===l?a.call(s,{name:"nickname",hash:{},data:i}):a))+"</option>\n"},compiler:[7,">= 4.0.0"],main:function(t,e,n,o,i){var a,s=t.lambda,r=t.escapeExpression;return"<label>"+r(s(null!=(a=null!=(a=null!=e?e.dictionary:e)?a.wallet_add:a)?a.address_existing:a,e))+'</label>\n<div class="form-item">\n\t<select name="existingBillingAddressId">\n\t\t<option value="">'+r(s(null!=(a=null!=(a=null!=e?e.dictionary:e)?a.wallet_add:a)?a.address_select:a,e))+"</option>\n"+(null!=(a=n.each.call(null!=e?e:{},e,{name:"each",hash:{},fn:t.program(1,i,0),inverse:t.noop,data:i}))?a:"")+'\t</select>\n\t<div class="icon icon-up_down"></div>\n</div>'},useData:!0}),e["MyAccountWalletEdit.hbs"]=t({compiler:[7,">= 4.0.0"],main:function(t,e,n,o,i){var a,s,r=t.lambda,l=t.escapeExpression,d=null!=e?e:{},u=n.helperMissing,p="function";return'<form action="#">\n\t<label for="f1">'+l(r(null!=(a=null!=(a=null!=e?e.dictionary:e)?a.wallet_edit:a)?a.nickname:a,e))+'</label>\n\t<div class="form-item">\n\t\t<input id="f1" type="text" name="nickname" value="'+l((s=null!=(s=n.nickname||(null!=e?e.nickname:e))?s:u,("undefined"==typeof s?"undefined":_typeof(s))===p?s.call(d,{name:"nickname",hash:{},data:i}):s))+'">\n\t</div>\n\n\t<button class="button button--red-over" type="submit" data-endpoint="PaymentCards/'+l((s=null!=(s=n.id||(null!=e?e.id:e))?s:u,("undefined"==typeof s?"undefined":_typeof(s))===p?s.call(d,{name:"id",hash:{},data:i}):s))+'/Nickname">\n\t\t<div class="button__content-wrapper">\n\t\t\t<div class="button__content">\n\t\t\t\t<span>'+l(r(null!=(a=null!=(a=null!=e?e.dictionary:e)?a.wallet_edit:a)?a.button_save:a,e))+'</span>\n\t\t\t</div>\n\t\t</div>\n\t</button>\n\n\t<a href="'+l(r(null!=(a=null!=e?e.urls:e)?a.wallet:a,e))+'" class="form-cancel"><h4>'+l(r(null!=(a=null!=(a=null!=e?e.dictionary:e)?a.wallet_edit:a)?a.button_cancel:a,e))+"</h4></a>\n</form>\n"},useData:!0}),e["SearchResult.hbs"]=t({1:function(t,e,n,o,i){var a;return'<span class="icon icon-'+t.escapeExpression(t.lambda(null!=(a=null!=e?e.restaurant:e)?a.icon_status:a,e))+'"></span>'},3:function(t,e,n,o,i){var a;return", "+t.escapeExpression(t.lambda(null!=(a=null!=e?e.restaurant:e)?a.address2:a,e))},5:function(t,e,n,o,i){var a;return", "+t.escapeExpression(t.lambda(null!=(a=null!=e?e.restaurant:e)?a.city:a,e))},7:function(t,e,n,o,i){var a;return", "+t.escapeExpression(t.lambda(null!=(a=null!=e?e.restaurant:e)?a.postcode:a,e))},9:function(t,e,n,o,i){var a,s=t.lambda,r=t.escapeExpression;return'<p class="telephone"><span class="icon"><i class="zmdi zmdi-phone zmdi-hc-fw"></i></span><a href="tel:'+r(s(null!=(a=null!=e?e.restaurant:e)?a.telephone:a,e))+'">'+r(s(null!=(a=null!=e?e.restaurant:e)?a.telephone:a,e))+"</a></p>"},11:function(t,e,n,o,i){var a;return'        <a href="'+t.escapeExpression(t.lambda(null!=(a=null!=e?e.restaurant:e)?a.book_search:a,e))+'"><div class="button button--red-over">\n          <div class="button__content-wrapper">\n            <div class="button__content">\n              <span>BOOK A TABLE</span>\n            </div>\n          </div>\n        </div></a>\n'},13:function(t,e,n,o,i){var a;return null!=(a=n["if"].call(null!=e?e:{},null!=(a=null!=e?e.restaurant:e)?a.delivery_search:a,{name:"if",hash:{},fn:t.program(14,i,0),inverse:t.program(16,i,0),data:i}))?a:""},14:function(t,e,n,o,i){var a,s=t.lambda,r=t.escapeExpression;return'          <!--Both Items-->\n          <div class="button__magic_wrapper">\n            <a href="'+r(s(null!=(a=null!=e?e.restaurant:e)?a.delivery_search:a,e))+'" target="_blank"><div class="button  button--red-over">\n              <div class="button__content-wrapper">\n                <div class="button__content">\n                  <span>DELIVERY<br/><p class="footnote">by Deliveroo</p></span>\n                </div>\n              </div>\n            </div></a><!--\n            --><a href="'+r(s(null!=(a=null!=e?e.restaurant:e)?a.collection_search:a,e))+'"><div class="button button--reverse button--keyline button--red-over">\n              <div class="button__content-wrapper">\n                <div class="button__content button__content--primary">\n                  <span>ORDER ONLINE</span>\n                </div>\n                <div class="button__content button__content--secondary">\n                  <span>COLLECTION</span>\n                </div>\n              </div>\n            </div></a>\n          </div>\n'},16:function(t,e,n,o,i){var a;return'          <!--Collection Button-->\n          <a href="'+t.escapeExpression(t.lambda(null!=(a=null!=e?e.restaurant:e)?a.collection_search:a,e))+'"><div class="button button--reverse button--keyline button--red-over">\n            <div class="button__content-wrapper">\n              <div class="button__content">\n                <span>COLLECTION</span>\n              </div>\n            </div>\n          </div></a>\n'},18:function(t,e,n,o,i){var a;return null!=(a=n["if"].call(null!=e?e:{},null!=(a=null!=e?e.restaurant:e)?a.delivery_search:a,{name:"if",hash:{},fn:t.program(19,i,0),inverse:t.noop,data:i}))?a:""},19:function(t,e,n,o,i){var a;return'          <!--Delivery Button-->\n          <a href="'+t.escapeExpression(t.lambda(null!=(a=null!=e?e.restaurant:e)?a.delivery_search:a,e))+'" target="_blank"><div class="button button--reverse button--keyline button--red-over">\n            <div class="button__content-wrapper">\n              <div class="button__content">\n                <span>DELIVERY<br/><p class="footnote">by Deliveroo</p></span>\n              </div>\n            </div>\n          </div></a>\n        '},compiler:[7,">= 4.0.0"],main:function(t,e,n,o,i){var a,s,r=null!=e?e:{},l=n.helperMissing,d="function",u=t.escapeExpression,p=t.lambda;return'<!--\n--><div class="results__item">\n    <div class="results__item__column results__item__column--left">\n        <div class="results__item__info">\n            <h3>'+u((s=null!=(s=n.number||(null!=e?e.number:e))?s:l,("undefined"==typeof s?"undefined":_typeof(s))===d?s.call(r,{name:"number",hash:{},data:i}):s))+". "+u(p(null!=(a=null!=e?e.restaurant:e)?a.name:a,e))+(null!=(a=n["if"].call(r,null!=(a=null!=e?e.restaurant:e)?a.icon_status:a,{name:"if",hash:{},fn:t.program(1,i,0),inverse:t.noop,data:i}))?a:"")+'</h3>\n            <p><span class="icon icon-location"></span>'+u(p(null!=(a=null!=e?e.restaurant:e)?a.address1:a,e))+(null!=(a=n["if"].call(r,null!=(a=null!=e?e.restaurant:e)?a.address2:a,{name:"if",hash:{},fn:t.program(3,i,0),inverse:t.noop,data:i}))?a:"")+(null!=(a=n["if"].call(r,null!=(a=null!=e?e.restaurant:e)?a.city:a,{name:"if",hash:{},fn:t.program(5,i,0),inverse:t.noop,data:i}))?a:"")+(null!=(a=n["if"].call(r,null!=(a=null!=e?e.restaurant:e)?a.postcode:a,{name:"if",hash:{},fn:t.program(7,i,0),inverse:t.noop,data:i}))?a:"")+'</p>\n            <p class="distance-data distance-data--loading">Calculating distance...</p>\n            <p class="distance-data distance-data--driving distance-data--hidden"><span class="icon"><i class="zmdi zmdi-turning-sign zmdi-hc-fw"></i></span><span></span><span class="icon icon-car"></span><span></span></p>\n            <p class="distance-data distance-data--walking distance-data--hidden"><span class="icon"><i class="zmdi zmdi-turning-sign zmdi-hc-fw"></i></span><span></span><span class="icon icon-walk"></span><span></span></p>\n            '+(null!=(a=n["if"].call(r,null!=(a=null!=e?e.restaurant:e)?a.telephone:a,{name:"if",hash:{},fn:t.program(9,i,0),inverse:t.noop,data:i}))?a:"")+'\n            <p><span class="icon icon-clock"></span>Open today: '+u((s=null!=(s=n.opening_hours||(null!=e?e.opening_hours:e))?s:l,("undefined"==typeof s?"undefined":_typeof(s))===d?s.call(r,{name:"opening_hours",hash:{},data:i}):s))+'</p>\n            <p><a href="/'+u(p(null!=(a=null!=e?e.restaurant:e)?a.id:a,e))+'/">View restaurant details</a></p>\n        </div>\n    </div>\n    <div class="results__item__column results__item__column--right">\n\n        <!--Book-->\n'+(null!=(a=n["if"].call(r,null!=(a=null!=e?e.restaurant:e)?a.book_search:a,{name:"if",hash:{},fn:t.program(11,i,0),inverse:t.noop,data:i}))?a:"")+"\n        <!--Magic Button Wrapper (used for optional wrapping if there are two elements for online takeaway-->\n"+(null!=(a=n["if"].call(r,null!=(a=null!=e?e.restaurant:e)?a.collection_search:a,{name:"if",hash:{},fn:t.program(13,i,0),inverse:t.program(18,i,0),data:i}))?a:"")+'\n    </div>\n</div>\n\n<!--Split-->\n<div class="split-line fancy-frame" data-frame-type="1"></div><!--\n-->'},useData:!0}),e["ShareableItem.hbs"]=t({compiler:[7,">= 4.0.0"],main:function(t,e,n,o,i){var a,s=null!=e?e:{},r=n.helperMissing,l="function",d=t.escapeExpression;return'<!--Shareable item-->\n<div class="shareable-container">\n\t<div class="shareable-wrapper">\n\t\t<div class="shareable '+d((a=null!=(a=n["class"]||(null!=e?e["class"]:e))?a:r,("undefined"==typeof a?"undefined":_typeof(a))===l?a.call(s,{name:"class",hash:{},data:i}):a))+' " style="background-image:url('+d((a=null!=(a=n.image||(null!=e?e.image:e))?a:r,("undefined"==typeof a?"undefined":_typeof(a))===l?a.call(s,{name:"image",hash:{},data:i}):a))+');">\n\t\t\t<div class="shareable__content">\n\t\t\t\t<div class="shareable__content__element"><a href="action:share,facebook,'+d((a=null!=(a=n.image_full||(null!=e?e.image_full:e))?a:r,("undefined"==typeof a?"undefined":_typeof(a))===l?a.call(s,{name:"image_full",hash:{},data:i}):a))+'"><span class="icon icon-facebook_roundal"></a></span></div>\n\t\t\t\t<div class="shareable__content__element"><a href="action:share,twitter"><span class="icon icon-twitter_roundal"></a></span></div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>'},useData:!0})}();