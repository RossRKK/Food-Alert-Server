"use strict";function s4(){return Math.floor((1+Math.random())*65536).toString(16).substring(1)}function guid(){return s4()+s4()+"-"+s4()+"-"+s4()+"-"+s4()+"-"+s4()+s4()+s4()}function autoHidePopover(){window.clearTimeout(timerId);timerId=setTimeout(function(){$(".ko-popover").not(".with-label-hover").parents(".popover").remove()},3e3)}function setupKoBootstrap(n){n.bindingHandlers.typeahead={init:function(t,i,r){var e=$(t),u=r(),f={source:n.utils.unwrapObservable(i())};u.typeaheadOptions&&$.each(u.typeaheadOptions,function(t,i){f[t]=n.utils.unwrapObservable(i)});e.attr("autocomplete","off").typeahead(f)}};n.bindingHandlers.progress={init:function(t,i,r,u){var f=$(t),e=$("<div/>",{"class":"bar","data-bind":"style: { width:"+i()+" }"});f.attr("id",guid()).addClass("progress progress-info").append(e);n.applyBindingsToDescendants(u,f[0])}};n.bindingHandlers.alert={init:function(t,i){var u=$(t),r=n.utils.unwrapObservable(i()),f=$("<button/>",{type:"button","class":"close","data-dismiss":"alert"}).html("&times;"),e=$("<p/>").html(r.message);u.addClass("alert alert-"+r.priority).append(f).append(e)}};n.bindingHandlers.tooltip={update:function(t,i){var r,u,e,f,o;if(u=n.utils.unwrapObservable(i()),r=$(t),n.isObservable(u.title)){f=!1;r.on("show.bs.tooltip",function(){f=!0});r.on("hide.bs.tooltip",function(){f=!1});o=u.animation||!0;u.title.subscribe(function(){f&&(r.data("bs.tooltip").options.animation=!1,r.tooltip("fixTitle").tooltip("show"),r.data("bs.tooltip").options.animation=o)})}e=r.data("bs.tooltip");e?$.extend(e.options,u):r.tooltip(u)}};n.bindingHandlers.popover={init:function(t,i,r,u,f){var e=n.utils.unwrapObservable(i()),w=e.title,a=e.template,v=e.data,b=e.cssClass,s="click",h="click",c,y,o;e.trigger&&(s=e.trigger);s==="hover"?h="mouseenter mouseleave":s==="focus"&&(h="focus blur");c=e.placement;y=v?function(){var t=$('<div data-bind="template: { name: template, if: data, data: data }"><\/div>');return n.applyBindings({template:a,data:v},t[0]),t}:$("#"+a).html();var k=guid(),p="ko-bs-popover-"+k,d=f.createChildContext(u),g=$("<div/>",{"class":"ko-popover "+b,id:p}).html(y),l={content:$(g[0]).outerHtml(),title:w};c&&(l.placement=c);e.container&&(l.container=e.container);o=$.extend({},n.bindingHandlers.popover.options,l);$(t).bind(h,function(){var a="show",v=$(this),h,w;if(s!=="click"&&(a="toggle"),v.popover(o).popover(a),h=$("#"+p),$(".ko-popover").not(h).not(".with-label-hover").parents(".popover").remove(),autoHidePopover(),h.is(":visible")){n.applyBindingsToDescendants(d,h[0]);var r=$(t).offset().top,u=$(t).offset().left,l=$(t).outerHeight(),y=$(t).outerWidth(),i=$(h).parents(".popover"),e=i.outerHeight(),f=i.outerWidth(),c=10;o.placement==="smartPlacement"?(w=window.innerWidth,u+4<f/2||u-f/2<0&&r-e<20?(o.placement="right",i.addClass("right")):u+f/2>w-4?(o.placement="left",i.addClass("left")):r-e<20?(o.placement="bottom",i.addClass("bottom")):(o.placement="top",i.addClass("top"))):i.addClass(o.placement);switch(o.placement){case"left":i.offset({top:r-e/2+l/2,left:u-c-f});break;case"right":i.offset({top:r-e/2+l/2});break;case"top":u-f/2>0?i.offset({top:r-e-c,left:u-f/2+y/2}):i.offset({top:r-e-c,left:0});$(".arrow").css("top","");break;case"bottom":i.offset({top:r+l+c,left:u-f/2+y/2});$(".arrow").css("top","")}}$(document).on("click",'[data-dismiss="popover"]',function(){v.popover("hide")});return{controlsDescendantBindings:!0}})},options:{placement:"right",title:"",html:!0,content:"",trigger:"manual",cssClass:""}}}var globalns=globalns||{},timerId,popoverDomDataTemplateKey,zoomenu;globalns.ajax=function(){var n=function(){return{"X-TENKITES-API-SessionIdentifier":zoomenu.SessionIdentifierForApi}},t=function(t){return $.ajax({url:t,headers:n()})},i=function(t,i){return $.ajax({url:t,headers:n(),type:"POST",contentType:"application/json",data:i})},r=function(t,i){return $.ajax({url:t,headers:n(),type:"POST",contentType:"text/plain",data:i})},u=function(t){return $.ajax({url:t,headers:n(),type:"POST"})};return{get:t,postJson:i,postText:r,post:u}};zoomenu=zoomenu||{};zoomenu.dataservice=function(){var n=new globalns.ajax,r=function(t,i,r){return n.get("/inner/menu/"+t+"/"+i).then(function(n){r(n)})},u=function(t,i,r,u){return n.get("/inner/menu/"+t+"/"+i+"/"+r+"/sections/").then(function(n){u(n)})},f=function(t,i,r,u,f,e){var o=t.indexOf("recipecors/")!=-1?t:"/inner"+t,s=o+i+"/"+r+"/"+u;return n.get(s).then(function(n,t,i){f(n,t,i)},function(n,t,i){e(n,t,i)})},e=function(n,r,u,f,e,o,s,h,c,l,a,v,y){var p=JSON.stringify({RecipeNames:e,LabelInfoIds:o,ProductIds:s,CategoryIds:h,CaloriesValues:c,PageNumber:l,IncludeConfig:a});return n==!1?t(r,u,f,p,v,y):i(r,u,f,p,v,y)},t=function(t,i,r,u,f,e){var o=t.indexOf("recipecors/")!=-1?t:"/inner"+t,s=o+i+"/"+r;return n.postJson(s,u).then(function(n,t,i){f(n,t,i)},function(n,t,i){e(n,t,i)})},i=function(t,i,r,u,f,e){var o=t.indexOf("recipecors/")!=-1?t:"/inner"+t,s=o+i+"/"+r;return n.postText(s,u).then(function(n,t,i){f(n,t,i)},function(n,t,i){e(n,t,i)})},o=function(t,i,r,u,f,e){var o=t.indexOf("recipecors/")!=-1?t:"/inner"+t,s=o+i+"/"+r+"/recipeName/"+u;return n.get(s).then(function(n,t,i){f(n,t,i)},function(n,t,i){e(n,t,i)})},s=function(t,i,r,u,f,e){var o=t.indexOf("recipecors/")!=-1?t:"/inner"+t,s=o+i+"/"+r+"/productName/"+u;return n.get(s).then(function(n,t,i){f(n,t,i)},function(n,t,i){e(n,t,i)})},h=function(t,i,r,u,f){var e="/inner/menucycle/"+t.orgIdentifier+"/"+t.zooIdentifier+"/"+t.identifier+"/"+i+"/"+r.isoDate;return n.get(e).then(function(n,t,i){u(n,t,i)},function(n,t,i){f(n,t,i)})},c=function(t,i,r,u,f,e){var o="/inner/menucycle/";return o=i==null||r==null?"/inner/menucycle/"+t.orgIdentifier+"/"+t.zooIdentifier+"/"+t.identifier+"/recipe/"+u:"/inner/menucycle/"+t.orgIdentifier+"/"+t.zooIdentifier+"/"+t.identifier+"/"+i+"/"+r.isoDate+"/recipe/"+u,n.get(o).then(function(n,t,i){f(n,t,i)},function(n,t,i){e(n,t,i)})},l=function(t,i,r,u,f,e,o){var s="/inner/stat/",h;return t!=""&&t.indexOf("recipecors/")!=-1&&(s=t+"stat/"),typeof o=="undefined"&&(o=!1),h=s+i+"/"+r+"/"+u+"?isClickedUrl="+o+"&withouttrafficcount=true",n.get(h).then(function(n,t,i){f(n,t,i)},function(n,t,i){e(n,t,i)})},a=function(t,i){return n.get("/inner/file/check?f="+t).then(function(n){i(n)})};return{getMenu:r,getRecipes:e,getRecipesAPI:t,getRecipesCORS:i,getRecipe:f,getRecipesName:o,getRecipesProduct:s,getMenuCycleItem:h,getMenuCycleItemRecipe:c,getMenuSectionItems:u,addStat:l,checkFile:a}};ko.bindingHandlers.isotope={init:function(){},update:function(){console.log("Warning! Ask V!");return}};ko.bindingHandlers.currency={symbol:ko.observable(""),update:function(n,t,i){return ko.bindingHandlers.text.update(n,function(){var n=+(ko.utils.unwrapObservable(t())||0),r=ko.utils.unwrapObservable(i().symbol===undefined?ko.bindingHandlers.currency.symbol:i().symbol);return r+n.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,",")})}},function(n){n.fn.outerHtml=function(){var t,i,r;return this.length===0?!1:(t=this[0],i=t.tagName.toLowerCase(),t.outerHTML)?t.outerHTML:(r=n.map(t.attributes,function(n){return n.name+'="'+n.value+'"'}),"<"+i+(r.length>0?" "+r.join(" "):"")+">"+t.innerHTML+"<\/"+i+">")}}(jQuery),function(n){typeof define=="function"&&define.amd?define(["require","exports","knockout"],function(t,i,r){n(r)}):n(window.ko)}(setupKoBootstrap);ko.bindingHandlers.src={update:function(n,t){_.isUndefined(t())||ko.bindingHandlers.attr.update(n,function(){return{src:t()}})}};ko.bindingHandlers.calorieCounter={update:function(n,t){var i=ko.utils.unwrapObservable(t());_.isNull(i)&&ko.bindingHandlers.visible.update(n,function(){return!1});ko.bindingHandlers.text.update(n,function(){return i})}};ko.bindingHandlers.inViewport={init:function(n,t){var r=_.debounce(function(){var t=n.getBoundingClientRect(),r=t.bottom>0&&t.top<(window.innerHeight+2e3||document.documentElement.clientHeight+2e3);setTimeout(function(){i.bindValues(i.bindValues()||r);i.inDom(r)},1)},50),i=t();r();$(window).on("scroll.ko.scrollHandler",function(){r()})}};ko.bindingHandlers.lazyLoad={init:function(n,t){setTimeout(function(){var n=t();n.bindValues(!0)},25)}};ko.bindingHandlers.totalCalories={update:function(n,t){var i=ko.utils.unwrapObservable(t()),r;r=i.totalNonCalculable?"-":i.isPartial?i.value+"<sup>*<\/sup>":i.value;ko.bindingHandlers.html.update(n,function(){return r})}};ko.bindingHandlers.totalPercentage={update:function(n,t){var i=ko.utils.unwrapObservable(t()),r;r=i.totalNonCalculable?"-":i.isPartial?i.value+"%<sup>*<\/sup>":i.value+"%";ko.bindingHandlers.html.update(n,function(){return r})}};ko.bindingHandlers.percentage={update:function(n,t){var i=ko.utils.unwrapObservable(t()),r;r=_.isNull(i)?"":Math.ceil(i)+"%";ko.bindingHandlers.html.update(n,function(){return r})}};ko.bindingHandlers.sliderValue={init:function(n){typeof $().bootstrapSlider!="undefined"?$(n).bootstrapSlider():$(n).slider()},update:function(n,t){var r=ko.utils.unwrapObservable(t()),u=r.sectionIndex(),i=r.updateSection;if(typeof $().bootstrapSlider!="undefined")$(n).bootstrapSlider().on("slide",function(n){r.value(n.value);i(u);i.notifySubscribers(i())});else $(n).slider().on("slide",function(n){r.value(n.value);i(u);i.notifySubscribers(i())})}};ko.bindingHandlers.sliderForMenuValue={init:function(n){typeof $().bootstrapSlider!="undefined"?$(n).bootstrapSlider():$(n).slider()},update:function(n,t){var i=ko.utils.unwrapObservable(t()),r=i.updateMenuByKCal;if(typeof $().bootstrapSlider!="undefined")$(n).bootstrapSlider().on("change",function(n){i.value(n.value.newValue);r.notifySubscribers()});else $(n).slider().on("change",function(n){i.value(n.value.newValue);r.notifySubscribers()})}};ko.bindingHandlers.sortableMenuPlanner={init:function(n,t){var i=t(),r={stop:function(n,t){var r=ko.dataFor(t.item[0]),f=t.item.index(),u=_.find(i,function(n){return n.sectionId()===r.belongsToSection});t.item.remove();u.mealPlannerItems.remove(r);u.mealPlannerItems.splice(f,0,r)},handle:".handle"};$(n).sortable(r)}};ko.bindingHandlers.modal={init:function(n,t){$(n).modal({show:!1});$(n).on("show.bs.modal",function(){setTimeout(function(){$(n).find(".modal-dialog").off($.support.transition.end)},350)});var i=t();if(typeof i=="function")$(n).on("hide.bs.modal",function(){i(!1)});ko.utils.domNodeDisposal.addDisposeCallback(n,function(){$(n).modal("destroy")})},update:function(n,t){var i=t();ko.utils.unwrapObservable(i)?n.id=="disclaimer"?$(n).showModalAndCheckInSession():$(n).modal("show"):$(n).modal("hide")}};ko.utils.unwrapProperties=function(n){if(n===null||typeof n!="object")return n;var t={};return ko.utils.objectForEach(n,function(n,i){t[n]=ko.unwrap(i)}),t};ko.utils.uniqueId=function(){var n={"ks-unique-":0};return function(t){return t=t||"ks-unique-",n[t]||(n[t]=0),t+n[t]++}}();popoverDomDataTemplateKey="__popoverTemplateKey__";ko.bindingHandlers.popover2={init:function(n){var t=$(n);ko.utils.domNodeDisposal.addDisposeCallback(n,function(){t.data("bs.popover")&&t.popover("destroy")})},update:function(n,t,i,r,u){var e=$(n),o=ko.unwrap(t()),f=(!o.options&&!o.template?ko.utils.unwrapProperties(o):ko.utils.unwrapProperties(o.options))||{},h;if(o.template){ko.unwrap(o.template);var s=ko.utils.domData.get(n,popoverDomDataTemplateKey),l=ko.unwrap(o.data),c=function(){var h;ko.renderTemplate(ko.unwrap(o.template),u.createChildContext(l),o.templateOptions,document.getElementById(s));var t=$("#"+s).parents(".popover"),i=e.data("bs.popover"),n=i.getCalculatedOffset(f.placement||"right",i.getPosition(),t.outerWidth(),t.outerHeight()),r=n.left+t.outerWidth()>$(window).width()&&f.placement=="top";r===!0&&(n.left=n.left-(n.left+t.outerWidth()-$(window).width()));i.applyPlacement(n,f.placement||"right");r===!0&&(h=e.offset().left-n.left-2+e[0].width/2,$(document).find("div.arrow").css("left",parseInt(Math.round(h))+"px"))};if(!s){s=ko.utils.uniqueId("ks-popover-");ko.utils.domData.set(n,popoverDomDataTemplateKey,s);e.on("shown.bs.popover",c)}f.content='<div id="'+s+'" ><\/div>';f.html=!0;$("#"+s).is(":visible")&&c()}if(h=e.data("bs.popover"),h)ko.utils.extend(h.options,f);else{e.popover(f);e.on("shown.bs.popover",function(){var n=$("#"+s).parents(".popover"),o=f.placement,t=e.data("bs.popover"),u=t.getCalculatedOffset(f.placement||"right",t.getPosition(),n.outerWidth(),n.outerHeight()),i,r;u.top<0&&(i="bottom",r=t.getCalculatedOffset(i||"right",t.getPosition(),n.outerWidth(),n.outerHeight()),t.applyPlacement(r,i||"right"),n.removeClass("top").addClass("bottom"));(f.container?$(f.container):e.parent()).one("click",'[data-dismiss="popover"]',function(){e.popover("hide")})})}}};ko.bindingHandlers.templateWithContext={init:ko.bindingHandlers.template.init,update:function(n,t,i,r,u){var f=ko.utils.unwrapObservable(t());return ko.utils.extend(u,f.context),ko.bindingHandlers.template.update.apply(this,arguments)}};ko.virtualElements.allowedBindings.templateWithContext=!0;!function(n){"function"==typeof define&&define.amd?define(["jquery"],n):"object"==typeof exports?module.exports=n:n(jQuery)}(function(n){function u(r){var u=r||window.event,w=c.call(arguments,1),l=0,s=0,e=0,a=0,b=0,k=0,v,y,p;if(r=n.event.fix(u),r.type="mousewheel","detail"in u&&(e=-1*u.detail),"wheelDelta"in u&&(e=u.wheelDelta),"wheelDeltaY"in u&&(e=u.wheelDeltaY),"wheelDeltaX"in u&&(s=-1*u.wheelDeltaX),"axis"in u&&u.axis===u.HORIZONTAL_AXIS&&(s=-1*e,e=0),l=0===e?s:e,"deltaY"in u&&(e=-1*u.deltaY,l=e),"deltaX"in u&&(s=u.deltaX,0===e&&(l=-1*s)),0!==e||0!==s)return 1===u.deltaMode?(v=n.data(this,"mousewheel-line-height"),l*=v,e*=v,s*=v):2===u.deltaMode&&(y=n.data(this,"mousewheel-page-height"),l*=y,e*=y,s*=y),(a=Math.max(Math.abs(e),Math.abs(s)),(!t||t>a)&&(t=a,o(u,a)&&(t/=40)),o(u,a)&&(l/=40,s/=40,e/=40),l=Math[l>=1?"floor":"ceil"](l/t),s=Math[s>=1?"floor":"ceil"](s/t),e=Math[e>=1?"floor":"ceil"](e/t),i.settings.normalizeOffset&&this.getBoundingClientRect)&&(p=this.getBoundingClientRect(),b=r.clientX-p.left,k=r.clientY-p.top),r.deltaX=s,r.deltaY=e,r.deltaFactor=t,r.offsetX=b,r.offsetY=k,r.deltaMode=0,w.unshift(r,l,s,e),f&&clearTimeout(f),f=setTimeout(h,200),(n.event.dispatch||n.event.handle).apply(this,w)}function h(){t=null}function o(n,t){return i.settings.adjustOldDeltas&&"mousewheel"===n.type&&t%120==0}var f,t,s=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],r="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],c=Array.prototype.slice,e,i;if(n.event.fixHooks)for(e=s.length;e;)n.event.fixHooks[s[--e]]=n.event.mouseHooks;i=n.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var t=r.length;t;)this.addEventListener(r[--t],u,!1);else this.onmousewheel=u;n.data(this,"mousewheel-line-height",i.getLineHeight(this));n.data(this,"mousewheel-page-height",i.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var t=r.length;t;)this.removeEventListener(r[--t],u,!1);else this.onmousewheel=null;n.removeData(this,"mousewheel-line-height");n.removeData(this,"mousewheel-page-height")},getLineHeight:function(t){var r=n(t),i=r["offsetParent"in n.fn?"offsetParent":"parent"]();return i.length||(i=n("body")),parseInt(i.css("fontSize"),10)||parseInt(r.css("fontSize"),10)||16},getPageHeight:function(t){return n(t).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};n.fn.extend({mousewheel:function(n){return n?this.bind("mousewheel",n):this.trigger("mousewheel")},unmousewheel:function(n){return this.unbind("mousewheel",n)}})});!function(n){"function"==typeof define&&define.amd?define(["jquery"],n):"object"==typeof exports?module.exports=n:n(jQuery)}(function(n){function u(r){var u=r||window.event,w=c.call(arguments,1),l=0,s=0,e=0,a=0,b=0,k=0,v,y,p;if(r=n.event.fix(u),r.type="mousewheel","detail"in u&&(e=-1*u.detail),"wheelDelta"in u&&(e=u.wheelDelta),"wheelDeltaY"in u&&(e=u.wheelDeltaY),"wheelDeltaX"in u&&(s=-1*u.wheelDeltaX),"axis"in u&&u.axis===u.HORIZONTAL_AXIS&&(s=-1*e,e=0),l=0===e?s:e,"deltaY"in u&&(e=-1*u.deltaY,l=e),"deltaX"in u&&(s=u.deltaX,0===e&&(l=-1*s)),0!==e||0!==s)return 1===u.deltaMode?(v=n.data(this,"mousewheel-line-height"),l*=v,e*=v,s*=v):2===u.deltaMode&&(y=n.data(this,"mousewheel-page-height"),l*=y,e*=y,s*=y),(a=Math.max(Math.abs(e),Math.abs(s)),(!t||t>a)&&(t=a,o(u,a)&&(t/=40)),o(u,a)&&(l/=40,s/=40,e/=40),l=Math[l>=1?"floor":"ceil"](l/t),s=Math[s>=1?"floor":"ceil"](s/t),e=Math[e>=1?"floor":"ceil"](e/t),i.settings.normalizeOffset&&this.getBoundingClientRect)&&(p=this.getBoundingClientRect(),b=r.clientX-p.left,k=r.clientY-p.top),r.deltaX=s,r.deltaY=e,r.deltaFactor=t,r.offsetX=b,r.offsetY=k,r.deltaMode=0,w.unshift(r,l,s,e),f&&clearTimeout(f),f=setTimeout(h,200),(n.event.dispatch||n.event.handle).apply(this,w)}function h(){t=null}function o(n,t){return i.settings.adjustOldDeltas&&"mousewheel"===n.type&&t%120==0}var f,t,s=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],r="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],c=Array.prototype.slice,e,i;if(n.event.fixHooks)for(e=s.length;e;)n.event.fixHooks[s[--e]]=n.event.mouseHooks;i=n.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var t=r.length;t;)this.addEventListener(r[--t],u,!1);else this.onmousewheel=u;n.data(this,"mousewheel-line-height",i.getLineHeight(this));n.data(this,"mousewheel-page-height",i.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var t=r.length;t;)this.removeEventListener(r[--t],u,!1);else this.onmousewheel=null;n.removeData(this,"mousewheel-line-height");n.removeData(this,"mousewheel-page-height")},getLineHeight:function(t){var r=n(t),i=r["offsetParent"in n.fn?"offsetParent":"parent"]();return i.length||(i=n("body")),parseInt(i.css("fontSize"),10)||parseInt(r.css("fontSize"),10)||16},getPageHeight:function(t){return n(t).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};n.fn.extend({mousewheel:function(n){return n?this.bind("mousewheel",n):this.trigger("mousewheel")},unmousewheel:function(n){return this.unbind("mousewheel",n)}})});!function(n){"undefined"!=typeof module&&module.exports?module.exports=n:n(jQuery,window,document)}(function(n){!function(t){var i="function"==typeof define&&define.amd,r="undefined"!=typeof module&&module.exports,u="https:"==document.location.protocol?"https:":"http:";i||(r?require("jquery-mousewheel")(n):n.event.special.mousewheel||n("head").append(decodeURI("%3Cscript src="+u+"//cdnjs.cloudflare.com/ajax/libs/jquery-mousewheel/3.1.13/jquery.mousewheel.min.js%3E%3C/script%3E")));t()}(function(){var h,c="mCustomScrollbar",t="mCS",it=".mCustomScrollbar",et={setTop:0,setLeft:0,axis:"y",scrollbarPosition:"inside",scrollInertia:950,autoDraggerLength:!0,alwaysShowScrollbar:0,snapOffset:0,mouseWheel:{enable:!0,scrollAmount:"auto",axis:"y",deltaFactor:"auto",disableOver:["select","option","keygen","datalist","textarea"]},scrollButtons:{scrollType:"stepless",scrollAmount:"auto"},keyboard:{enable:!0,scrollType:"stepless",scrollAmount:"auto"},contentTouchScroll:25,documentTouchScroll:!0,advanced:{autoScrollOnFocus:"input,textarea,select,button,datalist,keygen,a[tabindex],area,object,[contenteditable='true']",updateOnContentResize:!0,updateOnImageLoad:"auto",autoUpdateTimeout:60},theme:"light",callbacks:{onTotalScrollOffset:0,onTotalScrollBackOffset:0,alwaysTriggerOffsets:!0}},vt=0,b={},p=window.attachEvent&&!window.addEventListener?1:0,f=!1,i=["mCSB_dragger_onDrag","mCSB_scrollTools_onDrag","mCS_img_loaded","mCS_disabled","mCS_destroyed","mCS_no_scrollbar","mCS-autoHide","mCS-dir-rtl","mCS_no_scrollbar_y","mCS_no_scrollbar_x","mCS_y_hidden","mCS_x_hidden","mCSB_draggerContainer","mCSB_buttonUp","mCSB_buttonDown","mCSB_buttonLeft","mCSB_buttonRight"],s={init:function(r){var r=n.extend(!0,{},et,r),e=v.call(this),u,f;if(r.live){if(u=r.liveSelector||this.selector||it,f=n(u),"off"===r.live)return void k(u);b[u]=setTimeout(function(){f.mCustomScrollbar(r);"once"===r.live&&f.length&&k(u)},500)}else k(u);return r.setWidth=r.set_width?r.set_width:r.setWidth,r.setHeight=r.set_height?r.set_height:r.setHeight,r.axis=r.horizontalScroll?"x":yt(r.axis),r.scrollInertia=r.scrollInertia>0&&r.scrollInertia<17?17:r.scrollInertia,"object"!=typeof r.mouseWheel&&1==r.mouseWheel&&(r.mouseWheel={enable:!0,scrollAmount:"auto",axis:"y",preventDefault:!1,deltaFactor:"auto",normalizeDelta:!1,invert:!1}),r.mouseWheel.scrollAmount=r.mouseWheelPixels?r.mouseWheelPixels:r.mouseWheel.scrollAmount,r.mouseWheel.normalizeDelta=r.advanced.normalizeMouseWheelDelta?r.advanced.normalizeMouseWheelDelta:r.mouseWheel.normalizeDelta,r.scrollButtons.scrollType=pt(r.scrollButtons.scrollType),ot(r),n(e).each(function(){var u=n(this);if(!u.data(t)){u.data(t,{idx:++vt,opt:r,scrollRatio:{y:null,x:null},overflowed:null,contentReset:{y:null,x:null},bindEvents:!1,tweenRunning:!1,sequential:{},langDir:u.css("direction"),cbOffsets:null,trigger:null,poll:{size:{o:0,n:0},img:{o:0,n:0},change:{o:0,n:0}}});var e=u.data(t),f=e.opt,o=u.data("mcs-axis"),h=u.data("mcs-scrollbar-position"),c=u.data("mcs-theme");o&&(f.axis=o);h&&(f.scrollbarPosition=h);c&&(f.theme=c,ot(f));wt.call(this);e&&f.callbacks.onCreate&&"function"==typeof f.callbacks.onCreate&&f.callbacks.onCreate.call(this);n("#mCSB_"+e.idx+"_container img:not(."+i[2]+")").addClass(i[2]);s.update.call(null,u)}})},update:function(r,f){var e=r||v.call(this);return n(e).each(function(){var s=n(this),c;if(s.data(t)){var e=s.data(t),r=e.opt,h=n("#mCSB_"+e.idx+"_container"),a=n("#mCSB_"+e.idx),l=[n("#mCSB_"+e.idx+"_dragger_vertical"),n("#mCSB_"+e.idx+"_dragger_horizontal")];if(!h.length)return;e.tweenRunning&&o(s);f&&e&&r.callbacks.onBeforeUpdate&&"function"==typeof r.callbacks.onBeforeUpdate&&r.callbacks.onBeforeUpdate.call(this);s.hasClass(i[3])&&s.removeClass(i[3]);s.hasClass(i[4])&&s.removeClass(i[4]);a.css("max-height","none");a.height()!==s.height()&&a.css("max-height",s.height());bt.call(this);"y"===r.axis||r.advanced.autoExpandHorizontalScroll||h.css("width",st(h));e.overflowed=ni.call(this);ht.call(this);r.autoDraggerLength&&dt.call(this);gt.call(this);ti.call(this);c=[Math.abs(h[0].offsetTop),Math.abs(h[0].offsetLeft)];"x"!==r.axis&&(e.overflowed[0]?l[0].height()>l[0].parent().height()?y.call(this):(u(s,c[0].toString(),{dir:"y",dur:0,overwrite:"none"}),e.contentReset.y=null):(y.call(this),"y"===r.axis?g.call(this):"yx"===r.axis&&e.overflowed[1]&&u(s,c[1].toString(),{dir:"x",dur:0,overwrite:"none"})));"y"!==r.axis&&(e.overflowed[1]?l[1].width()>l[1].parent().width()?y.call(this):(u(s,c[1].toString(),{dir:"x",dur:0,overwrite:"none"}),e.contentReset.x=null):(y.call(this),"x"===r.axis?g.call(this):"yx"===r.axis&&e.overflowed[0]&&u(s,c[0].toString(),{dir:"y",dur:0,overwrite:"none"})));f&&e&&(2===f&&r.callbacks.onImageLoad&&"function"==typeof r.callbacks.onImageLoad?r.callbacks.onImageLoad.call(this):3===f&&r.callbacks.onSelectorChange&&"function"==typeof r.callbacks.onSelectorChange?r.callbacks.onSelectorChange.call(this):r.callbacks.onUpdate&&"function"==typeof r.callbacks.onUpdate&&r.callbacks.onUpdate.call(this));ft.call(this)}})},scrollTo:function(i,r){if("undefined"!=typeof i&&null!=i){var f=v.call(this);return n(f).each(function(){var s=n(this);if(s.data(t)){var o=s.data(t),h=o.opt,c={trigger:"external",scrollInertia:h.scrollInertia,scrollEasing:"mcsEaseInOut",moveDragger:!1,timeout:60,callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},f=n.extend(!0,{},c,r),e=ut.call(this,i),l=f.scrollInertia>0&&f.scrollInertia<17?17:f.scrollInertia;e[0]=ct.call(this,e[0],"y");e[1]=ct.call(this,e[1],"x");f.moveDragger&&(e[0]*=o.scrollRatio.y,e[1]*=o.scrollRatio.x);f.dur=yi()?0:l;setTimeout(function(){null!==e[0]&&"undefined"!=typeof e[0]&&"x"!==h.axis&&o.overflowed[0]&&(f.dir="y",f.overwrite="all",u(s,e[0].toString(),f));null!==e[1]&&"undefined"!=typeof e[1]&&"y"!==h.axis&&o.overflowed[1]&&(f.dir="x",f.overwrite="none",u(s,e[1].toString(),f))},f.timeout)}})}},stop:function(){var i=v.call(this);return n(i).each(function(){var i=n(this);i.data(t)&&o(i)})},disable:function(r){var u=v.call(this);return n(u).each(function(){var u=n(this);u.data(t)&&(u.data(t),ft.call(this,"remove"),g.call(this),r&&y.call(this),ht.call(this,!0),u.addClass(i[3]))})},destroy:function(){var r=v.call(this);return n(r).each(function(){var f=n(this);if(f.data(t)){var u=f.data(t),e=u.opt,s=n("#mCSB_"+u.idx),o=n("#mCSB_"+u.idx+"_container"),h=n(".mCSB_"+u.idx+"_scrollbar");e.live&&k(e.liveSelector||n(r).selector);ft.call(this,"remove");g.call(this);y.call(this);f.removeData(t);a(this,"mcs");h.remove();o.find("img."+i[2]).removeClass(i[2]);s.replaceWith(o.contents());f.removeClass(c+" _"+t+"_"+u.idx+" "+i[6]+" "+i[7]+" "+i[5]+" "+i[3]).addClass(i[4])}})}},v=function(){return"object"!=typeof n(this)||n(this).length<1?it:this},ot=function(t){t.autoDraggerLength=n.inArray(t.theme,["rounded","rounded-dark","rounded-dots","rounded-dots-dark"])>-1?!1:t.autoDraggerLength;t.autoExpandScrollbar=n.inArray(t.theme,["rounded-dots","rounded-dots-dark","3d","3d-dark","3d-thick","3d-thick-dark","inset","inset-dark","inset-2","inset-2-dark","inset-3","inset-3-dark"])>-1?!1:t.autoExpandScrollbar;t.scrollButtons.enable=n.inArray(t.theme,["minimal","minimal-dark"])>-1?!1:t.scrollButtons.enable;t.autoHideScrollbar=n.inArray(t.theme,["minimal","minimal-dark"])>-1?!0:t.autoHideScrollbar;t.scrollbarPosition=n.inArray(t.theme,["minimal","minimal-dark"])>-1?"outside":t.scrollbarPosition},k=function(n){b[n]&&(clearTimeout(b[n]),a(b,n))},yt=function(n){return"yx"===n||"xy"===n||"auto"===n?"yx":"x"===n||"horizontal"===n?"x":"y"},pt=function(n){return"stepped"===n||"pixels"===n||"step"===n||"click"===n?"stepped":"stepless"},wt=function(){var f=n(this),u=f.data(t),r=u.opt,l=r.autoExpandScrollbar?" "+i[1]+"_expand":"",o=["<div id='mCSB_"+u.idx+"_scrollbar_vertical' class='mCSB_scrollTools mCSB_"+u.idx+"_scrollbar mCS-"+r.theme+" mCSB_scrollTools_vertical"+l+"'><div class='"+i[12]+"'><div id='mCSB_"+u.idx+"_dragger_vertical' class='mCSB_dragger' style='position:absolute;' oncontextmenu='return false;'><div class='mCSB_dragger_bar' /><\/div><div class='mCSB_draggerRail' /><\/div><\/div>","<div id='mCSB_"+u.idx+"_scrollbar_horizontal' class='mCSB_scrollTools mCSB_"+u.idx+"_scrollbar mCS-"+r.theme+" mCSB_scrollTools_horizontal"+l+"'><div class='"+i[12]+"'><div id='mCSB_"+u.idx+"_dragger_horizontal' class='mCSB_dragger' style='position:absolute;' oncontextmenu='return false;'><div class='mCSB_dragger_bar' /><\/div><div class='mCSB_draggerRail' /><\/div><\/div>"],v="yx"===r.axis?"mCSB_vertical_horizontal":"x"===r.axis?"mCSB_horizontal":"mCSB_vertical",a="yx"===r.axis?o[0]+o[1]:"x"===r.axis?o[1]:o[0],y="yx"===r.axis?"<div id='mCSB_"+u.idx+"_container_wrapper' class='mCSB_container_wrapper' />":"",p=r.autoHideScrollbar?" "+i[6]:"",w="x"!==r.axis&&"rtl"===u.langDir?" "+i[7]:"",h,s,e;r.setWidth&&f.css("width",r.setWidth);r.setHeight&&f.css("height",r.setHeight);r.setLeft="y"!==r.axis&&"rtl"===u.langDir?"989999px":r.setLeft;f.addClass(c+" _"+t+"_"+u.idx+p+w).wrapInner("<div id='mCSB_"+u.idx+"' class='mCustomScrollBox mCS-"+r.theme+" "+v+"'><div id='mCSB_"+u.idx+"_container' class='mCSB_container' style='position:relative; top:"+r.setTop+"; left:"+r.setLeft+";' dir="+u.langDir+" /><\/div>");h=n("#mCSB_"+u.idx);s=n("#mCSB_"+u.idx+"_container");"y"===r.axis||r.advanced.autoExpandHorizontalScroll||s.css("width",st(s));"outside"===r.scrollbarPosition?("static"===f.css("position")&&f.css("position","relative"),f.css("overflow","visible"),h.addClass("mCSB_outside").after(a)):(h.addClass("mCSB_inside").append(a),s.wrap(y));kt.call(this);e=[n("#mCSB_"+u.idx+"_dragger_vertical"),n("#mCSB_"+u.idx+"_dragger_horizontal")];e[0].css("min-height",e[0].height());e[1].css("min-width",e[1].width())},st=function(t){var i=[t[0].scrollWidth,Math.max.apply(Math,t.children().map(function(){return n(this).outerWidth(!0)}).get())],r=t.parent().width();return i[0]>r?i[0]:i[1]>r?i[1]:"100%"},bt=function(){var e=n(this),f=e.data(t),r=f.opt,i=n("#mCSB_"+f.idx+"_container"),u;r.advanced.autoExpandHorizontalScroll&&"y"!==r.axis&&(i.css({width:"auto","min-width":0,"overflow-x":"scroll"}),u=Math.ceil(i[0].scrollWidth),3===r.advanced.autoExpandHorizontalScroll||2!==r.advanced.autoExpandHorizontalScroll&&u>i.parent().width()?i.css({width:u,"min-width":"100%","overflow-x":"inherit"}):i.css({"overflow-x":"inherit",position:"absolute"}).wrap("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />").css({width:Math.ceil(i[0].getBoundingClientRect().right+.4)-Math.floor(i[0].getBoundingClientRect().left),"min-width":"100%",position:"relative"}).unwrap())},kt=function(){var s=n(this),o=s.data(t),u=o.opt,h=n(".mCSB_"+o.idx+"_scrollbar:first"),f=tt(u.scrollButtons.tabindex)?"tabindex='"+u.scrollButtons.tabindex+"'":"",r=["<a href='#' class='"+i[13]+"' oncontextmenu='return false;' "+f+" />","<a href='#' class='"+i[14]+"' oncontextmenu='return false;' "+f+" />","<a href='#' class='"+i[15]+"' oncontextmenu='return false;' "+f+" />","<a href='#' class='"+i[16]+"' oncontextmenu='return false;' "+f+" />"],e=["x"===u.axis?r[2]:r[0],"x"===u.axis?r[3]:r[1],r[2],r[3]];u.scrollButtons.enable&&h.prepend(e[0]).append(e[1]).next(".mCSB_scrollTools").prepend(e[2]).append(e[3])},dt=function(){var s=n(this),u=s.data(t),f=n("#mCSB_"+u.idx),e=n("#mCSB_"+u.idx+"_container"),r=[n("#mCSB_"+u.idx+"_dragger_vertical"),n("#mCSB_"+u.idx+"_dragger_horizontal")],o=[f.height()/e.outerHeight(!1),f.width()/e.outerWidth(!1)],i=[parseInt(r[0].css("min-height")),Math.round(o[0]*r[0].parent().height()),parseInt(r[1].css("min-width")),Math.round(o[1]*r[1].parent().width())],h=p&&i[1]<i[0]?i[0]:i[1],c=p&&i[3]<i[2]?i[2]:i[3];r[0].css({height:h,"max-height":r[0].parent().height()-10}).find(".mCSB_dragger_bar").css({"line-height":i[0]+"px"});r[1].css({width:c,"max-width":r[1].parent().width()-10})},gt=function(){var s=n(this),i=s.data(t),u=n("#mCSB_"+i.idx),f=n("#mCSB_"+i.idx+"_container"),r=[n("#mCSB_"+i.idx+"_dragger_vertical"),n("#mCSB_"+i.idx+"_dragger_horizontal")],e=[f.outerHeight(!1)-u.height(),f.outerWidth(!1)-u.width()],o=[e[0]/(r[0].parent().height()-r[0].height()),e[1]/(r[1].parent().width()-r[1].width())];i.scrollRatio={y:o[0],x:o[1]}},d=function(n,t,r){var f=r?i[0]+"_expanded":"",u=n.closest(".mCSB_scrollTools");"active"===t?(n.toggleClass(i[0]+" "+f),u.toggleClass(i[1]),n[0]._draggable=n[0]._draggable?0:1):n[0]._draggable||("hide"===t?(n.removeClass(i[0]),u.removeClass(i[1])):(n.addClass(i[0]),u.addClass(i[1])))},ni=function(){var h=n(this),r=h.data(t),e=n("#mCSB_"+r.idx),i=n("#mCSB_"+r.idx+"_container"),u=null==r.overflowed?i.height():i.outerHeight(!1),f=null==r.overflowed?i.width():i.outerWidth(!1),o=i[0].scrollHeight,s=i[0].scrollWidth;return o>u&&(u=o),s>f&&(f=s),[u>e.height(),f>e.width()]},y=function(){var r=n(this),i=r.data(t),f=i.opt,c=n("#mCSB_"+i.idx),s=n("#mCSB_"+i.idx+"_container"),h=[n("#mCSB_"+i.idx+"_dragger_vertical"),n("#mCSB_"+i.idx+"_dragger_horizontal")],e;(o(r),("x"!==f.axis&&!i.overflowed[0]||"y"===f.axis&&i.overflowed[0])&&(h[0].add(s).css("top",0),u(r,"_resetY")),"y"!==f.axis&&!i.overflowed[1]||"x"===f.axis&&i.overflowed[1])&&(e=dx=0,"rtl"===i.langDir&&(e=c.width()-s.outerWidth(!1),dx=Math.abs(e/i.scrollRatio.x)),s.css("left",e),h[1].css("left",dx),u(r,"_resetX"))},ti=function(){function u(){e=setTimeout(function(){n.event.special.mousewheel?(clearTimeout(e),fi.call(f[0])):u()},100)}var f=n(this),r=f.data(t),i=r.opt,e;r.bindEvents||((ii.call(this),i.contentTouchScroll&&ri.call(this),ui.call(this),i.mouseWheel.enable)&&u(),oi.call(this),hi.call(this),i.advanced.autoScrollOnFocus&&si.call(this),i.scrollButtons.enable&&ci.call(this),i.keyboard.enable&&li.call(this),r.bindEvents=!0)},g=function(){var f=n(this),r=f.data(t),u=r.opt,o=t+"_"+r.idx,s=".mCSB_"+r.idx+"_scrollbar",e=n("#mCSB_"+r.idx+",#mCSB_"+r.idx+"_container,#mCSB_"+r.idx+"_container_wrapper,"+s+" ."+i[12]+",#mCSB_"+r.idx+"_dragger_vertical,#mCSB_"+r.idx+"_dragger_horizontal,"+s+">a"),h=n("#mCSB_"+r.idx+"_container");u.advanced.releaseDraggableSelectors&&e.add(n(u.advanced.releaseDraggableSelectors));u.advanced.extraDraggableSelectors&&e.add(n(u.advanced.extraDraggableSelectors));r.bindEvents&&(n(document).add(n(!l()||top.document)).unbind("."+o),e.each(function(){n(this).unbind("."+o)}),clearTimeout(f[0]._focusTimeout),a(f[0],"_focusTimeout"),clearTimeout(r.sequential.step),a(r.sequential,"step"),clearTimeout(h[0].onCompleteTimeout),a(h[0],"onCompleteTimeout"),r.bindEvents=!1)},ht=function(r){var h=n(this),u=h.data(t),o=u.opt,c=n("#mCSB_"+u.idx+"_container_wrapper"),f=c.length?c:n("#mCSB_"+u.idx+"_container"),e=[n("#mCSB_"+u.idx+"_scrollbar_vertical"),n("#mCSB_"+u.idx+"_scrollbar_horizontal")],s=[e[0].find(".mCSB_dragger"),e[1].find(".mCSB_dragger")];"x"!==o.axis&&(u.overflowed[0]&&!r?(e[0].add(s[0]).add(e[0].children("a")).css("display","block"),f.removeClass(i[8]+" "+i[10])):(o.alwaysShowScrollbar?(2!==o.alwaysShowScrollbar&&s[0].css("display","none"),f.removeClass(i[10])):(e[0].css("display","none"),f.addClass(i[10])),f.addClass(i[8])));"y"!==o.axis&&(u.overflowed[1]&&!r?(e[1].add(s[1]).add(e[1].children("a")).css("display","block"),f.removeClass(i[9]+" "+i[11])):(o.alwaysShowScrollbar?(2!==o.alwaysShowScrollbar&&s[1].css("display","none"),f.removeClass(i[11])):(e[1].css("display","none"),f.addClass(i[11])),f.addClass(i[9])));u.overflowed[0]||u.overflowed[1]?h.removeClass(i[5]):h.addClass(i[5])},r=function(t){var e=t.type,i=t.target.ownerDocument!==document?[n(frameElement).offset().top,n(frameElement).offset().left]:null,u=l()&&t.target.ownerDocument!==top.document?[n(t.view.frameElement).offset().top,n(t.view.frameElement).offset().left]:[0,0],r,f;switch(e){case"pointerdown":case"MSPointerDown":case"pointermove":case"MSPointerMove":case"pointerup":case"MSPointerUp":return i?[t.originalEvent.pageY-i[0]+u[0],t.originalEvent.pageX-i[1]+u[1],!1]:[t.originalEvent.pageY,t.originalEvent.pageX,!1];case"touchstart":case"touchmove":case"touchend":return r=t.originalEvent.touches[0]||t.originalEvent.changedTouches[0],f=t.originalEvent.touches.length||t.originalEvent.changedTouches.length,t.target.ownerDocument!==document?[r.screenY,r.screenX,f>1]:[r.pageY,r.pageX,f>1];default:return i?[t.pageY-i[0]+u[0],t.pageX-i[1]+u[1],!1]:[t.pageY,t.pageX,!1]}},ii=function(){function b(n){var t=g.find("iframe"),i;t.length&&(i=n?"auto":"none",t.css("pointer-events",i))}function k(n,t,r,f){var e,o;(g[0].idleTimer=h.scrollInertia<233?250:0,i.attr("id")===y[1])?(e="x",o=(i[0].offsetLeft-t+f)*s.scrollRatio.x):(e="y",o=(i[0].offsetTop-n+r)*s.scrollRatio.y);u(v,o.toString(),{dir:e,drag:!0})}var i,c,a,v=n(this),s=v.data(t),h=s.opt,e=t+"_"+s.idx,y=["mCSB_"+s.idx+"_dragger_vertical","mCSB_"+s.idx+"_dragger_horizontal"],g=n("#mCSB_"+s.idx+"_container"),w=n("#"+y[0]+",#"+y[1]),nt=h.advanced.releaseDraggableSelectors?w.add(n(h.advanced.releaseDraggableSelectors)):w,tt=h.advanced.extraDraggableSelectors?n(!l()||top.document).add(n(h.advanced.extraDraggableSelectors)):n(!l()||top.document);w.bind("mousedown."+e+" touchstart."+e+" pointerdown."+e+" MSPointerDown."+e,function(t){if(t.stopImmediatePropagation(),t.preventDefault(),at(t)){f=!0;p&&(document.onselectstart=function(){return!1});b(!1);o(v);i=n(this);var u=i.offset(),e=r(t)[0]-u.top,s=r(t)[1]-u.left,l=i.height()+u.top,y=i.width()+u.left;l>e&&e>0&&y>s&&s>0&&(c=e,a=s);d(i,"active",h.autoExpandScrollbar)}}).bind("touchmove."+e,function(n){n.stopImmediatePropagation();n.preventDefault();var t=i.offset(),u=r(n)[0]-t.top,f=r(n)[1]-t.left;k(c,a,u,f)});n(document).add(tt).bind("mousemove."+e+" pointermove."+e+" MSPointerMove."+e,function(n){if(i){var t=i.offset(),u=r(n)[0]-t.top,f=r(n)[1]-t.left;if(c===u&&a===f)return;k(c,a,u,f)}}).add(nt).bind("mouseup."+e+" touchend."+e+" pointerup."+e+" MSPointerUp."+e,function(){i&&(d(i,"active",h.autoExpandScrollbar),i=null);f=!1;p&&(document.onselectstart=null);b(!0)})},ri=function(){function at(n){if(!nt(n)||f||r(n)[2])return void(h=0);h=1;it=0;rt=0;st=1;g.removeClass("mCS_touch_action");var t=b.offset();k=r(n)[0]-t.top;d=r(n)[1]-t.left;v=[r(n)[0],r(n)[1]]}function vt(n){var c,l,a,y;if(nt(n)&&!f&&!r(n)[2]&&(e.documentTouchScroll||n.preventDefault(),n.stopImmediatePropagation(),(!rt||it)&&st)){gt=w();var o=ut.offset(),t=r(n)[0]-o.top,u=r(n)[1]-o.left,h="mcsLinearOut";(et.push(t),ot.push(u),v[2]=Math.abs(r(n)[0]-v[0]),v[3]=Math.abs(r(n)[1]-v[1]),i.overflowed[0])&&(c=ft[0].parent().height()-ft[0].height(),l=k-t>0&&t-k>-(c*i.scrollRatio.y)&&(2*v[3]<v[2]||"yx"===e.axis));i.overflowed[1]&&(a=ft[1].parent().width()-ft[1].width(),y=d-u>0&&u-d>-(a*i.scrollRatio.x)&&(2*v[2]<v[3]||"yx"===e.axis));l||y?(ii||n.preventDefault(),it=1):(rt=1,g.addClass("mCS_touch_action"));ii&&n.preventDefault();s="yx"===e.axis?[k-t,d-u]:"x"===e.axis?[null,d-u]:[k-t,null];b[0].idleTimer=250;i.overflowed[0]&&tt(s[0],ni,h,"y","all",!0);i.overflowed[1]&&tt(s[1],ni,h,"x",lt,!0)}}function yt(n){if(!nt(n)||f||r(n)[2])return void(h=0);h=1;n.stopImmediatePropagation();o(g);dt=w();var t=ut.offset();bt=r(n)[0]-t.top;kt=r(n)[1]-t.left;et=[];ot=[]}function pt(n){var t,u,h;if(nt(n)&&!f&&!r(n)[2]){st=0;n.stopImmediatePropagation();it=0;rt=0;ht=w();var l=ut.offset(),a=r(n)[0]-l.top,v=r(n)[1]-l.left;if(!(ht-gt>30)){c=1e3/(ht-dt);var p="mcsEaseOut",o=2.5>c,k=o?[et[et.length-2],ot[ot.length-2]]:[0,0];y=o?[a-k[0],v-k[1]]:[a-bt,v-kt];t=[Math.abs(y[0]),Math.abs(y[1])];c=o?[Math.abs(y[0]/4),Math.abs(y[1]/4)]:[c,c];u=[Math.abs(b[0].offsetTop)-y[0]*wt(t[0]/c[0],c[0]),Math.abs(b[0].offsetLeft)-y[1]*wt(t[1]/c[1],c[1])];s="yx"===e.axis?[u[0],u[1]]:"x"===e.axis?[null,u[1]]:[u[0],null];ct=[4*t[0]+e.scrollInertia,4*t[1]+e.scrollInertia];h=parseInt(e.contentTouchScroll)||0;s[0]=t[0]>h?s[0]:0;s[1]=t[1]>h?s[1]:0;i.overflowed[0]&&tt(s[0],ct[0],p,"y",lt,!1);i.overflowed[1]&&tt(s[1],ct[1],p,"x",lt,!1)}}}function wt(n,t){var i=[1.5*t,2*t,t/1.5,t/2];return n>90?t>4?i[0]:i[3]:n>60?t>3?i[3]:i[2]:n>30?t>8?i[1]:t>6?i[0]:t>4?t:i[2]:t>8?t:i[3]}function tt(n,t,i,r,f,e){n&&u(g,n.toString(),{dur:t,scrollEasing:i,dir:r,overwrite:f,drag:e})}var st,k,d,bt,kt,dt,gt,ht,y,c,s,ct,it,rt,g=n(this),i=g.data(t),e=i.opt,a=t+"_"+i.idx,ut=n("#mCSB_"+i.idx),b=n("#mCSB_"+i.idx+"_container"),ft=[n("#mCSB_"+i.idx+"_dragger_vertical"),n("#mCSB_"+i.idx+"_dragger_horizontal")],et=[],ot=[],ni=0,lt="yx"===e.axis?"none":"all",v=[],ti=b.find("iframe"),p=["touchstart."+a+" pointerdown."+a+" MSPointerDown."+a,"touchmove."+a+" pointermove."+a+" MSPointerMove."+a,"touchend."+a+" pointerup."+a+" MSPointerUp."+a],ii=void 0!==document.body.style.touchAction;b.bind(p[0],function(n){at(n)}).bind(p[1],function(n){vt(n)});ut.bind(p[0],function(n){yt(n)}).bind(p[2],function(n){pt(n)});ti.length&&ti.each(function(){n(this).load(function(){l(this)&&n(this.contentDocument||this.contentWindow.document).bind(p[0],function(n){at(n);yt(n)}).bind(p[1],function(n){vt(n)}).bind(p[2],function(n){pt(n)})})})},ui=function(){function y(){return window.getSelection?window.getSelection().toString():document.selection&&"Control"!=document.selection.type?document.selection.createRange().text:0}function i(n,t,i){l.type=i&&u?"stepped":"stepless";l.scrollAmount=10;rt(a,n,t,"mcsLinearOut",i?60:null)}var u,a=n(this),e=a.data(t),v=e.opt,l=e.sequential,s=t+"_"+e.idx,o=n("#mCSB_"+e.idx+"_container"),c=o.parent();o.bind("mousedown."+s,function(){h||u||(u=1,f=!0)}).add(document).bind("mousemove."+s,function(n){if(!h&&u&&y()){var s=o.offset(),t=r(n)[0]-s.top+o[0].offsetTop,f=r(n)[1]-s.left+o[0].offsetLeft;t>0&&t<c.height()&&f>0&&f<c.width()?l.step&&i("off",null,"stepped"):("x"!==v.axis&&e.overflowed[0]&&(0>t?i("on",38):t>c.height()&&i("on",40)),"y"!==v.axis&&e.overflowed[1]&&(0>f?i("on",37):f>c.width()&&i("on",39)))}}).bind("mouseup."+s+" dragend."+s,function(){h||(u&&(u=0,i("off",null)),f=!1)})},fi=function(){function h(t,h){var a,v;if(o(s),!ei(s,t.target)){if(a="auto"!==i.mouseWheel.deltaFactor?parseInt(i.mouseWheel.deltaFactor):p&&t.deltaFactor<100?100:t.deltaFactor||100,v=i.scrollInertia,"x"===i.axis||"x"===i.mouseWheel.axis)var y="x",l=[Math.round(a*r.scrollRatio.x),parseInt(i.mouseWheel.scrollAmount)],w="auto"!==i.mouseWheel.scrollAmount?l[1]:l[0]>=e.width()?.9*e.width():l[0],k=Math.abs(n("#mCSB_"+r.idx+"_container")[0].offsetLeft),b=f[1][0].offsetLeft,d=f[1].parent().width()-f[1].width(),c=t.deltaX||t.deltaY||h;else var y="y",l=[Math.round(a*r.scrollRatio.y),parseInt(i.mouseWheel.scrollAmount)],w="auto"!==i.mouseWheel.scrollAmount?l[1]:l[0]>=e.height()?.9*e.height():l[0],k=Math.abs(n("#mCSB_"+r.idx+"_container")[0].offsetTop),b=f[0][0].offsetTop,d=f[0].parent().height()-f[0].height(),c=t.deltaY||h;("y"!==y||r.overflowed[0])&&("x"!==y||r.overflowed[1])&&((i.mouseWheel.invert||t.webkitDirectionInvertedFromDevice)&&(c=-c),i.mouseWheel.normalizeDelta&&(c=0>c?-1:1),(c>0&&0!==b||0>c&&b!==d||i.mouseWheel.preventDefault)&&(t.stopImmediatePropagation(),t.preventDefault()),t.deltaFactor<2&&!i.mouseWheel.normalizeDelta&&(w=t.deltaFactor,v=17),u(s,(k-c*w).toString(),{dir:y,dur:v}))}}if(n(this).data(t)){var s=n(this),r=s.data(t),i=r.opt,c=t+"_"+r.idx,e=n("#mCSB_"+r.idx),f=[n("#mCSB_"+r.idx+"_dragger_vertical"),n("#mCSB_"+r.idx+"_dragger_horizontal")],a=n("#mCSB_"+r.idx+"_container").find("iframe");a.length&&a.each(function(){n(this).load(function(){l(this)&&n(this.contentDocument||this.contentWindow.document).bind("mousewheel."+c,function(n,t){h(n,t)})})});e.bind("mousewheel."+c,function(n,t){h(n,t)})}},l=function(n){var t=null,i;if(n){try{i=n.contentDocument||n.contentWindow.document;t=i.body.innerHTML}catch(r){}return null!==t}try{i=top.document;t=i.body.innerHTML}catch(r){}return null!==t},ei=function(i,r){var u=r.nodeName.toLowerCase(),f=i.data(t).opt.mouseWheel.disableOver;return n.inArray(u,f)>-1&&!(n.inArray(u,["select","textarea"])>-1&&!n(r).is(":focus"))},oi=function(){var s,h=n(this),e=h.data(t),r=t+"_"+e.idx,c=n("#mCSB_"+e.idx+"_container"),l=c.parent(),a=n(".mCSB_"+e.idx+"_scrollbar ."+i[12]);a.bind("mousedown."+r+" touchstart."+r+" pointerdown."+r+" MSPointerDown."+r,function(t){f=!0;n(t.target).hasClass("mCSB_dragger")||(s=1)}).bind("touchend."+r+" pointerup."+r+" MSPointerUp."+r,function(){f=!1}).bind("click."+r,function(t){var r,f;if(s&&(s=0,n(t.target).hasClass(i[12])||n(t.target).hasClass("mCSB_draggerRail"))){if(o(h),r=n(this),f=r.find(".mCSB_dragger"),r.parent(".mCSB_scrollTools_horizontal").length>0){if(!e.overflowed[1])return;var v="x",a=t.pageX>f.offset().left?-1:1,y=Math.abs(c[0].offsetLeft)-.9*a*l.width()}else{if(!e.overflowed[0])return;var v="y",a=t.pageY>f.offset().top?-1:1,y=Math.abs(c[0].offsetTop)-.9*a*l.height()}u(h,y.toString(),{dir:v,scrollEasing:"mcsEaseInOut"})}})},si=function(){var i=n(this),s=i.data(t),f=s.opt,c=t+"_"+s.idx,r=n("#mCSB_"+s.idx+"_container"),h=r.parent();r.bind("focusin."+c,function(){var t=n(document.activeElement),c=r.find(".mCustomScrollBox").length,s=0;t.is(f.advanced.autoScrollOnFocus)&&(o(i),clearTimeout(i[0]._focusTimeout),i[0]._focusTimer=c?(s+17)*c:0,i[0]._focusTimeout=setTimeout(function(){var n=[e(t)[0],e(t)[1]],o=[r[0].offsetTop,r[0].offsetLeft],c=[o[0]+n[0]>=0&&o[0]+n[0]<h.height()-t.outerHeight(!1),o[1]+n[1]>=0&&o[0]+n[1]<h.width()-t.outerWidth(!1)],l="yx"!==f.axis||c[0]||c[1]?"all":"none";"x"===f.axis||c[0]||u(i,n[0].toString(),{dir:"y",scrollEasing:"mcsEaseInOut",overwrite:l,dur:s});"y"===f.axis||c[1]||u(i,n[1].toString(),{dir:"x",scrollEasing:"mcsEaseInOut",overwrite:l,dur:s})},i[0]._focusTimer))})},hi=function(){var u=n(this),i=u.data(t),f=t+"_"+i.idx,r=n("#mCSB_"+i.idx+"_container").parent();r.bind("scroll."+f,function(){(0!==r.scrollTop()||0!==r.scrollLeft())&&n(".mCSB_"+i.idx+"_scrollbar").css("visibility","hidden")})},ci=function(){var e=n(this),r=e.data(t),o=r.opt,u=r.sequential,i=t+"_"+r.idx,s=".mCSB_"+r.idx+"_scrollbar",h=n(s+">a");h.bind("mousedown."+i+" touchstart."+i+" pointerdown."+i+" MSPointerDown."+i+" mouseup."+i+" touchend."+i+" pointerup."+i+" MSPointerUp."+i+" mouseout."+i+" pointerout."+i+" MSPointerOut."+i+" click."+i,function(t){function i(n,t){u.scrollAmount=o.scrollButtons.scrollAmount;rt(e,n,t)}if(t.preventDefault(),at(t)){var s=n(this).attr("class");switch(u.type=o.scrollButtons.scrollType,t.type){case"mousedown":case"touchstart":case"pointerdown":case"MSPointerDown":if("stepped"===u.type)return;f=!0;r.tweenRunning=!1;i("on",s);break;case"mouseup":case"touchend":case"pointerup":case"MSPointerUp":case"mouseout":case"pointerout":case"MSPointerOut":if("stepped"===u.type)return;f=!1;u.dir&&i("off",s);break;case"click":if("stepped"!==u.type||r.tweenRunning)return;i("on",s)}}})},li=function(){function a(t){function w(n,t){s.type=r.keyboard.scrollType;s.scrollAmount=r.keyboard.scrollAmount;"stepped"===s.type&&i.tweenRunning||rt(e,n,t)}var c,y,p,l,a;switch(t.type){case"blur":i.tweenRunning&&s.dir&&w("off",null);break;case"keydown":case"keyup":if(c=t.keyCode?t.keyCode:t.which,y="on","x"!==r.axis&&(38===c||40===c)||"y"!==r.axis&&(37===c||39===c)){if((38===c||40===c)&&!i.overflowed[0]||(37===c||39===c)&&!i.overflowed[1])return;"keyup"===t.type&&(y="off");n(document.activeElement).is(v)||(t.preventDefault(),t.stopImmediatePropagation(),w(y,c))}else 33===c||34===c?((i.overflowed[0]||i.overflowed[1])&&(t.preventDefault(),t.stopImmediatePropagation()),"keyup"===t.type)&&(o(e),p=34===c?-1:1,"x"===r.axis||"yx"===r.axis&&i.overflowed[1]&&!i.overflowed[0]?(l="x",a=Math.abs(f[0].offsetLeft)-.9*p*h.width()):(l="y",a=Math.abs(f[0].offsetTop)-.9*p*h.height()),u(e,a.toString(),{dir:l,scrollEasing:"mcsEaseInOut"})):35!==c&&36!==c||n(document.activeElement).is(v)||((i.overflowed[0]||i.overflowed[1])&&(t.preventDefault(),t.stopImmediatePropagation()),"keyup"!==t.type)||("x"===r.axis||"yx"===r.axis&&i.overflowed[1]&&!i.overflowed[0]?(l="x",a=35===c?Math.abs(h.width()-f.outerWidth(!1)):0):(l="y",a=35===c?Math.abs(h.height()-f.outerHeight(!1)):0),u(e,a.toString(),{dir:l,scrollEasing:"mcsEaseInOut"}))}}var e=n(this),i=e.data(t),r=i.opt,s=i.sequential,c=t+"_"+i.idx,w=n("#mCSB_"+i.idx),f=n("#mCSB_"+i.idx+"_container"),h=f.parent(),v="input,textarea,select,datalist,keygen,[contenteditable='true']",y=f.find("iframe"),p=["blur."+c+" keydown."+c+" keyup."+c];y.length&&y.each(function(){n(this).load(function(){l(this)&&n(this.contentDocument||this.contentWindow.document).bind(p[0],function(n){a(n)})})});w.attr("tabindex","0").bind(p[0],function(n){a(n)})},rt=function(r,f,e,s,h){function y(n){l.snapAmount&&(c.scrollAmount=l.snapAmount instanceof Array?"x"===c.dir[0]?l.snapAmount[1]:l.snapAmount[0]:l.snapAmount);var i="stepped"!==c.type,f=h?h:n?i?k/1.5:d:1e3/60,e=n?i?7.5:40:2.5,t=[Math.abs(p[0].offsetTop),Math.abs(p[0].offsetLeft)],o=[v.scrollRatio.y>10?10:v.scrollRatio.y,v.scrollRatio.x>10?10:v.scrollRatio.x],w="x"===c.dir[0]?t[1]+c.dir[1]*o[1]*e:t[0]+c.dir[1]*o[0]*e,b="x"===c.dir[0]?t[1]+c.dir[1]*parseInt(c.scrollAmount):t[0]+c.dir[1]*parseInt(c.scrollAmount),a="auto"!==c.scrollAmount?b:w,g=s?s:n?i?"mcsLinearOut":"mcsEaseInOut":"mcsLinear",nt=n?!0:!1;return n&&17>f&&(a="x"===c.dir[0]?t[1]:t[0]),u(r,a.toString(),{dir:c.dir[0],scrollEasing:g,dur:f,onComplete:nt}),n?void(c.dir=!1):(clearTimeout(c.step),void(c.step=setTimeout(function(){y()},f)))}function b(){clearTimeout(c.step);a(c,"step");o(r)}var v=r.data(t),l=v.opt,c=v.sequential,p=n("#mCSB_"+v.idx+"_container"),w="stepped"===c.type?!0:!1,k=l.scrollInertia<26?26:l.scrollInertia,d=l.scrollInertia<1?17:l.scrollInertia;switch(f){case"on":if(c.dir=[e===i[16]||e===i[15]||39===e||37===e?"x":"y",e===i[13]||e===i[15]||38===e||37===e?-1:1],o(r),tt(e)&&"stepped"===c.type)return;y(w);break;case"off":b();(w||v.tweenRunning&&c.dir)&&y(!0)}},ut=function(i){var u=n(this).data(t).opt,r=[];return"function"==typeof i&&(i=i()),i instanceof Array?r=i.length>1?[i[0],i[1]]:"x"===u.axis?[null,i[0]]:[i[0],null]:(r[0]=i.y?i.y:i.x||"x"===u.axis?null:i,r[1]=i.x?i.x:i.y||"y"===u.axis?null:i),"function"==typeof r[0]&&(r[0]=r[0]()),"function"==typeof r[1]&&(r[1]=r[1]()),r},ct=function(i,r){var o,f;if(null!=i&&"undefined"!=typeof i){var h=n(this),c=h.data(t),v=c.opt,u=n("#mCSB_"+c.idx+"_container"),l=u.parent(),y=typeof i;r||(r="x"===v.axis?"x":"y");var p="x"===r?u.outerWidth(!1):u.outerHeight(!1),a="x"===r?u[0].offsetLeft:u[0].offsetTop,w="x"===r?"left":"top";switch(y){case"function":return i();case"object":return(f=i.jquery?i:n(i),!f.length)?void 0:"x"===r?e(f)[1]:e(f)[0];case"string":case"number":return tt(i)?Math.abs(i):-1!==i.indexOf("%")?Math.abs(p*parseInt(i)/100):-1!==i.indexOf("-=")?Math.abs(a-parseInt(i.split("-=")[1])):-1!==i.indexOf("+=")?(o=a+parseInt(i.split("+=")[1]),o>=0?0:Math.abs(o)):-1!==i.indexOf("px")&&tt(i.split("px")[0])?Math.abs(i.split("px")[0]):"top"===i||"left"===i?0:"bottom"===i?Math.abs(l.height()-u.outerHeight(!1)):"right"===i?Math.abs(l.width()-u.outerWidth(!1)):"first"===i||"last"===i?(f=u.find(":"+i),"x"===r?e(f)[1]:e(f)[0]):n(i).length?"x"===r?e(n(i))[1]:e(n(i))[0]:(u.css(w,i),void s.update.call(null,h[0]))}}},ft=function(r){function c(){return clearTimeout(e[0].autoUpdate),0===o.parents("html").length?void(o=null):void(e[0].autoUpdate=setTimeout(function(){return f.advanced.updateOnSelectorChange&&(u.poll.change.n=v(),u.poll.change.n!==u.poll.change.o)?(u.poll.change.o=u.poll.change.n,void h(3)):f.advanced.updateOnContentResize&&(u.poll.size.n=o[0].scrollHeight+o[0].scrollWidth+e[0].offsetHeight+o[0].offsetHeight+o[0].offsetWidth,u.poll.size.n!==u.poll.size.o)?(u.poll.size.o=u.poll.size.n,void h(1)):!f.advanced.updateOnImageLoad||"auto"===f.advanced.updateOnImageLoad&&"y"===f.axis||(u.poll.img.n=e.find("img").length,u.poll.img.n===u.poll.img.o)?void((f.advanced.updateOnSelectorChange||f.advanced.updateOnContentResize||f.advanced.updateOnImageLoad)&&c()):(u.poll.img.o=u.poll.img.n,void e.find("img").each(function(){l(this)}))},f.advanced.autoUpdateTimeout))}function l(t){function u(n,t){return function(){return t.apply(n,arguments)}}function f(){this.onload=null;n(t).addClass(i[2]);h(2)}if(n(t).hasClass(i[2]))return void h();var r=new Image;r.onload=u(r,f);r.src=t.src}function v(){f.advanced.updateOnSelectorChange===!0&&(f.advanced.updateOnSelectorChange="*");var n=0,t=e.find(f.advanced.updateOnSelectorChange);return f.advanced.updateOnSelectorChange&&t.length>0&&t.each(function(){n+=this.offsetHeight+this.offsetWidth}),n}function h(n){clearTimeout(e[0].autoUpdate);s.update.call(null,o[0],n)}var o=n(this),u=o.data(t),f=u.opt,e=n("#mCSB_"+u.idx+"_container");return r?(clearTimeout(e[0].autoUpdate),void a(e[0],"autoUpdate")):void c()},ai=function(n,t,i){return Math.round(n/t)*t-i},o=function(i){var r=i.data(t),u=n("#mCSB_"+r.idx+"_container,#mCSB_"+r.idx+"_container_wrapper,#mCSB_"+r.idx+"_dragger_vertical,#mCSB_"+r.idx+"_dragger_horizontal");u.each(function(){vi.call(this)})},u=function(i,r,u){function h(n){return f&&e.callbacks[n]&&"function"==typeof e.callbacks[n]}function rt(){return[e.callbacks.alwaysTriggerOffsets||w>=l[0]+v,e.callbacks.alwaysTriggerOffsets||-y>=w]}function a(){var n=[o[0].offsetTop,o[0].offsetLeft],t=[c[0].offsetTop,c[0].offsetLeft],r=[o.outerHeight(!1),o.outerWidth(!1)],f=[p.height(),p.width()];i[0].mcs={content:o,top:n[0],left:n[1],draggerTop:t[0],draggerLeft:t[1],topPct:Math.round(100*Math.abs(n[0])/(Math.abs(r[0])-f[0])),leftPct:Math.round(100*Math.abs(n[1])/(Math.abs(r[1])-f[1])),direction:u.dir}}var f=i.data(t),e=f.opt,ft={trigger:"internal",dir:"y",scrollEasing:"mcsEaseOut",drag:!1,dur:e.scrollInertia,overwrite:"all",callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},u=n.extend(ft,u),k=[u.dur,u.drag?0:u.dur],p=n("#mCSB_"+f.idx),o=n("#mCSB_"+f.idx+"_container"),b=o.parent(),g=e.callbacks.onTotalScrollOffset?ut.call(i,e.callbacks.onTotalScrollOffset):[0,0],nt=e.callbacks.onTotalScrollBackOffset?ut.call(i,e.callbacks.onTotalScrollBackOffset):[0,0],tt;if(f.trigger=u.trigger,(0!==b.scrollTop()||0!==b.scrollLeft())&&(n(".mCSB_"+f.idx+"_scrollbar").css("visibility","visible"),b.scrollTop(0).scrollLeft(0)),"_resetY"!==r||f.contentReset.y||(h("onOverflowYNone")&&e.callbacks.onOverflowYNone.call(i[0]),f.contentReset.y=1),"_resetX"!==r||f.contentReset.x||(h("onOverflowXNone")&&e.callbacks.onOverflowXNone.call(i[0]),f.contentReset.x=1),"_resetY"!==r&&"_resetX"!==r){(!f.contentReset.y&&i[0].mcs||!f.overflowed[0]||(h("onOverflowY")&&e.callbacks.onOverflowY.call(i[0]),f.contentReset.x=null),!f.contentReset.x&&i[0].mcs||!f.overflowed[1]||(h("onOverflowX")&&e.callbacks.onOverflowX.call(i[0]),f.contentReset.x=null),e.snapAmount)&&(tt=e.snapAmount instanceof Array?"x"===u.dir?e.snapAmount[1]:e.snapAmount[0]:e.snapAmount,r=ai(r,tt,e.snapOffset));switch(u.dir){case"x":var c=n("#mCSB_"+f.idx+"_dragger_horizontal"),it="left",w=o[0].offsetLeft,l=[p.width()-o.outerWidth(!1),c.parent().width()-c.width()],s=[r,0===r?0:r/f.scrollRatio.x],v=g[1],y=nt[1],et=v>0?v/f.scrollRatio.x:0,ot=y>0?y/f.scrollRatio.x:0;break;case"y":var c=n("#mCSB_"+f.idx+"_dragger_vertical"),it="top",w=o[0].offsetTop,l=[p.height()-o.outerHeight(!1),c.parent().height()-c.height()],s=[r,0===r?0:r/f.scrollRatio.y],v=g[0],y=nt[0],et=v>0?v/f.scrollRatio.y:0,ot=y>0?y/f.scrollRatio.y:0}s[1]<0||0===s[0]&&0===s[1]?s=[0,0]:s[1]>=l[1]?s=[l[0],l[1]]:s[0]=-s[0];i[0].mcs||(a(),h("onInit")&&e.callbacks.onInit.call(i[0]));clearTimeout(o[0].onCompleteTimeout);lt(c[0],it,Math.round(s[1]),k[1],u.scrollEasing);(f.tweenRunning||!(0===w&&s[0]>=0||w===l[0]&&s[0]<=l[0]))&&lt(o[0],it,Math.round(s[0]),k[0],u.scrollEasing,u.overwrite,{onStart:function(){u.callbacks&&u.onStart&&!f.tweenRunning&&(h("onScrollStart")&&(a(),e.callbacks.onScrollStart.call(i[0])),f.tweenRunning=!0,d(c),f.cbOffsets=rt())},onUpdate:function(){u.callbacks&&u.onUpdate&&h("whileScrolling")&&(a(),e.callbacks.whileScrolling.call(i[0]))},onComplete:function(){if(u.callbacks&&u.onComplete){"yx"===e.axis&&clearTimeout(o[0].onCompleteTimeout);var n=o[0].idleTimer||0;o[0].onCompleteTimeout=setTimeout(function(){h("onScroll")&&(a(),e.callbacks.onScroll.call(i[0]));h("onTotalScroll")&&s[1]>=l[1]-et&&f.cbOffsets[0]&&(a(),e.callbacks.onTotalScroll.call(i[0]));h("onTotalScrollBack")&&s[1]<=ot&&f.cbOffsets[1]&&(a(),e.callbacks.onTotalScrollBack.call(i[0]));f.tweenRunning=!1;o[0].idleTimer=0;d(c,"hide")},n)}}})}},lt=function(n,t,i,r,u,f,e){function a(){o.stop||(s||g.call(),s=w()-it,v(),s>=o.time&&(o.time=s>o.time?s+h-(s-o.time):s+h-1,o.time<s+1&&(o.time=s+1)),o.time<r?o.id=c(a):tt.call())}function v(){r>0?(o.currVal=d(o.time,l,p,r,u),y[t]=Math.round(o.currVal)+"px"):y[t]=i+"px";nt.call()}function b(){h=1e3/60;o.time=s+h;c=window.requestAnimationFrame?window.requestAnimationFrame:function(n){return v(),setTimeout(n,.01)};o.id=c(a)}function k(){null!=o.id&&(window.requestAnimationFrame?window.cancelAnimationFrame(o.id):clearTimeout(o.id),o.id=null)}function d(n,t,i,r,u){switch(u){case"linear":case"mcsLinear":return i*n/r+t;case"mcsLinearOut":return n/=r,n--,i*Math.sqrt(1-n*n)+t;case"easeInOutSmooth":return n/=r/2,1>n?i/2*n*n+t:(n--,-i/2*(n*(n-2)-1)+t);case"easeInOutStrong":return n/=r/2,1>n?i/2*Math.pow(2,10*(n-1))+t:(n--,i/2*(-Math.pow(2,-10*n)+2)+t);case"easeInOut":case"mcsEaseInOut":return n/=r/2,1>n?i/2*n*n*n+t:(n-=2,i/2*(n*n*n+2)+t);case"easeOutSmooth":return n/=r,n--,-i*(n*n*n*n-1)+t;case"easeOutStrong":return i*(-Math.pow(2,-10*n/r)+1)+t;case"easeOut":case"mcsEaseOut":default:var f=(n/=r)*n,e=f*n;return t+i*(.499999999999997*e*f+-2.5*f*f+5.5*e+-6.5*f+4*n)}}var p;n._mTween||(n._mTween={top:{},left:{}});var h,c,e=e||{},g=e.onStart||function(){},nt=e.onUpdate||function(){},tt=e.onComplete||function(){},it=w(),s=0,l=n.offsetTop,y=n.style,o=n._mTween[t];"left"===t&&(l=n.offsetLeft);p=i-l;o.stop=0;"none"!==f&&k();b()},w=function(){return window.performance&&window.performance.now?window.performance.now():window.performance&&window.performance.webkitNow?window.performance.webkitNow():Date.now?Date.now():(new Date).getTime()},vi=function(){var n=this,r,i,t;for(n._mTween||(n._mTween={top:{},left:{}}),r=["top","left"],i=0;i<r.length;i++)t=r[i],n._mTween[t].id&&(window.requestAnimationFrame?window.cancelAnimationFrame(n._mTween[t].id):clearTimeout(n._mTween[t].id),n._mTween[t].id=null,n._mTween[t].stop=1)},a=function(n,t){try{delete n[t]}catch(i){n[t]=null}},at=function(n){return!(n.which&&1!==n.which)},nt=function(n){var t=n.originalEvent.pointerType;return!(t&&"touch"!==t&&2!==t)},tt=function(n){return!isNaN(parseFloat(n))&&isFinite(n)},e=function(n){var t=n.parents(".mCSB_container");return[n.offset().top-t.offset().top,n.offset().left-t.offset().left]},yi=function(){function t(){var t=["webkit","moz","ms","o"],n;if("hidden"in document)return"hidden";for(n=0;n<t.length;n++)if(t[n]+"Hidden"in document)return t[n]+"Hidden";return null}var n=t();return n?document[n]:!1};n.fn[c]=function(t){return s[t]?s[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void n.error("Method "+t+" does not exist"):s.init.apply(this,arguments)};n[c]=function(t){return s[t]?s[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void n.error("Method "+t+" does not exist"):s.init.apply(this,arguments)};n[c].defaults=et;window[c]=!0;n(window).load(function(){n(it)[c]();n.extend(n.expr[":"],{mcsInView:n.expr[":"].mcsInView||function(t){var f,r,i=n(t),u=i.parents(".mCSB_container");if(u.length)return f=u.parent(),r=[u[0].offsetTop,u[0].offsetLeft],r[0]+e(i)[0]>=0&&r[0]+e(i)[0]<f.height()-i.outerHeight(!1)&&r[1]+e(i)[1]>=0&&r[1]+e(i)[1]<f.width()-i.outerWidth(!1)},mcsOverflow:n.expr[":"].mcsOverflow||function(i){var r=n(i).data(t);if(r)return r.overflowed[0]||r.overflowed[1]}})})})}),function(n){function i(n,t){if(!(n.originalEvent.touches.length>1)){n.preventDefault();var i=n.originalEvent.changedTouches[0],r=document.createEvent("MouseEvents");r.initMouseEvent(t,!0,!0,window,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null);n.target.dispatchEvent(r)}}if(n.support.touch="ontouchend"in document,n.support.touch){var t=n.ui.mouse.prototype,u=t._mouseInit,f=t._mouseDestroy,r;t._touchStart=function(n){var t=this;!r&&t._mouseCapture(n.originalEvent.changedTouches[0])&&(r=!0,t._touchMoved=!1,i(n,"mouseover"),i(n,"mousemove"),i(n,"mousedown"))};t._touchMove=function(n){r&&(this._touchMoved=!0,i(n,"mousemove"))};t._touchEnd=function(n){r&&(i(n,"mouseup"),i(n,"mouseout"),this._touchMoved||i(n,"click"),r=!1)};t._mouseInit=function(){var t=this;t.element.bind({touchstart:n.proxy(t,"_touchStart"),touchmove:n.proxy(t,"_touchMove"),touchend:n.proxy(t,"_touchEnd")});u.call(t)};t._mouseDestroy=function(){var t=this;t.element.unbind({touchstart:n.proxy(t,"_touchStart"),touchmove:n.proxy(t,"_touchMove"),touchend:n.proxy(t,"_touchEnd")});f.call(t)}}}(jQuery);window.zoomenuTools={};window.zoomenuTools.isMobile={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)||navigator.userAgent.match(/WPDesktop/i)},any:function(){return window.zoomenuTools.isMobile.Android()||window.zoomenuTools.isMobile.BlackBerry()||window.zoomenuTools.isMobile.iOS()||window.zoomenuTools.isMobile.Opera()||window.zoomenuTools.isMobile.Windows()}};window.zoomenuTools.GetStorageKey=function(n){return window.location.origin+window.location.pathname.toString()+"-"+n};window.zoomenuTools.debugMode=!1;window.zoomenuTools.ConsoleLog=function(n){window.zoomenuTools.debugMode&&"object"==typeof console&&console.log(n+" - "+(new Date).toString())};window.zoomenuTools.inIframe=function(){try{return window.self!==window.top}catch(n){return!0}};window.zoomenuTools.StopPropagation=function(n){n.stopPropagation?n.stopPropagation():n.returnValue=!1};window.zoomenuTools.GetWeekDayName=function(n){return n===2?"MONDAY":n===3?"TUESDAY":n===4?"WEDNESDAY":n===5?"THURSDAY":n===6?"FRIDAY":n===7?"SATURDAY":n===1?"SUNDAY":void 0};window.zoomenuTools.Debounce=function(n,t,i){var r,u,f,o,e,s=function(){var h=_.now()-o;h<t?r=setTimeout(s,t-h):(r=null,i||(e=n.apply(f,u),f=u=null))};return function(){f=this;u=arguments;o=_.now();var h=i&&!r;return r||(r=setTimeout(s,t)),h&&(e=n.apply(f,u),f=u=null),e}};window.zoomenuTools.ChangeUrl=function(n,t,i){var f=window.location.pathname.split("/"),e=f[f.length-1],r="",u;return(typeof t!="undefined"&&t!=null&&(r=t),typeof i!="undefined"&&i!=null&&(r=e+"?"+i),typeof history.pushState!="undefined")?(u={Page:n,Url:r},window.history.pushState(u,u.Page,u.Url),!0):(zoomenuTools.ConsoleLog("Browser does not support HTML5."),window.location.href=r,!1)};window.zoomenuTools.HistoryBack=function(){return window.history.length>1?window.history.go(-1):window.location=window.location.pathname,!1};window.zoomenuTools.sessionStorage={getStorage:function(){var n="window.zoomenuTools.sessionStorageTest",t;try{return window.sessionStorage.setItem(n,n),t=window.sessionStorage.getItem(n)==n,window.sessionStorage.removeItem(n),t&&window.sessionStorage}catch(i){}},setItem:function(n,t){var i=this.getStorage();i&&i.setItem(n,t)},getItem:function(n){var t=this.getStorage();return t?t.getItem(n):null},removeItem:function(n){var t=this.getStorage();t&&t.removeItem(n)}};window.zoomenuTools.localStorage={getStorage:function(){var n="window.zoomenuTools.localStorageTest",t;try{return window.localStorage.setItem(n,n),t=window.localStorage.getItem(n)==n,window.localStorage.removeItem(n),t&&window.localStorage}catch(i){}},setItem:function(n,t){var i=this.getStorage();i&&i.setItem(n,t)},getItem:function(n){var t=this.getStorage();return t?t.getItem(n):null},removeItem:function(n){var t=this.getStorage();t&&t.removeItem(n)}};window.zoomenuTools.cookieStorage={addSessionItem:function(n,t,i){var r=n+"="+escape(t)+(i?"; path="+i:"");return document.cookie=r,!0},addItem:function(n,t,i,r){var u=n+"="+escape(t)+(i?"; expires="+i:"")+(r?"; path="+r:"");return document.cookie=u,!0},getItem:function(n){var t=document.cookie.match("(^|; )"+n+"=(.*?)(;|$)");return t?unescape(t[2]):null},removeItem:function(n){var t=new Date;t.setTime(t.getTime()+-864e5);window.cookieStorage.addItem(n,"obsolete",t.toUTCString(),"/")},getAllItems:function(){var r={},i,t,n;if(document.cookie&&document.cookie!="")for(i=document.cookie.split(";"),t=0;t<i.length;t++)n=i[t].split("="),n[0]=n[0].replace(/^ /,""),r[decodeURIComponent(n[0])]=decodeURIComponent(n[1]);return r}};window.zoomenuTools.templateChanger={changeTemplate:function(n){var t=window.zoomenuTools.templateChanger.generateTemplateArray(n),i=t[0];window.zoomenuTools.templateChanger.changeLess(i);$(".tk-header-ribbon .tk-templates li.tk-current-template").removeClass("");$(".tk-header-ribbon .tk-templates li a."+n).parent().addClass("tk-current-template");window.zoomenuTools.templateChanger.setHeaderHeight();$("html").addClass(i);window.zoomenuTools.templateChanger.changeDieataryIcons(n,t);$(".tk-header-ribbon").show();$(".tk-header-ribbon .tk-template-changer ul li").mouseover(function(){var n=$(this).find("a").attr("class"),i=n=="sample4"?704:1199;if($(window).width()>i&&n!="tk-template-info")window.zoomenuTools.templateChanger.onMouseOverAndOutHandler(n,t)}).mouseout(function(){var n=$(this).find("a").attr("class"),r=i=="sample4"?704:1199;if($(window).width()>r&&n!="tk-template-info")window.zoomenuTools.templateChanger.onMouseOverAndOutHandler(i,t)}).on("click",function(n){var u,r,f,e;if(n.preventDefault(),u=$(this).find("a"),r=u.attr("class"),r!="tk-template-info"){$(".tk-header-ribbon .tk-template-changer ul li.tk-current-template").each(function(){$(this).removeClass("tk-current-template")});$(this).addClass("tk-current-template");i=r;window.zoomenuTools.templateChanger.onMouseOverAndOutHandler(i,t);f=$(".tk-menu-sel-drpdn-menu").find("a.current-menu span");r.indexOf("b")==-1&&f.text().toLowerCase().indexOf("greyscale")!=-1?(e=$(".tk-menu-sel-drpdn-menu li.clicked").length,e==0?$(".tk-menu-sel-drpdn-menu li").first().find("a").click():$(".tk-menu-sel-drpdn-menu li.clicked").find("a").click()):r.indexOf("b")!=-1&&$(".tk-menu-sel-drpdn-menu li").each(function(){$(this).find("a").text().toLowerCase().indexOf("greyscale")!=-1&&$(this).hasClass("clicked")==!1&&($(this).addClass("fake-click").find("a").click(),$(this).removeClass("fake-click"))})}});$(".tk-header-ribbon .tk-sample-drpdn-menu li").mouseover(function(){var i=$(this).find("a").attr("class"),r=i=="sample4"?704:1199,n,t;$(window).width()>r&&(n=$(this).find("a"),$("#tkTemplateModalLabel").text(n.text()),window.zoomenuTools.templateChanger.setTemplateDescription($(this).index()),t=n.attr("class").split(" "),$("#tkTemplateModal .tk-modal-body > img").attr("src","/Content/Images/"+t[0]+".png"))});$(".tk-header-ribbon .tk-templates li").mouseover(function(){var n=$(this).find("a").not(".tk-template-info").attr("class"),t=n=="sample4"?704:1199;$(window).width()>t&&n!==undefined&&$("#tkTemplateModal .tk-modal-body > img").attr("src","/Content/Images/"+n+".png")}).mouseout(function(){var n=$(".tk-templates li.tk-current-template a").attr("class"),t=n=="sample4"?704:1199;$(window).width()>t&&$("#tkTemplateModal .tk-modal-body > img").attr("src","/Content/Images/"+n+".png")});$(".tk-header-ribbon .tk-templates li a.tk-template-info").on("click",function(n){var t,i;n.preventDefault();window.zoomenuTools.templateChanger.closeAllOtherModals();t=$(".tk-header-ribbon .tk-templates li.tk-current-template a").attr("class");$("#tkTemplateModal .tk-modal-body > img").attr("src","/Content/Images/"+t+".png");$("#tkTemplateModalLabel").text($(".tk-samples .tk-btn-info .tk-caption").text());i=$(".tk-sample-drpdn-menu li a.tk-current-sample").parent().index();window.zoomenuTools.templateChanger.setTemplateDescription(i);$("#tkTemplateModal").modal("toggle");$(".modal-backdrop").length>0&&$(".modal-backdrop").addClass("tk-ribbon-backdrop")});$(".tk-header-ribbon .tk-sample-drpdn-menu").mouseenter(function(){$(window).width()>1199&&($("#tkTemplateModal").modal("show"),$(".modal-backdrop").addClass("tk-ribbon-backdrop"))}).mouseleave(function(){$(window).width()>1199&&($("#tkTemplateModal").modal("hide"),$("body").removeClass("modal-open"),$(".modal-backdrop").remove())});$(".tk-dropdown").on("click",function(){window.zoomenuTools.templateChanger.closeAllOtherModals()});$(function(){$(".tk-menu-sel-drpdn-menu").on("click","li",function(){$(this).addClass("clicked");var n=$(this).find("span"),i=$(".tk-header-ribbon .tk-template-changer ul li.tk-current-template a").attr("class");if(n.text().toLowerCase().indexOf("greyscale")!=-1&&$(this).hasClass("fake-click")==!1){window.zoomenuTools.templateChanger.onMouseOverAndOutHandler(t[2],t);$(".tk-header-ribbon .tk-template-changer ul li a."+t[2]).click()}else if(n.text().toLowerCase().indexOf("greyscale")==-1&&i.indexOf("b")!=-1){window.zoomenuTools.templateChanger.onMouseOverAndOutHandler(t[0],t);$(".tk-header-ribbon .tk-template-changer ul li a."+t[0]).click()}$(this).removeClass("clicked");setTimeout(function(){typeof mainJs.stackInActiveMenuItems!="undefined"&&(mainJs.stackInActiveMenuItems(),mainJs.sendHeight())},200)})})},changeDieataryIcons:function(n,t){n="/"+n+"/";$.each(t,function(t,i){var u,f,e,o,r;i="/"+i+"/";u=null;u=$("#matrix").length>0?$("#matrix tbody tr td.no-bg.text-center.with-left-border > img.label-header-icon"):$(".tk-menu-item-dietary-icon > img");u.each(function(){var t=$(this).attr("src"),r;t.search(i)!=-1&&(r=t.replace(i,n),$(this).attr("src",r))});f=window.zooMenuViewModel.skinImagePath();f.search(i)!=-1&&(r=f.replace(i,n),window.zooMenuViewModel.skinImagePath(r));$(".tk-calorie-slider > img").length>0&&n.search("tk1")!=-1&&(e=$(".tk-calorie-slider > img"),o=e.attr("src"),o.search(i)!=-1&&(r=o.replace(i,n),e.attr("src",r)))})},onMouseOverAndOutHandler:function(n,t){$.each(t,function(t,i){if($("html").hasClass(i)&&i!==n){$("html").removeClass(i);$("html").addClass(n);return}});window.zoomenuTools.templateChanger.changeDieataryIcons(n,t);window.zoomenuTools.templateChanger.changeLess(n)},generateTemplateArray:function(n){var t=[];return t.push(n),$(".tk-header-ribbon .tk-template-changer ul li a").each(function(){var i=$(this).attr("class");i!="tk-template-info"&&i!=n&&t.push(i)}),t},changeLess:function(n){var t="'"+n+"'";less.modifyVars({"@tk-alg-filt-series":t,"@tk-menu-sel-series":t,"@tk-alg-info-series":t,"@tk-page-series":t})},closeAllOtherModals:function(){var n=$("#dietary-advice").find("button.close");$("#dietary-advice").hasClass("in")&&n.click()},setTemplateDescription:function(n){var t=$.parseJSON($("input#tkSampleDescription").val());$(".tk-modal-body-description").text(t[n].desc)},setHeaderHeight:function(){var t=$(".tk-header-background-image"),n;t.length>0&&(n=new Image,n.src=t.css("background-image").replace(/url\(|\)$|"/ig,""),$(n).load(function(){t.css("height",n.height+"px")}))}};window.zoomenuTools.getQueryStringValue=function(n){var u=null,i,t,r;if(window.location.href.indexOf("?")!=-1)for(i=window.location.href.slice(window.location.href.indexOf("?")+1).split("&"),t=0;t<i.length;t++)if(r=i[t].split("="),r[0]==n){u=r[1];break}return u};window.zoomenuTools.getPidQueryValue=function(){var n=null,t;return window.location.href.indexOf("?")!=-1&&(t=window.location.href.slice(window.location.href.indexOf("?")+1).split("&"),n=t[0].split("-")[0]),n};jQuery.fn.extend({showModalAndCheckInSession:function(n){if(typeof n!="undefined"&&n==!0){$(".disclaimer-btn-disagree").hide();$(".disclaimer-btn-agree").text("CLOSE");this.modal("show");$(self.document).find("html").css("overflow","hidden");return}if(typeof zooMenuViewModel!="undefined"&&window.zooMenuViewModel.showDisclaimerOnEachRefresh==!0){this.modal("show");$(self.document).find("html").css("overflow","hidden");return}var t=window.zoomenuTools.GetStorageKey(this.attr("id"));window.sessionStorage.getItem(t)==null&&(this.modal("show"),$(self.document).find("html").css("overflow","hidden"))}});jQuery.fn.extend({hideModalAndRegisterInSession:function(){var n=window.zoomenuTools.GetStorageKey(this.attr("id"));(this.modal("hide"),$(self.document).find("html").css("overflow",""),typeof zooMenuViewModel=="undefined"||window.zooMenuViewModel.showDisclaimerOnEachRefresh!=!0)&&window.sessionStorage.setItem(n,!0)}});window.zoomenuTools.MinWidthWhenPopoversAreShown=0;window.zoomenuTools.AddTkPopoverHandler=function(){$("body").on("show.bs.popover",function(n){return $(n.target).attr("data-tk-popover")?$(n.target).data("tk-popover")=="dietary-popover"?!0:window.innerWidth>window.zoomenuTools.MinWidthWhenPopoversAreShown?!0:!1:!0})};String.prototype.startsWith||(String.prototype.startsWith=function(n,t){return t=t||0,this.indexOf(n,t)===t});window.zoomenuTools.DetectIE=function(){var n=window.navigator.userAgent,i=n.indexOf("MSIE "),u,r,t;return i>0?parseInt(n.substring(i+5,n.indexOf(".",i)),10):(u=n.indexOf("Trident/"),u>0)?(r=n.indexOf("rv:"),parseInt(n.substring(r+3,n.indexOf(".",r)),10)):(t=n.indexOf("Edge/"),t>0)?parseInt(n.substring(t+5,n.indexOf(".",t)),10):!1};zoomenu=zoomenu||{};zoomenu.MenuSelectorItem=function(n,t,i,r,u,f){this.index=0;this.orgIdentifier=n;this.zooIdentifier=t;this.identifier=i;this.isDefault=r;this.name=u;this.type=f;this.menus=ko.observableArray([]);this.menuCyclePeriod=null;this.menuCycleItems=ko.observableArray([]);this.mealPeriods=ko.observableArray([]);this.durationWeeks=1;this.startDate=null;this.endDate=null;this.getWeekDayName=function(){return window.zoomenuTools.GetWeekDayName(this.weekDayId)}};zoomenu.MenuListItem=function(n,t,i,r,u,f,e,o,s,h){this.menuIdentifier=n;this.selectedMenu=ko.observable(t);this.sectionId=i;this.name=r;this.shortName=u;this.weekName=f;this.hasSchedule=e;this.currentWeek=o;this.weekDayId=s;this.weekHeader=null;this.publishType=h;this.getWeekDayName=function(){return window.zoomenuTools.GetWeekDayName(this.weekDayId)}};zoomenu.GroupedMenu=function(n,t,i){this.baseImageUrl=n;this.downloadBaseUrl=t;this.identifier=i;this.menus=ko.observableArray([])};zoomenu.MenuItem=function(n,t,i,r,u,f,e,o,s,h,c,l,a){this.name=n;this.shortName=t;this.desc=i;this.isDefault=r;this.identifier=u;this.recipesLoaded=f;this.showPrice=e;this.menuCycleWeek=o;this.menuCycleWeekText=s;this.weekDayId=h;this.currentWeek=c;this.publishType=l;this.dietaryAdviceFileName=a;this.visible=ko.observable(!0);this.isFiltered=ko.observable(!1);this.showSearchNone=ko.observable(!1);this.sections=ko.observableArray([]);this.searchHappend=!1;this.hasWarning=!1;this.getAdviceDate=function(){var t=(new Date).toISOString().split("T")[0],n;return this.dietaryAdviceFileName!=null&&this.dietaryAdviceFileName!=""&&(n=this.dietaryAdviceFileName.split(".")[0].split("_"),t=n[n.length-1]),t}};zoomenu.SectionItem=function(n,t,i,r,u,f){this.id=n;this.name=t;this.shortName=i;this.itemOrder=r;this.showRecipes=ko.observable(!1);this.visible=ko.observable(!0);this.recipes=ko.observableArray([]);this.recipeTemplate=u;this.sectionLayout=f;this.isFiltered=ko.computed(function(){for(var i=0,n=this.recipes(),t=0;t<n.length;t++)(n[t].fltByLbl()||n[t].fltByNutr())&&i++;return i==n.length?!0:!1},this)};zoomenu.MenuCyclePeriod=function(n,t,i){var r,y,w,b,f,k,nt,e,tt,c,v;moment.locale("en-gb");r=this;this.SetSelectedWeek=function(n){for(var t=0;t<r.MenuCycleWeeks.length;t++)r.MenuCycleWeeks[t].Selected(!1);r.MenuCycleWeeks[n].Selected(!0);$(".slick-class").slick("slickGoTo",n*7,!1);r.SetDaysOfSelectedWeek()};this.SetDaysOfSelectedWeek=function(){var i,t,u,f,n;for(r.SelectedWeekDays([]),i=[],t=0;t<r.MenuCycleWeeks.length;t++)if(r.MenuCycleWeeks[t].Selected()==!0)for(u=moment(r.MenuCycleWeeks[t].StartDay).subtract(1,"d"),f=moment(r.MenuCycleWeeks[t].EndDay).add(1,"d"),n=0;n<r.MenuCycleDays.length;n++)r.MenuCycleDays[n].DayDate.isBetween(u,f,"day")&&i.push({Index:n,Label:r.MenuCycleDays[n].DayDate.format("D MMMM YYYY"),Selected:ko.observable(r.MenuCycleDays[n].Selected()),IsTodayDate:r.MenuCycleDays[n].IsTodayDate,Disabled:r.MenuCycleDays[n].Disabled(),IsoDate:r.MenuCycleDays[n].DayDate.format("YYYY-MM-DD")});r.SelectedWeekDays(i)};this.GetSelectedDay=function(){for(var t=null,n=0;n<r.MenuCycleDays.length;n++)if(r.MenuCycleDays[n].Selected()==!0){t=r.MenuCycleDays[n];break}return t};this.GetSelectedDayLabel=function(){var n=this.GetSelectedDay();return n!==null?n.DayName:""};this.GetSelectedDayCoords=function(){var n=this.GetSelectedDay();return n!==null?{dNumber:n.DayNumber,wNumber:n.WeekNumber,isoDate:n.DayDate.format("YYYY-MM-DD"),label:n.DayDate.format("D MMMM YYYY")}:null};this.SetSelectedDay=function(n,t){var i;if(!r.MenuCycleDays[n].Disabled()){for(i=0;i<r.MenuCycleDays.length;i++)r.MenuCycleDays[i].Selected(!1);if(r.MenuCycleDays[n].Selected(!0),r.SelectedDayLabelShort(moment(r.MenuCycleDays[n].DayDate).format("ddd, D MMM YYYY")),r.SelectedDayLabel(moment(r.MenuCycleDays[n].DayDate).format("dddd D MMMM")),t!=undefined&&typeof t=="number"){for(i=0;i<r.SelectedWeekDays().length;i++)r.SelectedWeekDays()[i].Selected(!1);r.SelectedWeekDays()[t].Selected(!0)}return{dNumber:r.MenuCycleDays[n].DayNumber,wNumber:r.MenuCycleDays[n].WeekNumber}}};y=i*7-1;this.MenuCycleDays=[];this.MenuCycleWeeks=[];this.SelectedWeekDays=ko.observable([]);this.SelectedDayLabel=ko.observable("");this.SelectedDayLabelShort=ko.observable("");this.NoCycleData=ko.observable(!1);var o=moment(zoomenu.TodayZooDate,"YYYY-MM-DD"),p=null,s=null,u=moment(n),h=null,l=null;h=u.isBefore(o,"week")?moment(o).subtract(1,"w").startOf("week"):moment(n);l=o.isBefore(h,"day")?moment(h).add(27,"d").endOf("week"):moment(o).add(27,"d").endOf("week");w=moment(u).add(y,"d").endOf("week");t instanceof Date?(s=moment(t),p=s.isBefore(l,"day")?moment(s).endOf("week"):moment(l).endOf("week")):p=moment(l).endOf("week");for(var d=0,a=0,g=!1;!u.isAfter(p,"day");)u.isAfter(w)&&(a=0,w=moment(u).add(y,"d").endOf("week")),b=u.weekday()+1,b===1&&(a++,u.isBefore(h)||(f=new zoomenu.MenuCycleWeek,f.StartDay=moment(u),f.StartDayStringFull=f.StartDay.format("D MMMM YYYY"),f.EndDay=moment(u).endOf("week"),k="",nt=f.EndDay.format("D MMM"),k=f.StartDay.isSame(f.EndDay,"month")?f.StartDay.format("D"):f.StartDay.format("D MMM"),f.StartEndDayString=k+" - "+nt,f.WeekNumber=a,f.WeekNumberInYear=u.weeks(),this.MenuCycleWeeks.push(f))),u.isBefore(h)||(e=new zoomenu.MenuCycleDay,e.WeekNumber=a,e.WeekNumberInYear=u.weeks(),e.DayNumber=b,e.DayIndex=d,e.DayName=u.format("ddd"),e.DayNumInMonth=u.date(),e.DayDate=moment(u),(u.isSame(o,"day")||u.isSame(s,"day"))&&!g&&(e.Selected(!0),(!u.isSame(s,"day")||u.isSame(o,"day"))&&(e.IsTodayDate=!0),r.SelectedDayLabelShort(u.format("ddd, D MMM YYYY")),r.SelectedDayLabel(u.format("dddd D MMMM")),this.MenuCycleWeeks[this.MenuCycleWeeks.length-1].Selected(!0),g=!0),s!=null&&u.isAfter(s)&&e.Disabled(!0),this.MenuCycleDays.push(e),d++),u.add(1,"d");if(r.SelectedDayLabelShort()==""&&(o.isBefore(h,"day")&&(window.zoomenuTools.ConsoleLog("MenuCycle is in the future"),this.MenuCycleDays[0].Selected(!0),r.SelectedDayLabelShort(this.MenuCycleDays[0].DayDate.format("ddd, D MMM YYYY")),r.SelectedDayLabel(this.MenuCycleDays[0].DayDate.format("dddd D MMMM")),this.MenuCycleWeeks[0].Selected(!0)),o.isAfter(moment(t),"day")))if(window.zoomenuTools.ConsoleLog("MenuCycle is in the past"),o.diff(moment(t),"days")>7||this.MenuCycleDays.length==0)r.NoCycleData(!0);else for(tt=moment(t).endOf("week").diff(moment(t),"days"),c=this.MenuCycleDays.length-1-tt,this.MenuCycleDays[c].Selected(!0),r.SelectedDayLabelShort(this.MenuCycleDays[c].DayDate.format("ddd, D MMM YYYY")),r.SelectedDayLabel(this.MenuCycleDays[c].DayDate.format("dddd D MMMM")),this.MenuCycleWeeks[this.MenuCycleWeeks.length-1].Selected(!0),v=c+1;v<this.MenuCycleDays.length;v++)this.MenuCycleDays[v].Disabled(!0);this.SetDaysOfSelectedWeek()};zoomenu.MenuCycleWeek=function(){this.StartDayStringFull="";this.StartEndDayString="";this.StartDay=null;this.EndDay=null;this.Selected=ko.observable(!1);this.WeekNumber=0;this.WeekNumberInYear=0};zoomenu.MenuCycleDay=function(){this.Id=0;this.WeekNumber=0;this.WeekNumberInYear=0;this.DayNumber=0;this.DayIndex=0;this.DayName="";this.DayNumInMonth=0;this.DayDate=new Date(0);this.Selected=ko.observable(!1);this.BreakfastSelected=ko.observable(!0);this.LunchSelected=ko.observable(!0);this.DinnerSelected=ko.observable(!0);this.Disabled=ko.observable(!1);this.IsTodayDate=!1};zoomenu.RecipeItem=function(n,t,i,r,u,f,e,o,s,h,c){var l=this;this.pageIndex=1;this.recipeType=c;this.id=n;this.name=t;this.desc=i;this.mDesc=r;this.sellPrice=u;this.priceWithOptionals=ko.observable(u);this.inViewP=ko.observable(!1);this.inDom=ko.observable(!1);this.showDesc=ko.observable(!1);this.cssClassName=f;this.showDefImg=e;this.showInfo=ko.observable(!1);this.showNutritionalInfo=ko.observable(!1);this.showMakeYourOwn=ko.observable(!1);this.isServed=ko.observable(!1);this.sName=o;this.fltByLbl=ko.observable(!1);this.fltByNutr=ko.observable(!1);this.fltBySrch=ko.observable(!0);this.visible=ko.observable(!0);this.cTime=h;this.defaultServingSize=s;this.servingSize=ko.observable(this.defaultServingSize);this.pictPath="";this.hasIngredients=ko.observable(!1);this.internalCode="";this.externalCode="";this.recipeCode="";this.recipeUrl="";this.choiceDefault=!1;this.portionSizeQuantity=0;this.portionSizeUoMCode="";this.pictures=ko.observableArray([]);this.nutritionInfo=ko.observableArray([]);this.defaultNutrInfo=ko.observableArray([]);this.labelInfo=ko.observableArray([]);this.defaultLblInfo=ko.observableArray([]);this.ingredients=ko.observableArray([]);this.preparationMethod=ko.observableArray([]);this.preparationMiseEnPlace=ko.observableArray([]);this.preparationService=ko.observableArray([]);this.prepareNutritionInfo=function(n){var t=[];return n.forEach(function(n){var i={};i.id=n.i;i.desc=n.d;i.gdaPerc=n.g;i.p100g=n.p1;i.pServ=n.ps;i.postFix=n.pf;t.push(i)}),t};this.desc100=ko.computed(function(){return typeof this.desc!="undefined"&&this.desc!==null&&this.desc.length>97?this.desc.substring(0,96)+"...":this.desc},this);this.desc200=ko.computed(function(){return typeof this.desc!="undefined"&&this.desc!==null&&this.desc.length>197?this.desc.substring(0,196)+"...":this.desc},this);this.getServingSizeLabel=ko.computed(function(){var n=this.servingSize();return this.servingSize()==1?n+" Portion":n+" Portions"},this);this.getPortionSizeLabel=function(n){var i=!1,r=2,t;return(typeof n!="undefined"&&(i=!0,r=n),typeof this.portionSizeQuantity!="undefined"&&this.portionSizeQuantity!=0&&typeof this.portionSizeUoMCode!="undefined"&&this.portionSizeUoMCode!="")?(t=this.getNumber(this.portionSizeQuantity),t=t%1>0?this.roundToFixed(t,r,i):this.roundToFixed(t,0,i),t.toString()+" "+this.portionSizeUoMCode.replace("(","").replace(")","")):""};this.reduceServingSize=function(n){n===undefined&&(n=1);l.servingSize()>n&&l.servingSize(l.servingSize()-1)};this.increaseServingSize=function(n){n===undefined&&(n=99);l.servingSize()<n&&l.servingSize(l.servingSize()+1)};this.toggleServingSize=function(){l.servingSize()>0?l.reduceServingSize(0):l.increaseServingSize(1)};this.resetServingSize=function(){l.servingSize(l.defaultServingSize)};this.roundToFixed=function(n,t,i){var r=Math.pow(10,t),n=Math.round(n*r)/r;return i?n.toFixed(t):n.toString()};this.getNumber=function(n){var t=0;return typeof n=="string"?t=n==="-"?0:parseFloat(n.replace(",","")):typeof n=="number"&&(t=n),isNaN(t)?0:t};this.recalcTotal=function(n){function p(n){for(var u,e,r,i,t=0;t<n.length;t++){if(n[t].id===990&&(y=!0),u=!1,n[t].isAllergenLabel===!1){for(e=!1,r=0;r<f.length;r++)if(f[r].id===n[t].id){f[r].foundedTimes++;e=!0;break}e===!1&&f.push({id:n[t].id,foundedTimes:1})}for(i=0;i<o.length;i++)if(o[i].id==n[t].id)if(o[i].lblInfIns.length>=n[t].lblInfIns.length){u=!0;break}else{o.splice(i,1);break}u===!1&&(n[t].dispOrd=window.zooMenuViewModel.labelGetOrderIndex(n[t].id),o.push(n[t]))}}for(var s,v,h,a,r,i,e,w,b,k,d,g,nt,c,t,o=[],f=[],y=!1,u=o.length-1;u>-1;u--)console.log(o[u].id+" -> "+o[u].dispOrd);if(s=0,n===!0){for(t=0;t<l.nutritionInfo().length;t++)l.nutritionInfo()[t].gdaPerc(l.defaultNutrInfo()[t].gdaPerc()),l.nutritionInfo()[t].noDataGdaPerc(!1),l.nutritionInfo()[t].per100g(l.defaultNutrInfo()[t].per100g()),l.nutritionInfo()[t].noDataPer100g(!1),l.nutritionInfo()[t].perServ(l.defaultNutrInfo()[t].perServ()),l.nutritionInfo()[t].noDataPerServ(!1);s=Number(l.sellPrice);l.priceWithOptionals(s);l.labelInfo(l.defaultLblInfo())}else{for(t=0;t<l.nutritionInfo().length;t++)l.nutritionInfo()[t].gdaPerc("-"),l.nutritionInfo()[t].noDataGdaPerc(!1),l.nutritionInfo()[t].per100g("-"),l.nutritionInfo()[t].noDataPer100g(!1),l.nutritionInfo()[t].perServ("-"),l.nutritionInfo()[t].noDataPerServ(!1);s=0;l.priceWithOptionals(s);l.labelInfo([])}for(p(l.labelInfo()),v=n?1:0,l.isServed(!1),t=0;t<l.ingredients().length;t++)if(l.ingredients()[t].servingSize()!==0){if(s+=Number(l.ingredients()[t].sellPrice),h=l.ingredients()[t].nutritionInfo(),a=this.getNumber(l.ingredients()[t].servingSize()),n)for(u=0;u<l.nutritionInfo().length;u++){for(i=l.nutritionInfo()[u],r=null,e=0;e<h.length;e++)if(h[e].id==i.id){r=h[e];break}if(r==null){window.zoomenuTools.ConsoleLog("can not find tempNutInfoArr with Id="+i.id);continue}(i.gdaPerc()===""||r.gdaPerc()=="-")&&i.noDataGdaPerc(!0);(i.per100g()===""||r.per100g()=="-")&&i.noDataPer100g(!0);(i.perServ()===""||r.perServ()=="-")&&i.noDataPerServ(!0)}for(u=0;u<h.length;u++){for(r=h[u],i=null,e=0;e<l.nutritionInfo().length;e++)if(l.nutritionInfo()[e].id==r.id){i=l.nutritionInfo()[e];break}if(i==null){window.zoomenuTools.ConsoleLog("can not find selfNutritionInfo with Id="+r.id);continue}r.gdaPerc()===""||r.gdaPerc()=="-"?(i.gdaPerc("-"),i.noDataGdaPerc(!0)):i.noDataGdaPerc()===!1&&(w=this.getNumber(i.gdaPerc()),b=this.getNumber(r.gdaPerc())*a,i.gdaPerc(w+b));r.per100g()===""||r.per100g()=="-"?(i.per100g("-"),i.noDataPer100g(!0)):i.noDataPer100g()===!1&&(k=this.getNumber(i.per100g()),d=this.getNumber(r.per100g())*a,i.per100g(k+d));r.perServ()===""||r.perServ()=="-"?(i.perServ("-"),i.noDataPerServ(!0)):i.noDataPerServ()===!1&&(g=this.getNumber(i.perServ()),nt=this.getNumber(r.perServ())*a,i.perServ(g+nt))}l.ingredients()[t].servingSize()>0&&(l.isServed(!0),v++,p(l.ingredients()[t].labelInfo()))}if(l.priceWithOptionals(s.toFixed(2)),y==!0)for(t=0;t<f.length;t++)if(f[t].id==990){f.splice(t,1);break}for(c=o.sort(function(n,t){return n.dispOrd>t.dispOrd?1:n.dispOrd<t.dispOrd?-1:0}),t=0;t<f.length;t++)if(f[t].foundedTimes<v)for(u=c.length-1;u>-1;u--)c[u].id==f[t].id&&c.splice(u,1);l.labelInfo(c)}};zoomenu.observableNutritionItem=function(n,t,i){var r=this,u;this.id=n.i;this.inMealPln=n.iM;this.desc=ko.observable(n.d);this.dispOrd=typeof n.dispOrd!="undefined"?n.dispOrd:i;this.per100g=ko.observable(n.p1);this.postFix=ko.observable(n.pf);this.gdaPerc=t==1?ko.observable("-"):ko.observable(n.g);this.perServ=t==2&&n.ps==""&&(n.p1=="0"||n.p1=="0.0")?ko.observable(n.p1):ko.observable(n.ps);u=this.perServ().split(".");this.precision=u.length>1?ko.observable(u[1].length):ko.observable(0);this.noDataGdaPerc=ko.observable(!1);this.noDataPer100g=ko.observable(!1);this.noDataPerServ=ko.observable(!1);this.totalValue=function(n,t,i){var u,f;return(n==undefined&&(n=1),u=null,u=typeof r.perServ()=="string"?r.perServ().replace(",",""):r.perServ(),u=="-")?"-":u&&u!="-"?(f=Number(u)*Number(n),f=f.toFixed(this.precision()),i?f:f+" "+r.postFix()):t?i?"0":"0 "+r.postFix():"-"}.bind(this);this.totalGdaPerc=function(n){var t,i;return(n==undefined&&(n=1),t=null,t=typeof r.gdaPerc()=="string"?r.gdaPerc().replace(",",""):r.gdaPerc(),t=="-")?"-":t>=0?(i=r.gdaPerc()*n,i>=1?Math.round(r.gdaPerc()*n)+"%":i>0?"<1%":"0%"):"-"}.bind(this)};zoomenu=zoomenu||{};zoomenu.BaseViewModel=function(){var n=this;return n.showNoDataToDisplay=ko.observable(!1),n.showSearchNone=ko.observable(),n.labelListData=ko.observable([]),n.labelListDataTemplate=ko.observable([]),n.staticResources=ko.observableArray(),n.baseImageUrl=ko.observable(),n.baseTKServerUrl=ko.observable(),n.skinImagePath=ko.observable(),n.labelListDataTemplateD=ko.observableArray([]),n.showDisclaimerOnEachRefresh=!1,n.energyKCalId=2,n.targetGda=ko.observable(0),n.dietaryStandardName=ko.observable(),n.dietaryAdviceVisible=ko.observable(!1),n.dietaryAdviceModalVisible=ko.observable(!1),n.dietaryAdviceAllowDataFilter=ko.observable(!1),n.dietaryAdviceIncludeSelectedLabels=ko.observable(!1),n.showPrice=ko.observable(!0),n.isTablet=ko.observable(window.zoomenuTools.isMobile.any()),n.viewPortSize=ko.observable("xs"),n.menuDataservice=new zoomenu.dataservice,n.config=ko.observable(),n.exclamationWarningExist=ko.observable(!1),n.noMaxMin=ko.observable(!1),n.noMaxMinNoSelected=ko.observable(!1),n.organisationIdentifier=ko.observable(null),n.zooMenuIdentifier=ko.observable(null),n.zooMenuIsActive=ko.observable(!0),n.readyPdfAdvice=ko.observable(!1),n.checkPdfAdvice=ko.observable(!1),n.windowsReizedDebounced=_.debounce(function(){$(".device-xs").is(":visible")?n.viewPortSize("xs"):$(".device-sm").is(":visible")?n.viewPortSize("sm"):$(".device-md").is(":visible")?n.viewPortSize("md"):$(".device-lg").is(":visible")&&n.viewPortSize("lg")},500),n.labelGetTooltipById=function(t){for(var r="",i=0;i<n.labelListDataTemplate().length;i++){if(typeof n.labelListDataTemplate()[i].id!="undefined"&&n.labelListDataTemplate()[i].id==t&&typeof n.labelListDataTemplate()[i].ttDesc!="undefined"){r=n.labelListDataTemplate()[i].ttDesc;break}if(typeof n.labelListDataTemplate()[i].Id!="undefined"&&n.labelListDataTemplate()[i].Id==t&&typeof n.labelListDataTemplate()[i].Tooltip!="undefined"){r=n.labelListDataTemplate()[i].Tooltip;break}}return r},n.isVegetarianLabel=function(t){return n.labelGetTooltipById(t).toLowerCase().indexOf("vegetarian")!==-1},n.isAllergenLabel=function(t){for(var i=0;i<n.labelListDataTemplate().length;i++)if(n.labelListDataTemplate()[i].id==t)return n.labelListDataTemplate()[i].isExt;return null},n.labelGetOrderIndex=function(t){var r=1,i;if(t==990)return 0;for(i=0;i<n.labelListDataTemplate().length;i++){if(n.labelListDataTemplate()[i].id==t)return n.labelListDataTemplate()[i].dispOrd==0?r:n.labelListDataTemplate()[i].dispOrd;r++}return null},n.labelGetImagePathById=function(t,i){for(var u=t,r=0;r<n.labelListDataTemplate().length;r++){if(typeof n.labelListDataTemplate()[r].id!="undefined"&&n.labelListDataTemplate()[r].id==i&&typeof n.labelListDataTemplate()[r].imgNa!="undefined"){u=t+n.labelListDataTemplate()[r].imgNa;break}if(typeof n.labelListDataTemplate()[r].Id!="undefined"&&n.labelListDataTemplate()[r].Id==i&&typeof n.labelListDataTemplate()[r].Img!="undefined"){u=t+n.labelListDataTemplate()[r].Img;break}}return u},n.preparationGetNotes=function(n){var t=ko.utils.arrayFirst(n,function(n){var t=n.ct;return t==="PresentationNotesText"});return t?t.t.substring(0,50):""},n.energyKCalForRecipe=function(t){var u=_.find(t.nutritionInfo(),function(t){return t.id===n.energyKCalId}),i,r;return typeof u=="undefined"?"":(i=0,r=typeof u.perServ=="function"?u.perServ():u.perServ,typeof r=="string"?i=parseFloat(r.replace(",","")):typeof r=="number"&&(i=r),isNaN(i)?0:i)},n.energyKCalCheckEmptyValue=function(t){var r=_.find(t.nutritionInfo(),function(t){return t.id===n.energyKCalId}),u,i;return typeof r=="undefined"?"":(u=0,i=typeof r.perServ=="function"?r.perServ():r.perServ,typeof i=="string"?u=parseFloat(i.replace(",","")):typeof i=="number"&&(u=i),isNaN(u)?!0:!1)},n.gdaPerForRecipe=function(t){var u=_.find(t.nutritionInfo(),function(t){return t.id===n.energyKCalId}),i,r;return typeof u=="undefined"?"":(i=0,r=typeof u.gdaPerc=="function"?u.gdaPerc():u.gdaPerc,typeof r=="string"?i=parseFloat(r.replace(",","")):typeof r=="number"&&(i=r),isNaN(i)?0:i)},n.gdaPerAvailableInMealPlan=function(t){var i=_.find(t.nutritionInfo(),function(t){return t.id===n.energyKCalId});return typeof i=="undefined"?!1:i.inMealPln},n.showNutritionalInfo=function(n,t){var i=$(t.currentTarget);$(t.currentTarget).toggleClass("selected");$.find(".menu-item-container").length!=0?i.parents(".menu-item-container").find(".info-table-container").toggleClass("toggled"):$.find(".tk-menu-item-container").length!=0&&i.parents(".tk-menu-item-container").find(".tk-nutrition-info-container").toggleClass("toggled")},n.defaultRecipeImage=function(t){var r,i;return t==null?n.skinImagePath()+"no-image.png":(r=[],_.find(t(),function(n){(n.isDefault===!0||n.isDef===!0)&&r.push(n)}),i=r.pop(),typeof i!="undefined")?(setTimeout(function(){mainJs.resetLayout()},10),(i.imgNa.indexOf("http")==-1?n.baseImageUrl():"")+i.imgNa):n.skinImagePath()+"no-image.png"},n.defaultRecipeImagePath=function(t){return typeof t=="undefined"||t==null||t==""?n.skinImagePath()+"no-image.png":(setTimeout(function(){mainJs.resetLayout()},10),n.baseImageUrl().indexOf("imported")==-1?n.baseImageUrl()+"imported/"+t:n.baseImageUrl()+t)},n.hasRecipeImage=function(n){return n().length>0},n.dietaryIcons=function(n){return _.filter(n.labelInfo(),function(n){return n.value()!=="no"})},n.showBack=function(n,t){typeof mainJs!="undefined"&&typeof mainJs.showBack!="undefined"&&mainJs.showBack(t);n.showInfo(!0)},n.showSlide=function(n,t){typeof mainJs!="undefined"&&typeof mainJs.showSlide!="undefined"&&mainJs.showSlide(t);n.showInfo(!0)},n.showMain=function(n,t){n.showInfo(!0);typeof mainJs!="undefined"&&typeof mainJs.revertFlip!="undefined"&&mainJs.revertFlip(t)},n.noFlip=function(n,t){typeof mainJs!="undefined"&&typeof mainJs.noFlip!="undefined"&&mainJs.noFlip(t)},n.dietaryValue=function(n,t){var i=_.find(t(),function(t){return t.id===n});return typeof i=="undefined"?"unknown":i.val},n.dietaryAdviceShowData=function(){n.dietaryAdviceAllowDataFilter(!1);n.dietaryAdviceVisible(!0);n.dietaryAdviceModalVisible(!0)},n.recipeRendered=function(){},n.sectionRendered=function(n,t){typeof mainJs!="undefined"&&typeof mainJs.SectionCreated!="undefined"&&mainJs.SectionCreated(n,t)},n.showStubIfMenuNotExists=function(){mainJs.showStubIfMenuNotExists()},n.bindDisclaimerWithButtonsEvents=function(){var n=window.zoomenuTools.GetStorageKey($(".disclaimer-btn-modal").attr("id"));window.zoomenuTools.sessionStorage.getItem(n)!=null&&($(".disclaimer-btn-disagree").hide(),$(".disclaimer-btn-agree").text("CLOSE"));$("body").on("click",".disclaimer-btn-agree",function(){var n=$(this);$(".disclaimer-btn-modal").hideModalAndRegisterInSession();setTimeout(function(){(typeof zooMenuViewModel=="undefined"||window.zooMenuViewModel.showDisclaimerOnEachRefresh!=!0)&&($(".disclaimer-btn-disagree").hide(),n.text("CLOSE"))},200)});$("body").on("click",".disclaimer-btn-disagree",function(){$(".disclaimer-btn-modal .disclaimer-agree").hide();$(".disclaimer-btn-modal .disclaimer-disagree").show();$(".modal-backdrop").attr("style","opacity: 0.9");$(".disclaimer-body-disagree").height($(".disclaimer-body").height());$(".disclaimer-footer-disagree").height($(".disclaimer-footer").height())});$("body").on("click",".disclaimer-back",function(){$(".disclaimer-btn-modal .disclaimer-agree").show();$(".disclaimer-btn-modal .disclaimer-disagree").hide();$(".modal-backdrop").attr("style","opacity: 0.5")})},n.generatePdf=function(t,i,r){var u=typeof i!="undefined"&&i!=null?i:zoomenu.SessionIdentifierForApi,f=typeof r!="undefined"&&r!=null?r:"recipe",e=n.organisationIdentifier(),o=encodeURIComponent(u),s=encodeURIComponent(t),h=typeof zoomenu.BaseTKPdfUrl=="undefined"?"http://pdf.tkmenus.com/":zoomenu.BaseTKPdfUrl;return h+"report/pdf?r="+s+"&s="+o+"&t="+f+"&i="+e},n.getPdfAdvice=function(t,i,r){var o=typeof i!="undefined"&&i!=null?i:zoomenu.SessionIdentifierForApi,s=encodeURIComponent(o),h=encodeURIComponent(r.split(".")[0]),u="",f,e;if(window.zooMenuViewModel.dietaryAdviceIncludeSelectedLabels()==!0&&window.zooMenuViewModel.labelSelected().length>0){for(f=0;f<window.zooMenuViewModel.labelSelected().length;f++)u=u+"-"+window.zooMenuViewModel.labelSelected()[f].id;u=u.substring(1,u.length)}return e=typeof zoomenu.BaseTKPdfUrl=="undefined"?"http://pdf.tkmenus.com/":zoomenu.BaseTKPdfUrl,e+"report/menupdf/"+n.organisationIdentifier()+"/"+n.zooMenuIdentifier()+"/"+t+"/"+h+"?s="+s+(u==""?"":"&ls="+u)},n.checkFileExist=function(t,i){n.menuDataservice.checkFile(encodeURIComponent(t),function(t){i=="pdfAdvice"&&n.readyPdfAdvice(t.FileExist);zoomenuTools.ConsoleLog("Ajax call Succeed!")})},n.inputFrameDelta={windowScrollTop:0,windowHeight:0,iFrameTop:0,iFrameHeight:0,staticOffset:0,set:function(n){var t=JSON.parse(n.data);this.windowScrollTop=t.windowScrollTop;this.windowHeight=t.windowHeight;this.iFrameTop=t.iFrameTop;this.iFrameHeight=t.iFrameHeight;this.staticOffset=t.staticOffset}},n.inputFrameFixed=function(){for(var t,i,r,u,f,o=$("[data-tk-fixed]"),e=0;e<o.length;e++)t=$(o[e]),t.length>0&&(i=parseInt(t.offset().top),r=parseInt(t.offset().left),typeof t.attr("data-tk-fixed-top")=="undefined"?(t.attr("data-tk-fixed-top",i),t.attr("data-tk-fixed-left",r)):(i=parseInt(t.attr("data-tk-fixed-top")),r=parseInt(t.attr("data-tk-fixed-left"))),u=i,f=n.inputFrameDelta.windowScrollTop-n.inputFrameDelta.iFrameTop+n.inputFrameDelta.staticOffset,f>0&&(u=i+f),t.offset({top:u,left:r}),window.zoomenuTools.ConsoleLog("Delta: "+f+"  Init Top: "+i+"  New Top : "+u+"  Init Left : "+r))},n.initLabelListDataTemplateD=function(t){for(var u,f=1,e={},r=[],i=0;i<t.length;i++)t[i].child!=!0&&r.push(t[i]);for(i=0;i<r.length;i++)f==1?i==r.length-1?(u={left:r[i],right:null},n.labelListDataTemplateD.push(u)):(e=r[i],f++):(u={left:e,right:r[i]},n.labelListDataTemplateD.push(u),f=1)},n.roundPriceWithCurrency=function(t,i){var u=parseFloat(t.replace(",","")),r=n.roundToFixed(u,i);return typeof n.config()!="undefined"?n.config().currencySymbol+r:r},n.roundToFixed=function(n,t,i){var r=n,u;return typeof n=="string"&&(r=parseFloat(n.replace(",",""))),typeof i!="undefined"&&(r=r*i),u=Math.pow(10,t),(Math.round(r*u)/u).toFixed(t)},n.checkForExclamationWarning=function(){var t,i;if(n.exclamationWarningExist()==!0)return!0;if(t=!1,typeof window.zooMenuViewModel.menuDetails()!="undefined")if(typeof window.zooMenuViewModel.menuDetails().length=="undefined")t=window.zooMenuViewModel.menuDetails().hasWarning;else for(i=0;i<window.zooMenuViewModel.menuDetails().length;i++)if(window.zooMenuViewModel.menuDetails()[i].hasWarning==!0){t=!0;break}return n.exclamationWarningExist(t),t},{baseImageUrl:n.baseImageUrl,baseTKServerUrl:n.baseTKServerUrl,skinImagePath:n.skinImagePath,showDisclaimerOnEachRefresh:n.showDisclaimerOnEachRefresh,showNoDataToDisplay:n.showNoDataToDisplay,showSearchNone:n.showSearchNone,inputFrameDelta:n.inputFrameDelta,inputFrameFixed:n.inputFrameFixed,labelGetTooltipById:n.labelGetTooltipById,labelGetImagePathById:n.labelGetImagePathById,preparationGetNotes:n.preparationGetNotes,energyKCalId:n.energyKCalId,labelListData:n.labelListData,labelListDataTemplate:n.labelListDataTemplate,energyKCalForRecipe:n.energyKCalForRecipe,energyKCalCheckEmptyValue:n.energyKCalCheckEmptyValue,showNutritionalInfo:n.showNutritionalInfo,staticResources:n.staticResources,defaultRecipeImage:n.defaultRecipeImage,defaultRecipeImagePath:n.defaultRecipeImagePath,dietaryIcons:n.dietaryIcons,showBack:n.showBack,showMain:n.showMain,showSlide:n.showSlide,noFlip:n.noFlip,gdaPerForRecipe:n.gdaPerForRecipe,gdaPerAvailableInMealPlan:n.gdaPerAvailableInMealPlan,targetGda:n.targetGda,dietaryStandardName:n.dietaryStandardName,dietaryValue:n.dietaryValue,dietaryAdviceVisible:n.dietaryAdviceVisible,dietaryAdviceModalVisible:n.dietaryAdviceModalVisible,dietaryAdviceShowData:n.dietaryAdviceShowData,dietaryAdviceAllowDataFilter:n.dietaryAdviceAllowDataFilter,dietaryAdviceIncludeSelectedLabels:n.dietaryAdviceIncludeSelectedLabels,recipeRendered:n.recipeRendered,sectionRendered:n.sectionRendered,showPrice:n.showPrice,isTablet:n.isTablet,hasRecipeImage:n.hasRecipeImage,viewPortSize:n.viewPortSize,windowsReizedDebounced:n.windowsReizedDebounced,menuDataservice:n.menuDataservice,bindDisclaimerWithButtonsEvents:n.bindDisclaimerWithButtonsEvents,isAllergenLabel:n.isAllergenLabel,labelGetOrderIndex:n.labelGetOrderIndex,generatePdf:n.generatePdf,getPdfAdvice:n.getPdfAdvice,readyPdfAdvice:n.readyPdfAdvice,checkPdfAdvice:n.checkPdfAdvice,checkFileExist:n.checkFileExist,labelListDataTemplateD:n.labelListDataTemplateD,initLabelListDataTemplateD:n.initLabelListDataTemplateD,organisationIdentifier:n.organisationIdentifier,zooMenuIdentifier:n.zooMenuIdentifier,zooMenuIsActive:n.zooMenuIsActive,config:n.config,roundPriceWithCurrency:n.roundPriceWithCurrency,roundToFixed:n.roundToFixed,showStubIfMenuNotExists:n.showStubIfMenuNotExists,checkForExclamationWarning:n.checkForExclamationWarning,exclamationWarningExist:n.exclamationWarningExist,isVegetarianLabel:n.isVegetarianLabel,noMaxMin:n.noMaxMin,noMaxMinNoSelected:n.noMaxMinNoSelected}};$(function(){if($(window).resize(function(){window.zooMenuViewModel.windowsReizedDebounced();typeof mainJs!="undefined"&&typeof mainJs.windowsReizedDebounced!="undefined"&&mainJs.windowsReizedDebounced()}),setTimeout(function(){window.zooMenuViewModel.bindDisclaimerWithButtonsEvents()},300),$("body #disclaimer-accept-checkbox1").length>0){$("body").on("click","#disclaimer-accept-checkbox1",function(){$("#disclaimer-accept-checkbox1").prop("checked")&&$("#disclaimer-accept-checkbox2").prop("checked")&&$("#disclaimer").hideModalAndRegisterInSession()});$("body").on("click","#disclaimer-accept-checkbox2",function(){$("#disclaimer-accept-checkbox1").prop("checked")&&$("#disclaimer-accept-checkbox2").prop("checked")&&$("#disclaimer").hideModalAndRegisterInSession()})}});zoomenu=zoomenu||{};zoomenu.MenusViewModel=function(){function s(r,f,e){var v,o,y,s,h,p,w;if(n.zooMenuIsActive(typeof e!="undefined"?e:!0),n.zooMenuIsActive()!=!1){n.windowsReizedDebounced();var b=$.parseJSON($("#menuJson").val()),l=$.parseJSON($("#labelJson").val()),k=$.parseJSON($("#resourceJson").val()),d=$.parseJSON($("#configJson").val());if(mainJs.spinnerStart(),n.menuDetails([]),n.labelListData([]),n.labelListDataTemplate([]),n.config(d),n.organisationIdentifier(r),n.zooMenuIdentifier(f),n.labelListData(c(l)),n.labelListDataTemplate(l),n.initLabelListDataTemplateD(l),n.staticResources(k),n.groupedMenus(n.processMenusData(b)),n.baseImageUrl(n.groupedMenus().baseImageUrl),n.skinImagePath(n.config().skinImagePath),i=n.groupedMenus().identifier,n.groupedMenus().menus().length==0&&$(document).ready(function(){$("div.body-content:first").append("<h2 style='text-align: center;'>No menus are associated with this page!<\/h2>");mainJs.spinnerStop()}),v="",_.each(n.groupedMenus().menus(),function(t){if(t.menuCycleWeek!==null&&t.menuCycleWeek!==""){var i=new zoomenu.MenuListItem(t.identifier,t.isDefault,0,t.name,t.shortName,t.menuCycleWeekText,!0,t.currentWeek,t.weekDayId,t.publishType);v!==t.menuCycleWeek&&(v=t.menuCycleWeek,i.weekHeader=t.menuCycleWeekText);n.menuList.push(i)}else n.menuList.push(new zoomenu.MenuListItem(t.identifier,t.isDefault,0,t.name,t.shortName,null,!1,0,t.publishType))}),o=_.find(n.groupedMenus().menus(),function(n){return n.isDefault===!0}),typeof o=="undefined")for(n.isDefaultMenuMissing(!0),o=n.groupedMenus().menus()[0],o.isDefault=!0,y=n.menuList(),s=0;s<y.length;s++)if(h=y[s],h.currentWeek===1){n.loadSelectedMenu(h.menuIdentifier,h.sectionId);break}n.showPrice(o.showPrice);n.menuDetails(o);mainJs.numberOfSections=o.sections.length;t=o.identifier;mainJs.screenReady();p=n.config().dietaryStandard;w=_.find(p.standard,function(t){return t.nutrientId===n.energyKCalId});n.dietaryStandardName(p.name);_.isUndefined(w)||(u=w.value);a();n.isSectionsExpanded(!1);n.showSearchNone(!1);setTimeout(function(){n.checkPdfAdvice()==!0&&n.checkFileExist(n.config().downloadBaseUrl+n.menuDetails().dietaryAdviceFileName,"pdfAdvice")},1500);setTimeout(function(){n.menuDataservice.addStat("",n.organisationIdentifier(),n.zooMenuIdentifier(),n.menuDetails().identifier,function(){zoomenuTools.ConsoleLog("Ajax call Succeed!")},function(){zoomenuTools.ConsoleLog("Ajax call Failed!")})},2e3);n.checkForExclamationWarning();setTimeout(function(){n.setFormater()},1e3);setTimeout(function(){n.setMinMaxCalorie()},1500)}}function h(i){var f;if(n.zooMenuIsActive(typeof i!="undefined"?i:!0),n.zooMenuIsActive()!=!1){n.windowsReizedDebounced();var r=$.parseJSON($("#menuJson").val()),e=$.parseJSON($("#configJson").val()),u=null;if(n.menuDetails([]),n.labelListData([]),n.labelListDataTemplate([]),n.staticResources([]),n.organisationIdentifier(r.OIdent),n.zooMenuIdentifier(r.Ident),n.labelListDataTemplate(r.Intols),n.baseImageUrl(r.BaseImgUrl),n.skinImagePath(r.SkinImgUrl),n.config(e),typeof r.Locations!="undefined"&&r.Locations!=null&&r.Locations.length>0&&(typeof r.Locations[0].Menu!="undefined"&&r.Locations[0].Menu!=null&&(u=r.Locations[0].Menu),typeof r.Locations[0].MealPeriods!="undefined"&&r.Locations[0].MealPeriods!=null&&r.Locations[0].MealPeriods.length>0&&(u=r.Locations[0].MealPeriods[0].Menu)),u==null){n.showNoDataToDisplay(!0);return}n.locationIdentifier(r.Locations[0].Ident);n.groupedMenus(n.processMenusDataCustomer(u,r.BaseImgUrl,r.BasePdfUrl,r.Ident));f=n.groupedMenus().menus()[0];n.menuDetails(n.groupedMenus().menus());t=f.identifier;n.isSectionsExpanded(!1);n.showSearchNone(!1);setTimeout(function(){n.checkPdfAdvice()==!0&&n.checkFileExist(n.config().downloadBaseUrl+n.menuDetails().dietaryAdviceFileName,"pdfAdvice")},1500);setTimeout(function(){n.menuDataservice.addStat("",n.organisationIdentifier(),n.zooMenuIdentifier(),n.locationIdentifier(),function(){zoomenuTools.ConsoleLog("Ajax call Succeed!")},function(){zoomenuTools.ConsoleLog("Ajax call Failed!")})},2e3);n.checkForExclamationWarning()}}function c(n){var n,t;if(mainJs.allergensIdsInMainSection!=undefined)n=_.filter(n,function(n){return n.inLblFlt===!0}),_.each(n,function(n){n.filterColumn=mainJs.allergensIdsInMainSection.indexOf(n.id)!=-1||n.fltLVal==="no"?1:2});else{n=_.filter(n,function(n){return n.inLblFlt===!0});var i=n.length/2,r=_.partition(n,function(n){return n.fltLVal==="no"}),u=r[0],f=r[1];_.each(u,function(n,t){n.filterColumn=t+1<=i?1:2});t=_.filter(n,function(n){return n.filterColumn===1}).length;t>0&&(t=t+2);_.each(f,function(n,r){n.filterColumn=r+t>i?2:1})}return n}function l(t,i,r){n.menuDetails(t);mainJs.numberOfSections=t.sections().length;mainJs.configName==="Eds"?n.applyLabelFilterWithIngredients("loadSelectedMenu_notCached"):(n.setMinMaxCalorie(),typeof mainJs.stackInActiveMenuItems!="undefined"&&(n.applyCalorieFilterForSections(),mainJs.stackInActiveMenuItems(),mainJs.sendHeight()),n.applyLabelFilter("loadSelectedMenu_Cached"));n.applySearchFilter(null,"loadSelectedMenu_Cached");mainJs.screenReady(!0);!_.isUndefined(i)&&i>0&&mainJs.scrollToTarget("#menu-section-"+i);_.isUndefined(r)||mainJs.scrollToTarget("#menu-section-name-"+r);setTimeout(function(){n.checkPdfAdvice()==!0&&n.checkFileExist(n.config().downloadBaseUrl+n.menuDetails().dietaryAdviceFileName,"pdfAdvice")},1500);setTimeout(function(){n.menuDataservice.addStat("",n.organisationIdentifier(),n.zooMenuIdentifier(),n.menuDetails().identifier,function(){zoomenuTools.ConsoleLog("Ajax call Succeed!")},function(){zoomenuTools.ConsoleLog("Ajax call Failed!")},!0)},2e3);n.checkForExclamationWarning()}function a(){if(r=new v,n.userMealPlanner(r),!_.isUndefined(amplify.store(i))){var t=amplify.store(i);_.each(t,function(t){var i=_.find(n.menuDetails().sections(),function(n){return n.id===t.sectionId}),r;_.isUndefined(i)||(r=_.find(i.recipes(),function(n){return n.id===t.sectionItemId}),n.addRecipe(t.sectionId,i.name,r,!0))})}}function v(){var t=this;t.mpSections=ko.observableArray([]);t.addItem=function(i,r,u){var c=!0,e,s,h;ko.utils.arrayForEach(t.mpSections(),function(n){if(n.sectionId()===i){var t=new f;t.recipeItem(u);t.belongsToSection=i;n.mealPlannerItems.push(t);c=!1}});c&&(e=new y,e.sectionId(i),e.sectionName(r),s=new f,s.recipeItem(u),s.belongsToSection=i,e.mealPlannerItems.push(s),t.mpSections.push(e));n.storageMealPlanner.push({sectionId:i,sectionItemId:u.id});t.totalGdaPercentage=ko.observable();t.totalCost=ko.observable();this.mpTotals=ko.computed(function(){var u=0,i=0,f=0,r=!1,e=0,o=0;return ko.utils.arrayForEach(t.mpSections(),function(n){i+=Number(n.totalCost());f+=n.totalGdaPercentage();r=r||n.isPartialTotalKCal();u+=n.totalKCal();e=n.unableCalcTotalCost();o=n.unableCalcTotalKCal()}),n.totalNonCalculable(!1),n.totalKCalNonCalculable(!1),n.totalPriceNonCalculable(!1),r?n.config().allowPartialNutrition?(n.selectedRecipesCost(i),n.totalCalories(u),n.totalGdaPercentageForSelectedRecipes(f)):n.totalNonCalculable(!0):(n.selectedRecipesCost(i),n.totalCalories(u),n.totalGdaPercentageForSelectedRecipes(f)),n.totalKCalNonCalculable(o),n.totalPriceNonCalculable(e),n.selectedRecipesCost(i),n.isPartialTotalKCal(r),!0}).extend({throttle:200});o=n.gdaPerAvailableInMealPlan(u);h=_.find(n.config().dietaryStandard.standard,function(t){return t.nutrientId==n.energyKCalId});h!=null&&n.targetGda(h.value)}}function y(){var t=this,r=!1;t.sectionId=ko.observable();t.sectionName=ko.observable();t.mealPlannerItems=ko.observableArray([]);t.totalGdaPercentage=ko.observable();t.totalCost=ko.observable();t.isPartialTotalKCal=ko.observable();t.unableCalcTotalCost=ko.observable();t.unableCalcTotalKCal=ko.observable();t.totalKCal=ko.computed(function(){var u,e,o=0,s=0,h=0,f=!1;return r=!1,ko.utils.arrayForEach(t.mealPlannerItems(),function(t){e=n.gdaPerForRecipe(t.recipeItem());o+=Number(t.recipeItem().priceWithOptionals());u=n.energyKCalForRecipe(t.recipeItem());f||(f=n.energyKCalCheckEmptyValue(t.recipeItem()));u!==""?(s+=u,h+=Math.ceil(e)):r=!0}),t.isPartialTotalKCal(r),t.totalCost(o),t.totalGdaPercentage(h),t.unableCalcTotalKCal(f),amplify.store(i,n.storageMealPlanner()),s}).extend({throttle:200})}function f(){this.recipeItem=ko.observable()}var n=new zoomenu.BaseViewModel;n.isDefaultMenuMissing=ko.observable(!1);n.locationIdentifier=ko.observable();n.searchList=ko.observableArray([]);n.isSectionsExpanded=ko.observable();n.groupedMenus=ko.observable();n.menuList=ko.observableArray([]);n.menuDetails=ko.observable("").extend({rateLimit:20});n.selectedMenu=ko.observable().extend({rateLimit:20});n.labelSelected=ko.observableArray([]);n.defaultLayout=ko.observable();n.selectedRecipes=ko.observableArray([]);n.selectedRecipesCost=ko.observable(0);n.selectedRecipesCalories=ko.observable();n.totalCalories=ko.observable(0);n.isPartialTotalKCal=ko.observable(!1);n.selectedCalorieValue=ko.observableArray([0,2500]);n.maxMinCalorieValue=ko.observableArray([0,2500]);n.updateSection=ko.observable();n.updateMenuByKCal=ko.observable();n.numberRecipesAdded=ko.observable(0);n.recipeLimitCrossedCss=ko.observable();n.totalGdaPercentageForSelectedRecipes=ko.observable(0);n.totalGdaPercentageVisibleInMealPlan=ko.observable(!0);n.totalNonCalculable=ko.observable(!1);n.totalPriceNonCalculable=ko.observable(!1);n.totalKCalNonCalculable=ko.observable(!1);n.storageMealPlanner=ko.observableArray([]);n.isDefaultVisibility=!1;n.partiallyHidden=ko.observable(!0);n.showDisclaimerOnEachRefresh=!1;var e=20,t,u="",r,i,o=!1;return n.userMealPlanner=ko.observable(),n.buttonGroupLabelSelected=function(t,i){$(i.currentTarget).hasClass("active")?n.labelSelected.remove(t):n.labelSelected.push(t)},n.reduceServingSize=function(n){n.servingSize>1&&n.servingSize--},n.increaseServingSize=function(n){n.servingSize<99&&n.servingSize++},n.resetServingSize=function(n){n.servingSize=1},n.clearLabelFilters=function(){return n.labelSelected([]),!1},n.clearLabelFiltersAndCaloriesSlider=function(){return n.labelSelected([]),n.selectedCalorieValue(n.getMinMaxCalorie()),typeof $().bootstrapSlider!="undefined"?$("input.slider").bootstrapSlider("setValue",n.selectedCalorieValue()):$("input.slider").slider("setValue",n.selectedCalorieValue()),ko.utils.arrayForEach(n.menuDetails().sections(),function(n){var t=n.recipes();ko.utils.arrayForEach(t,function(n){n.fltBySrch(!0);n.fltByLbl(!1);n.fltByNutr(!1);n.visible(!0);mainJs.configName==="Eds"&&ko.utils.arrayForEach(n.ingredients,function(n){n.fltByLbl(!1);n.fltByNutr(!1)})})}),!1},n.clearAllFilters=function(){n.isDefaultVisibility=!0;n.labelSelected([]);n.defaultMenuDetailsVisibility()},n.labelSelected.subscribe(function(){var t=_.debounce(function(){n.isDefaultVisibility==!1&&(window.zoomenuTools.ConsoleLog("labelSelected"),mainJs.configName==="Eds"?n.applyLabelFilterWithIngredients("labelSelected"):n.applyLabelFilter("labelSelected"));n.isDefaultVisibility=!1},200);t()}),n.processMenusData=function(t){for(var i,r,f=new zoomenu.GroupedMenu(t.biu,t.dbu,t.i),e=t.ms,u=0;u<e.length;u++)i=e[u],r=new zoomenu.MenuItem(i.n,i.sn,i.d,i.de,i.i,i.rl,i.sp,i.mcw,i.mcwt,i.wdi,i.cw,i.pt,i.fn),r.hasWarning=i.hasw,r.sections=n.processSectionsData(i.ss),f.menus.push(r);return f},n.processMenusDataCustomer=function(t,i,r,u){var e=new zoomenu.GroupedMenu(i,r,u),f=new zoomenu.MenuItem(t.Name,t.Name,t.Desc,!0,t.Ident,!0,!1,null,null,null,null,null,t.AdvicePath);return f.hasWarning=f.HasWarning,f.sections=n.processSectionsDataCustomer(t.Sections),e.menus.push(f),e},n.processSectionsData=function(t){for(var v,tt,l,o,e,f,i,s,h,y,p,a,b,k,d=ko.observableArray([]),w=0;w<t.length;w++){var c=t[w],g=new zoomenu.SectionItem(c.i,c.n,c.sn,c.io,c.rt,c.sl),nt=c.rs;for(v=0;v<nt.length;v++){var r=nt[v],it=typeof r.sv=="undefined"||r.sv==""?1:r.sv,u=new zoomenu.RecipeItem(r.i,r.n,r.d,r.n,r.sp,r.cn,r.si,r.sn,it,r.ct,r.t);if(u.portionSizeQuantity=r.uq,u.portionSizeUoMCode=r.un,u.visible(!0),typeof mainJs!="undefined"&&typeof mainJs.lazyLoadingForRecipesDietaryIcons!="undefined"&&u.showInfo(!mainJs.lazyLoadingForRecipesDietaryIcons),u.pictures([]),typeof r.ps!==undefined&&r.ps!=null)for(i=0;i<r.ps.length;i++)tt={isDefault:r.ps[i].d,imgNa:r.ps[i].p},u.pictures.push(tt);if(u.nutritionInfo([]),u.defaultNutrInfo([]),typeof r.ns!==undefined&&r.ns!=null){for(i=0;i<r.ns.length;i++)u.nutritionInfo.push(new zoomenu.observableNutritionItem(r.ns[i],2,i));for(i=0;i<r.ns.length;i++)u.defaultNutrInfo.push(new zoomenu.observableNutritionItem(r.ns[i],2,i))}for(u.labelInfo([]),i=0;i<r.ls.length;i++){if(s={id:r.ls[i].i,val:"yes",child:!1,lblInfIns:[]},typeof r.ls[i].ls!="undefined"&&r.ls[i].ls!==null)for(h=0;h<r.ls[i].ls.length;h++)y={id:r.ls[i].ls[h].i,val:"yes",child:!0,lblInfIns:[]},s.lblInfIns.push(y);s.dispOrd=n.labelGetOrderIndex(s.id);u.labelInfo.push(s)}if(typeof r.prs!="undefined"&&u.preparationService(ko.utils.arrayFilter(r.prs,function(n){return n.pt==4})),u.ingredients([]),typeof r.rs!==undefined&&r.rs!=null&&r.rs.length>0)for(u.hasIngredients(!0),u.servingSize(1),l=0;l<r.rs.length;l++)if(o=r.rs[l],typeof o.in!="undefined"){if(e=r.rs[l].in,f=new zoomenu.RecipeItem(e.i,o.n,o.d,o.n,o.sp,o.cn,o.si,o.sn,0,o.ct,o.t),f.portionSizeQuantity=o.uq,f.portionSizeUoMCode=o.un,f.choiceDefault=o.cd,f.visible(!0),f.recipeType===1&&(f.sellPrice=0,f.priceWithOptionals(0)),f.nutritionInfo([]),f.defaultNutrInfo([]),typeof e.ns!==undefined&&e.ns!=null){for(i=0;i<e.ns.length;i++)f.nutritionInfo.push(new zoomenu.observableNutritionItem(e.ns[i],f.recipeType,i));for(i=0;i<e.ns.length;i++)f.defaultNutrInfo.push(new zoomenu.observableNutritionItem(e.ns[i],f.recipeType,i))}if(f.labelInfo([]),typeof e.ls!==undefined&&e.ls!=null){for(f.labelInfo([]),i=0;i<e.ls.length;i++){if(s={id:e.ls[i].i,val:"yes",child:!1,lblInfIns:[]},typeof e.ls[i].ls!="undefined"&&e.ls[i].ls!==null)for(h=0;h<e.ls[i].ls.length;h++)y={id:e.ls[i].ls[h].i,val:"yes",child:!0,lblInfIns:[]},s.lblInfIns.push(y);f.labelInfo.push(s)}for(p=0;p<f.labelInfo().length;p++)a=f.labelInfo()[p],b=n.isAllergenLabel(a.id),b!=null&&(a.isAllergenLabel=b),k=n.labelGetOrderIndex(a.id),k!=null&&(a.dispOrd=k)}u.recipeType==3&&f.choiceDefault==!0?(u.labelInfo([]),u.labelInfo(f.labelInfo()),u.defaultLblInfo(f.labelInfo()),u.nutritionInfo([]),u.nutritionInfo(f.nutritionInfo()),u.defaultNutrInfo([]),u.defaultNutrInfo(f.defaultNutrInfo())):u.ingredients.push(f)}g.recipes.push(u)}d.push(g)}return d},n.processSectionsDataCustomer=function(n){for(var f,s,i,h,u,v,c=ko.observableArray([]),e=0;e<n.length;e++){var o=n[e],l=new zoomenu.SectionItem(0,o.Name,o.Name,0,null,null),a=o.Recipes;for(f=0;f<a.length;f++){var t=a[f],y=typeof t.sv=="undefined"||t.sv==""?1:t.sv,r=new zoomenu.RecipeItem(0,t.Name,t.Desc,t.Name,0,null,!1,t.Name,y,null,t.RType);if(r.visible(!0),typeof mainJs!="undefined"&&typeof mainJs.lazyLoadingForRecipesDietaryIcons!="undefined"&&r.showInfo(!mainJs.lazyLoadingForRecipesDietaryIcons),r.pictures([]),r.nutritionInfo([]),r.defaultNutrInfo([]),typeof t.Nutrs!==undefined&&t.Nutrs!=null)for(i=0;i<t.Nutrs.length;i++)s={i:t.Nutrs[i].Id,iM:!1,d:t.Nutrs[i].Desc,dispOrd:i,g:t.Nutrs[i].GdaPerc,p1:t.Nutrs[i].Per100g,ps:t.Nutrs[i].PerServ,pf:t.Nutrs[i].PostFix},r.nutritionInfo.push(new zoomenu.observableNutritionItem(s),2),r.defaultNutrInfo.push(new zoomenu.observableNutritionItem(s),2);if(r.labelInfo([]),typeof t.Intols!==undefined&&t.Intols!=null)for(i=0;i<t.Intols.length;i++){if(h={id:t.Intols[i].Id,val:t.Intols[i].Val,child:!1,lblInfIns:[]},typeof t.Intols[i].ChIntols!="undefined"&&t.Intols[i].ChIntols!==null)for(u=0;u<t.Intols[i].ChIntols.length;u++)v={id:t.Intols[i].ChIntols[u].Id,val:t.Intols[i].ChIntols[u].Val,child:!0,lblInfIns:[]},h.lblInfIns.push(v);r.labelInfo.push(h)}l.recipes.push(r)}c.push(l)}return c},n.calculateRecipeVisibility=function(n){var t=!0;return n.fltBySrch()==!1&&(t=!1),n.fltByLbl()==!0&&(t=!1),n.fltByNutr()==!0&&(t=!1),t},n.expandCollapseSections=function(t){window.zoomenuTools.ConsoleLog("Expand Collapse Sections");ko.utils.arrayForEach(n.menuDetails().sections(),function(i){i.showRecipes(t);typeof mainJs!="undefined"&&typeof mainJs.lazyLoadingForRecipesDietaryIcons!="undefined"&&mainJs.lazyLoadingForRecipesDietaryIcons==!0&&t==!0&&n.updateRecipesShowInfoInSection(i.id,!0)});n.isSectionsExpanded(t)},n.updateRecipesShowInfoAll=function(t){var r,u,i;if(typeof mainJs=="undefined"||typeof mainJs.lazyLoadingForRecipesDietaryIcons!="undefined")for(window.zoomenuTools.ConsoleLog("Update All Recipes Show Info to "+t.toString()),r=0;r<n.menuDetails().sections().length;r++)for(u=n.menuDetails().sections()[r],i=0;i<u.recipes().length;i++)u.recipes()[i].showInfo()!=t&&u.recipes()[i].showInfo(t)},n.updateRecipesShowInfoInSection=function(t,i){var f,r,u;if(typeof mainJs=="undefined"||typeof mainJs.lazyLoadingForRecipesDietaryIcons!="undefined")for(window.zoomenuTools.ConsoleLog("Update Recipes Show Info to "+i.toString()+" in Section ID = "+t),f=0;f<n.menuDetails().sections().length;f++)if(r=n.menuDetails().sections()[f],r.id==t){for(u=0;u<r.recipes().length;u++)r.recipes()[u].showInfo()!=i&&r.recipes()[u].showInfo(i);break}},n.checkSectionsVisibility=function(){window.zoomenuTools.ConsoleLog("Check Sections Visibility");var t=0;return ko.utils.arrayForEach(n.menuDetails().sections(),function(n){for(var u,r=!1,i=0;i<n.recipes().length;i++)if(u=n.recipes()[i],u.visible()==!0){r=!0;t++;break}n.visible(r)}),n.expandCollapseSections(t>0),n.showSearchNone(t==0),t},n.defaultMenuDetailsVisibility=function(){window.zoomenuTools.ConsoleLog("Defaults to MenuDetails Visibility");ko.utils.arrayForEach(n.menuDetails().sections(),function(n){var t=n.recipes();ko.utils.arrayForEach(t,function(n){n.fltBySrch(!0);n.fltByLbl(!1);n.fltByNutr(!1);n.visible(!0)});n.visible(!0);n.showRecipes(!1)});n.isSectionsExpanded(!1);n.showSearchNone(!1);mainJs.getSearchPanelInput().val("");mainJs.searchPanelInputFocusOut()},n.applySearchFilter=function(t,i){(typeof mainJs=="undefined"||typeof mainJs.getSearchPanelInput!="undefined")&&(t=t==null?mainJs.getSearchPanelInput().val().replace(/ /g,"").toLowerCase():t,t!=""||i!="loadSelectedMenu_notCached"&&i!="loadSelectedMenu_Cached")&&(window.zoomenuTools.ConsoleLog("Apply Search Filtering -> "+t+" -> "+i),n.menuDetails().searchHappend=!0,ko.utils.arrayForEach(n.menuDetails().sections(),function(i){var r=i.recipes();ko.utils.arrayForEach(r,function(i){i.sName.indexOf(t)!==-1?(i.fltBySrch(!0),i.showInfo(!0)):i.fltBySrch(!1);i.visible(n.calculateRecipeVisibility(i))})}),n.checkSectionsVisibility(),typeof mainJs!="undefined"&&typeof mainJs.searchPanelUpdated!="undefined")},n.applyLabelFilterWithIngredients=function(t){function r(n,t){var i=!1,r=[];ko.utils.arrayForEach(t,function(t){var f,u,e,o;for(t.fltLVal==="no"&&(i=!0),f=0;f<n.labelInfo().length;f++){if(u=n.labelInfo()[f],t.id===u.id){t.fltLVal==="no"?u.val==="yes"&&(i=!1):(i=!1,u.val!=="no"&&(i=!0));break}if(typeof u.lblInfIns!==undefined&&u.lblInfIns!=null&&u.lblInfIns.length>0)for(e=0;e<u.lblInfIns.length;e++)if(o=u.lblInfIns[e],t.id===o.id){t.fltLVal==="no"?o.val==="yes"&&(i=!1):(i=!1,o.val!=="no"&&(i=!0));break}}r.push(i)});_.find(r,function(n){return n===!0})?(n.fltByLbl(!0),n.servingSize(0)):n.fltByLbl(!1)}var i=n.labelSelected();if(i.length==0&&ko.utils.arrayForEach(n.menuDetails().sections(),function(n){var t=n.recipes();ko.utils.arrayForEach(t,function(n){var t=n.ingredients();ko.utils.arrayForEach(t,function(n){n.fltByLbl(!1)})})}),i.length==0&&t!="labelSelected"&&t!="loadSelectedMenu_Cached"){n.applyCalorieFilterForSections();mainJs.refreshFilter("calorieCounterChange");1e3;return}window.zoomenuTools.ConsoleLog("Apply Label Filtering -> "+t);ko.utils.arrayForEach(n.menuDetails().sections(),function(t){var u=t.recipes();ko.utils.arrayForEach(u,function(t){t.recipeType===3&&t.hasIngredients()&&(ko.utils.arrayForEach(t.ingredients(),function(n){r(n,i)}),t.recalcTotal(!0));var u=!1,f=!1;t.showDesc(!1);t.showInfo(!0);t.fltByLbl(!1);ko.utils.arrayForEach(i,function(n){var r,i,e,o;for(n.fltLVal==="no"&&(u=!0,f=!1),r=0;r<t.labelInfo().length;r++){if(i=t.labelInfo()[r],n.id===i.id){n.fltLVal==="no"?i.val==="yes"&&(u=!1,f=!0):(u=!1,i.val!=="no"&&(u=!0),f=!0);break}if(typeof i.lblInfIns!==undefined&&i.lblInfIns!=null&&i.lblInfIns.length>0)for(e=0;e<i.lblInfIns.length;e++)if(o=i.lblInfIns[e],n.id===o.id){n.fltLVal==="no"?o.val==="yes"&&(u=!1,f=!0):(u=!1,o.val!=="no"&&(u=!0),f=!0);break}}u===!0&&(t.fltByLbl(!0),t.showInfo(!1));f===!0&&t.showDesc(!0)});t.visible(n.calculateRecipeVisibility(t))})});n.checkSectionsVisibility();mainJs.refreshFilter();setTimeout(function(){mainJs.refreshFilter("calorieCounterChange")},1e3)},n.applyLabelFilter=function(t){var i=n.labelSelected();(i.length!=0||t=="labelSelected"||t=="labelSelected"||t=="loadSelectedMenu_Cached")&&(window.zoomenuTools.ConsoleLog("Apply Label Filtering -> "+t),ko.utils.arrayForEach(n.menuDetails().sections(),function(t){var r=t.recipes();ko.utils.arrayForEach(r,function(t){var r=!1,f=[],e=[],u=!1;ko.utils.arrayForEach(i,function(n){var o,i,s,h;for(n.fltLVal==="no"&&(r=!0,u=!1),o=0;o<t.labelInfo().length;o++){if(i=t.labelInfo()[o],n.id===i.id){n.fltLVal==="no"?i.val==="yes"&&(r=!1,u=!0):(r=!1,i.val!=="no"&&(r=!0),u=!0);break}if(typeof i.lblInfIns!==undefined&&i.lblInfIns!=null&&i.lblInfIns.length>0)for(s=0;s<i.lblInfIns.length;s++)if(h=i.lblInfIns[s],n.id===h.id){n.fltLVal==="no"?h.val==="yes"&&(r=!1,u=!0):(r=!1,h.val!=="no"&&(r=!0),u=!0);break}}e.push(u);f.push(r)});t.fltByLbl(_.find(f,function(n){return n===!0}));t.visible(n.calculateRecipeVisibility(t));t.showDesc(_.find(e,function(n){return n===!0}))})}),n.checkSectionsVisibility(),mainJs.refreshFilter())},n.addRecipe=function(t,i,u,f){n.numberRecipesAdded()<n.config().maxMealPlanItems?(r.addItem(t,i,u),n.numberRecipesAdded(n.numberRecipesAdded()+1),f!=!0&&$(".alert-success.free").first().removeClass("free").stop(!0,!0).show().delay(1e3).fadeOut(3e3,function(){$(this).addClass("free")}),n.numberRecipesAdded()===n.config().maxMealPlanItems&&n.recipeLimitCrossedCss("maxmealplanitems")):(n.recipeLimitCrossedCss("maxmealplanitems"),f!=!0&&$("#spanNotificationDanger").stop(!0,!0).show().delay(1e3).fadeOut(3e3))},n.removeRecipe=function(t,i,r){var u=_.find(n.userMealPlanner().mpSections(),function(n){return n.sectionId()===t()}),f=_.find(n.storageMealPlanner(),function(n){return n.sectionId===t()&&n.sectionItemId===r.recipeItem().id});n.storageMealPlanner.remove(f);u.mealPlannerItems.remove(r);ko.utils.arrayForEach(n.userMealPlanner().mpSections(),function(t){_.isUndefined(t)||t.mealPlannerItems().length===0&&n.userMealPlanner().mpSections.remove(t)});n.numberRecipesAdded(n.numberRecipesAdded()-1);n.recipeLimitCrossedCss("");$(".popover").remove()},n.isRecipeLimitCrossed=ko.computed(function(){return n.numberRecipesAdded()<e?"":"maxmealplanitems"}),n.selectedRecipesTemplate=ko.computed(function(){return n.numberRecipesAdded()===0?"empty-mealplanner-tmpl":"mealplanner-tmpl"}).extend({throttle:500}),n.selectedRecipes.subscribe(function(){var i=0,r=0,u=!1,t;ko.utils.arrayForEach(n.selectedRecipes(),function(f){t=null;i+=Number(f.priceWithOptionals);t=n.energyKCalForRecipe(f);t!==""?r+=t:u=!0});n.selectedRecipesCost(i);n.totalCalories(r);n.isPartialTotalKCal(u)}),n.updateSection.subscribe(function(){var i=n.updateSection(),r=n.selectedCalorieValue()[0],u=n.selectedCalorieValue()[1],t=n.menuDetails().sections()[i];_.isUndefined(t)||(window.zoomenuTools.ConsoleLog("Apply Nutrition Filtering"),ko.utils.arrayForEach(t.recipes(),function(t){var i=n.energyKCalForRecipe(t);i!==""&&(i>=r&&i<=u?t.fltByNutr(!1):t.fltByNutr(!0),t.visible(n.calculateRecipeVisibility(t)))}));mainJs.refreshFilter("calorieCounterChange")}),n.updateMenuByKCal.subscribe(function(){n.applyCalorieFilterForSections();n.checkSectionsVisibility();mainJs.refreshFilter("calorieCounterChange")}),n.applyCalorieFilterForSections=function(){var i=n.selectedCalorieValue()[0],t=n.selectedCalorieValue()[1];window.zoomenuTools.ConsoleLog("Apply Nutrition Filtering");ko.utils.arrayForEach(n.menuDetails().sections(),function(r){ko.utils.arrayForEach(r.recipes(),function(r){var u=n.energyKCalForRecipe(r);u!==""&&(n.noMaxMinNoSelected()!=!0&&u>=i&&u<=t?r.fltByNutr(!1):n.noMaxMinNoSelected()==!0&&(t==n.maxMinCalorieValue()[1]&&u>=i||t!=n.maxMinCalorieValue()[1]&&u>=i&&u<=t)?r.fltByNutr(!1):r.fltByNutr(!0),r.visible(n.calculateRecipeVisibility(r)))})})},n.getMinMaxCalorie=function(){var t=10;return n.noMaxMin()==!0&&n.config().showNutrients==!0?(ko.utils.arrayForEach(n.menuDetails().sections(),function(i){ko.utils.arrayForEach(i.recipes(),function(i){var r=n.energyKCalForRecipe(i);r!==""&&r>t&&(t=r)})}),[0,t]):[0,2500]},n.setMinMaxCalorie=function(){if(n.noMaxMin()==!0&&n.config().showNutrients==!0){var t=n.getMinMaxCalorie();n.selectedCalorieValue()[0]==n.maxMinCalorieValue()[0]&&n.selectedCalorieValue()[1]==n.maxMinCalorieValue()[1]?(n.maxMinCalorieValue(t),n.selectedCalorieValue([n.selectedCalorieValue()[0],t[1]])):n.selectedCalorieValue()[1]>=n.maxMinCalorieValue()[1]?(n.maxMinCalorieValue(t),n.selectedCalorieValue([n.selectedCalorieValue()[0],t[1]])):n.maxMinCalorieValue(t);typeof $().bootstrapSlider!="undefined"?($("input.tk-slider").bootstrapSlider("setAttribute","min",n.maxMinCalorieValue()[0]),$("input.tk-slider").bootstrapSlider("setAttribute","max",n.maxMinCalorieValue()[1]),$("input.tk-slider").bootstrapSlider("setValue",n.selectedCalorieValue())):($("input.tk-slider").slider("setAttribute","min",n.maxMinCalorieValue()[0]),$("input.tk-slider").slider("setAttribute","max",n.maxMinCalorieValue()[1]),$("input.tk-slider").slider("setValue",n.selectedCalorieValue()))}n.config().showNutrients==!0&&(n.updateMenuByKCal.notifySubscribers(),n.checkSectionsVisibility())},n.setFormater=function(){n.noMaxMinNoSelected()==!0&&(typeof $().bootstrapSlider!="undefined"?($("input.tk-slider").bootstrapSlider("setAttribute","formatter",n.getFormater),$("input.tk-slider").bootstrapSlider("setValue",n.selectedCalorieValue())):($("input.tk-slider").slider("setAttribute","formatter",n.getFormater),$("input.tk-slider").slider("setValue",n.selectedCalorieValue())))},n.getFormater=function(){return(n.maxMinCalorieValue()[0]==n.selectedCalorieValue()[0]?n.staticResources().noMinSelect:n.selectedCalorieValue()[0])+" : "+(n.maxMinCalorieValue()[1]==n.selectedCalorieValue()[1]?n.staticResources().noMaxSelect:n.selectedCalorieValue()[1])},n.clearCaloriesSlider=function(){return typeof $().bootstrapSlider!="undefined"?$("input.tk-slider").bootstrapSlider("setValue",n.maxMinCalorieValue()):$("input.tk-slider").slider("setValue",n.maxMinCalorieValue()),n.selectedCalorieValue(n.maxMinCalorieValue()),n.updateMenuByKCal.notifySubscribers(),!1},n.changeLanguage=function(){window.zoomenuTools.ConsoleLog("Change Language");var i=_.find(n.groupedMenus().menus(),function(n){return n.identifier===t});_.isUndefined(t)||n.menuDataservice.getMenuSectionItems(n.organisationIdentifier(),n.zooMenuIdentifier(),menuMappingIdentifier,function(t){i.sections=n.processSectionsData(t);i.recipesLoaded=!0;n.menuDetails(i)})},n.totalInfo=function(){var t=n.dietaryStandardName()+":"+u;return n.config().allowPartialNutrition&&n.isPartialTotalKCal()&&(t+="<br/>* partial value"),t},n.selectedMenu.subscribe(function(t){n.loadSelectedMenu(t.menuIdentifier,t.sectionId)}),n.loadSelectedMenu=function(i,r,u){var f,e,o,s;if(t!==i||r!==0||typeof u!="undefined"){for(window.zoomenuTools.ConsoleLog("Load Selected Menu"),mainJs.spinnerStart(),t=i,f=_.find(n.groupedMenus().menus(),function(n){return n.identifier===i}),e=0;e<n.menuList().length;e++)n.menuList()[e].selectedMenu(n.menuList()[e].menuIdentifier==i);n.showPrice(f.showPrice);mainJs.MenuChanged();f.recipesLoaded===!1?(mainJs.MenuChanged(),n.menuDataservice.getMenuSectionItems(n.organisationIdentifier(),n.zooMenuIdentifier(),i,function(t){f.sections=n.processSectionsData(t);mainJs.numberOfSections=f.sections().length;f.recipesLoaded=!0;n.menuDetails(f);mainJs.configName==="Eds"?(n.applyCalorieFilterForSections(),n.applyLabelFilterWithIngredients("loadSelectedMenu_notCached")):(n.setMinMaxCalorie(),typeof mainJs.stackInActiveMenuItems!="undefined"&&n.applyCalorieFilterForSections(),n.applyLabelFilter("loadSelectedMenu_notCached"));n.applySearchFilter(null,"loadSelectedMenu_notCached");mainJs.screenReady();!_.isUndefined(r)&&r>0&&mainJs.scrollToTarget("#menu-section-"+r);_.isUndefined(u)||mainJs.scrollToTarget("#menu-section-name-"+u);setTimeout(function(){n.checkPdfAdvice()==!0&&n.checkFileExist(n.config().downloadBaseUrl+n.menuDetails().dietaryAdviceFileName,"pdfAdvice")},1500);setTimeout(function(){n.menuDataservice.addStat("",n.organisationIdentifier(),n.zooMenuIdentifier(),n.menuDetails().identifier,function(){zoomenuTools.ConsoleLog("Ajax call Succeed!")},function(){zoomenuTools.ConsoleLog("Ajax call Failed!")},!0)},2e3);n.checkForExclamationWarning()})):l(f,r,u);o=$("#courseDescriptions").length>0?$.parseJSON($("#courseDescriptions").val()):"{}";s=$.grep(o,function(n){return n.menuId==i});_.each(f.sections(),function(n){var t=$.grep(s,function(t){return t.courseName==n.shortName});t.length>0&&setTimeout(function(){$("#menu-section-name-"+n.shortName).find(".course-description").text(t[0].courseDesc).show()},10)});n.setMinMaxCalorie()}},{baseImageUrl:n.baseImageUrl,skinImagePath:n.skinImagePath,showDisclaimerOnEachRefresh:n.showDisclaimerOnEachRefresh,showSearchNone:n.showSearchNone,inputFrameDelta:n.inputFrameDelta,inputFrameFixed:n.inputFrameFixed,showNoDataToDisplay:n.showNoDataToDisplay,labelGetTooltipById:n.labelGetTooltipById,labelGetImagePathById:n.labelGetImagePathById,preparationGetNotes:n.preparationGetNotes,energyKCalId:n.energyKCalId,labelListData:n.labelListData,labelListDataTemplate:n.labelListDataTemplate,energyKCalForRecipe:n.energyKCalForRecipe,energyKCalCheckEmptyValue:n.energyKCalCheckEmptyValue,showNutritionalInfo:n.showNutritionalInfo,staticResources:n.staticResources,defaultRecipeImage:n.defaultRecipeImage,dietaryIcons:n.dietaryIcons,showBack:n.showBack,showMain:n.showMain,showSlide:n.showSlide,noFlip:n.noFlip,gdaPerForRecipe:n.gdaPerForRecipe,gdaPerAvailableInMealPlan:n.gdaPerAvailableInMealPlan,targetGda:n.targetGda,dietaryStandardName:n.dietaryStandardName,dietaryValue:n.dietaryValue,dietaryAdviceVisible:n.dietaryAdviceVisible,dietaryAdviceModalVisible:n.dietaryAdviceModalVisible,dietaryAdviceShowData:n.dietaryAdviceShowData,dietaryAdviceAllowDataFilter:n.dietaryAdviceAllowDataFilter,dietaryAdviceIncludeSelectedLabels:n.dietaryAdviceIncludeSelectedLabels,recipeRendered:n.recipeRendered,sectionRendered:n.sectionRendered,showPrice:n.showPrice,isTablet:n.isTablet,hasRecipeImage:n.hasRecipeImage,viewPortSize:n.viewPortSize,windowsReizedDebounced:n.windowsReizedDebounced,menuDataservice:n.menuDataservice,bindDisclaimerWithButtonsEvents:n.bindDisclaimerWithButtonsEvents,generatePdf:n.generatePdf,getPdfAdvice:n.getPdfAdvice,readyPdfAdvice:n.readyPdfAdvice,checkPdfAdvice:n.checkPdfAdvice,checkFileExist:n.checkFileExist,labelListDataTemplateD:n.labelListDataTemplateD,labelGetOrderIndex:n.labelGetOrderIndex,initLabelListDataTemplateD:n.initLabelListDataTemplateD,organisationIdentifier:n.organisationIdentifier,zooMenuIdentifier:n.zooMenuIdentifier,zooMenuIsActive:n.zooMenuIsActive,config:n.config,roundPriceWithCurrency:n.roundPriceWithCurrency,roundToFixed:n.roundToFixed,showStubIfMenuNotExists:n.showStubIfMenuNotExists,checkForExclamationWarning:n.checkForExclamationWarning,exclamationWarningExist:n.exclamationWarningExist,isVegetarianLabel:n.isVegetarianLabel,searchList:n.searchList,locationIdentifier:n.locationIdentifier,processMenusData:n.processMenusData,processSectionsData:n.processSectionsData,processMenusDataCustomer:n.processMenusDataCustomer,processSectionsDataCustomer:n.processSectionsDataCustomer,isDefaultVisibility:n.isDefaultVisibility,calculateRecipeVisibility:n.calculateRecipeVisibility,checkSectionsVisibility:n.checkSectionsVisibility,updateRecipesShowInfoAll:n.updateRecipesShowInfoAll,updateRecipesShowInfoInSection:n.updateRecipesShowInfoInSection,expandCollapseSections:n.expandCollapseSections,isSectionsExpanded:n.isSectionsExpanded,applyLabelFilter:n.applyLabelFilter,applyLabelFilterWithIngredients:n.applyLabelFilterWithIngredients,applySearchFilter:n.applySearchFilter,activate:s,activateLocation:h,groupedMenus:n.groupedMenus,menuList:n.menuList,menuDetails:n.menuDetails,selectedMenu:n.selectedMenu,labelSelected:n.labelSelected,buttonGroupLabelSelected:n.buttonGroupLabelSelected,currencySymbol:n.currencySymbol,clearLabelFilters:n.clearLabelFilters,clearAllFilters:n.clearAllFilters,clearLabelFiltersAndCaloriesSlider:n.clearLabelFiltersAndCaloriesSlider,clearCaloriesSlider:n.clearCaloriesSlider,defaultMenuDetailsVisibility:n.defaultMenuDetailsVisibility,addRecipe:n.addRecipe,removeRecipe:n.removeRecipe,selectedRecipes:n.selectedRecipes,selectedRecipesCost:n.selectedRecipesCost,selectedRecipesCalories:n.selectedRecipesCalories,selectedRecipesTemplate:n.selectedRecipesTemplate,totalCalories:n.totalCalories,isPartialTotalKCal:n.isPartialTotalKCal,selectedCalorieValue:n.selectedCalorieValue,maxMinCalorieValue:n.maxMinCalorieValue,noMaxMin:n.noMaxMin,noMaxMinNoSelected:n.noMaxMinNoSelected,updateSection:n.updateSection,slide:n.slide,changeLanguage:n.changeLanguage,recipeLimitCrossedCss:n.recipeLimitCrossedCss,userMealPlanner:n.userMealPlanner,numberRecipesAdded:n.numberRecipesAdded,totalGdaPercentageForSelectedRecipes:n.totalGdaPercentageForSelectedRecipes,totalGdaPercentageVisibleInMealPlan:n.totalGdaPercentageVisibleInMealPlan,totalNonCalculable:n.totalNonCalculable,totalKCalNonCalculable:n.totalKCalNonCalculable,totalPriceNonCalculable:n.totalPriceNonCalculable,totalInfo:n.totalInfo,loadSelectedMenu:n.loadSelectedMenu,updateMenuByKCal:n.updateMenuByKCal,partiallyHidden:n.partiallyHidden,isDefaultMenuMissing:n.isDefaultMenuMissing}};!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):n.moment=t()}(this,function(){function i(){return kf.apply(null,arguments)}function pe(n){kf=n}function ui(n){return"[object Array]"===Object.prototype.toString.call(n)}function fi(n){return n instanceof Date||"[object Date]"===Object.prototype.toString.call(n)}function we(n,t){for(var r=[],i=0;i<n.length;++i)r.push(t(n[i],i));return r}function ft(n,t){return Object.prototype.hasOwnProperty.call(n,t)}function ei(n,t){for(var i in t)ft(t,i)&&(n[i]=t[i]);return ft(t,"toString")&&(n.toString=t.toString),ft(t,"valueOf")&&(n.valueOf=t.valueOf),n}function kt(n,t,i,r){return gu(n,t,i,r,!0).utc()}function be(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function e(n){return null==n._pf&&(n._pf=be()),n._pf}function iu(n){if(null==n._isValid){var t=e(n);n._isValid=!(isNaN(n._d.getTime())||!(t.overflow<0)||t.empty||t.invalidMonth||t.invalidWeekday||t.nullInput||t.invalidFormat||t.userInvalidated);n._strict&&(n._isValid=n._isValid&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour)}return n._isValid}function ru(n){var t=kt(NaN);return null!=n?ei(e(t),n):e(t).userInvalidated=!0,t}function ki(n,t){var u,i,r;if("undefined"!=typeof t._isAMomentObject&&(n._isAMomentObject=t._isAMomentObject),"undefined"!=typeof t._i&&(n._i=t._i),"undefined"!=typeof t._f&&(n._f=t._f),"undefined"!=typeof t._l&&(n._l=t._l),"undefined"!=typeof t._strict&&(n._strict=t._strict),"undefined"!=typeof t._tzm&&(n._tzm=t._tzm),"undefined"!=typeof t._isUTC&&(n._isUTC=t._isUTC),"undefined"!=typeof t._offset&&(n._offset=t._offset),"undefined"!=typeof t._pf&&(n._pf=e(t)),"undefined"!=typeof t._locale&&(n._locale=t._locale),cr.length>0)for(u in cr)i=cr[u],r=t[i],"undefined"!=typeof r&&(n[i]=r);return n}function dt(n){ki(this,n);this._d=new Date(null!=n._d?n._d.getTime():NaN);lr===!1&&(lr=!0,i.updateOffset(this),lr=!1)}function nt(n){return n instanceof dt||null!=n&&null!=n._isAMomentObject}function v(n){return 0>n?Math.ceil(n):Math.floor(n)}function s(n){var t=+n,i=0;return 0!==t&&isFinite(t)&&(i=v(t)),i}function uu(n,t,i){for(var f=Math.min(n.length,t.length),e=Math.abs(n.length-t.length),u=0,r=0;f>r;r++)(i&&n[r]!==t[r]||!i&&s(n[r])!==s(t[r]))&&u++;return u+e}function fu(){}function eu(n){return n?n.toLowerCase().replace("_","-"):n}function ke(n){for(var i,t,f,r,u=0;u<n.length;){for(r=eu(n[u]).split("-"),i=r.length,t=eu(n[u+1]),t=t?t.split("-"):null;i>0;){if(f=ou(r.slice(0,i).join("-")))return f;if(t&&t.length>=i&&uu(r,t,!0)>=i-1)break;i--}u++}return null}function ou(n){var t=null;if(!ct[n]&&"undefined"!=typeof module&&module&&module.exports)try{t=li._abbr;require("./locale/"+n);gt(t)}catch(i){}return ct[n]}function gt(n,t){var i;return n&&(i="undefined"==typeof t?et(n):su(n,t),i&&(li=i)),li._abbr}function su(n,t){return null!==t?(t.abbr=n,ct[n]=ct[n]||new fu,ct[n].set(t),gt(n),ct[n]):(delete ct[n],null)}function et(n){var t;if(n&&n._locale&&n._locale._abbr&&(n=n._locale._abbr),!n)return li;if(!ui(n)){if(t=ou(n))return t;n=[n]}return ke(n)}function l(n,t){var i=n.toLowerCase();ii[i]=ii[i+"s"]=ii[t]=n}function p(n){if("string"==typeof n)return ii[n]||ii[n.toLowerCase()]}function hu(n){var i,t,r={};for(t in n)ft(n,t)&&(i=p(t),i&&(r[i]=n[t]));return r}function yt(n,t){return function(r){return null!=r?(cu(this,n,r),i.updateOffset(this,t),this):oi(this,n)}}function oi(n,t){return n._d["get"+(n._isUTC?"UTC":"")+t]()}function cu(n,t,i){return n._d["set"+(n._isUTC?"UTC":"")+t](i)}function lu(n,t){var i;if("object"==typeof n)for(i in n)this.set(i,n[i]);else if(n=p(n),"function"==typeof this[n])return this[n](t);return this}function di(n,t,i){var r=""+Math.abs(n),u=t-r.length,f=n>=0;return(f?i?"+":"":"-")+Math.pow(10,Math.max(0,u)).toString().substr(1)+r}function r(n,t,i,r){var u=r;"string"==typeof r&&(u=function(){return this[r]()});n&&(wt[n]=u);t&&(wt[t[0]]=function(){return di(u.apply(this,arguments),t[1],t[2])});i&&(wt[i]=function(){return this.localeData().ordinal(u.apply(this,arguments),n)})}function de(n){return n.match(/\[[\s\S]/)?n.replace(/^\[|\]$/g,""):n.replace(/\\/g,"")}function ge(n){for(var i=n.match(df),t=0,r=i.length;r>t;t++)i[t]=wt[i[t]]?wt[i[t]]:de(i[t]);return function(u){var f="";for(t=0;r>t;t++)f+=i[t]instanceof Function?i[t].call(u,n):i[t];return f}}function gi(n,t){return n.isValid()?(t=au(t,n.localeData()),ar[t]=ar[t]||ge(t),ar[t](n)):n.localeData().invalidDate()}function au(n,t){function r(n){return t.longDateFormat(n)||n}var i=5;for(ai.lastIndex=0;i>=0&&ai.test(n);)n=n.replace(ai,r),ai.lastIndex=0,i-=1;return n}function no(n){return"function"==typeof n&&"[object Function]"===Object.prototype.toString.call(n)}function t(n,t,i){pr[n]=no(t)?t:function(n){return n&&i?i:t}}function to(n,t){return ft(pr,n)?pr[n](t._strict,t._locale):new RegExp(io(n))}function io(n){return n.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(n,t,i,r,u){return t||i||r||u}).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function c(n,t){var i,r=t;for("string"==typeof n&&(n=[n]),"number"==typeof t&&(r=function(n,i){i[t]=s(n)}),i=0;i<n.length;i++)wr[n[i]]=r}function ni(n,t){c(n,function(n,i,r,u){r._w=r._w||{};t(n,r._w,r,u)})}function ro(n,t,i){null!=t&&ft(wr,n)&&wr[n](t,i._a,i,n)}function nr(n,t){return new Date(Date.UTC(n,t+1,0)).getUTCDate()}function uo(n){return this._months[n.month()]}function fo(n){return this._monthsShort[n.month()]}function eo(n,t,i){var r,u,f;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;12>r;r++)if((u=kt([2e3,r]),i&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(u,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(u,"").replace(".","")+"$","i")),i||this._monthsParse[r]||(f="^"+this.months(u,"")+"|^"+this.monthsShort(u,""),this._monthsParse[r]=new RegExp(f.replace(".",""),"i")),i&&"MMMM"===t&&this._longMonthsParse[r].test(n))||i&&"MMM"===t&&this._shortMonthsParse[r].test(n)||!i&&this._monthsParse[r].test(n))return r}function vu(n,t){var i;return"string"==typeof t&&(t=n.localeData().monthsParse(t),"number"!=typeof t)?n:(i=Math.min(n.date(),nr(n.year(),t)),n._d["set"+(n._isUTC?"UTC":"")+"Month"](t,i),n)}function yu(n){return null!=n?(vu(this,n),i.updateOffset(this,!0),this):oi(this,"Month")}function oo(){return nr(this.year(),this.month())}function tr(n){var i,t=n._a;return t&&-2===e(n).overflow&&(i=t[d]<0||t[d]>11?d:t[k]<1||t[k]>nr(t[b],t[d])?k:t[a]<0||t[a]>24||24===t[a]&&(0!==t[lt]||0!==t[at]||0!==t[vt])?a:t[lt]<0||t[lt]>59?lt:t[at]<0||t[at]>59?at:t[vt]<0||t[vt]>999?vt:-1,e(n)._overflowDayOfYear&&(b>i||i>k)&&(i=k),e(n).overflow=i),n}function pu(n){i.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+n)}function w(n,t){var i=!0;return ei(function(){return i&&(pu(n+"\n"+(new Error).stack),i=!1),t.apply(this,arguments)},t)}function so(n,t){te[n]||(pu(t),te[n]=!0)}function wu(n){var t,i,r=n._i,u=fa.exec(r);if(u){for(e(n).iso=!0,t=0,i=br.length;i>t;t++)if(br[t][1].exec(r)){n._f=br[t][0];break}for(t=0,i=kr.length;i>t;t++)if(kr[t][1].exec(r)){n._f+=(u[6]||" ")+kr[t][0];break}r.match(bi)&&(n._f+="Z");ur(n)}else n._isValid=!1}function ho(n){var t=ea.exec(n._i);return null!==t?void(n._d=new Date(+t[1])):(wu(n),void(n._isValid===!1&&(delete n._isValid,i.createFromInputFallback(n))))}function co(n,t,i,r,u,f,e){var o=new Date(n,t,i,r,u,f,e);return 1970>n&&o.setFullYear(n),o}function ir(n){var t=new Date(Date.UTC.apply(null,arguments));return 1970>n&&t.setUTCFullYear(n),t}function bu(n){return ku(n)?366:365}function ku(n){return n%4==0&&n%100!=0||n%400==0}function lo(){return ku(this.year())}function ot(n,t,i){var u,f=i-t,r=i-n.day();return r>f&&(r-=7),f-7>r&&(r+=7),u=o(n).add(r,"d"),{week:Math.ceil(u.dayOfYear()/7),year:u.year()}}function ao(n){return ot(n,this._week.dow,this._week.doy).week}function vo(){return this._week.dow}function yo(){return this._week.doy}function po(n){var t=this.localeData().week(this);return null==n?t:this.add(7*(n-t),"d")}function wo(n){var t=ot(this,1,4).week;return null==n?t:this.add(7*(n-t),"d")}function bo(n,t,i,r,u){var f,o=6+u-r,s=ir(n,0,1+o),e=s.getUTCDay();return u>e&&(e+=7),i=null!=i?1*i:u,f=1+o+7*(t-1)-e+i,{year:f>0?n:n-1,dayOfYear:f>0?f:bu(n-1)+f}}function ko(n){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==n?t:this.add(n-t,"d")}function pt(n,t,i){return null!=n?n:null!=t?t:i}function go(n){var t=new Date;return n._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function rr(n){var t,i,r,u,f=[];if(!n._d){for(r=go(n),n._w&&null==n._a[k]&&null==n._a[d]&&ns(n),n._dayOfYear&&(u=pt(n._a[b],r[b]),n._dayOfYear>bu(u)&&(e(n)._overflowDayOfYear=!0),i=ir(u,0,n._dayOfYear),n._a[d]=i.getUTCMonth(),n._a[k]=i.getUTCDate()),t=0;3>t&&null==n._a[t];++t)n._a[t]=f[t]=r[t];for(;7>t;t++)n._a[t]=f[t]=null==n._a[t]?2===t?1:0:n._a[t];24===n._a[a]&&0===n._a[lt]&&0===n._a[at]&&0===n._a[vt]&&(n._nextDay=!0,n._a[a]=0);n._d=(n._useUTC?ir:co).apply(null,f);null!=n._tzm&&n._d.setUTCMinutes(n._d.getUTCMinutes()-n._tzm);n._nextDay&&(n._a[a]=24)}}function ns(n){var t,e,u,r,i,f,s;t=n._w;null!=t.GG||null!=t.W||null!=t.E?(i=1,f=4,e=pt(t.GG,n._a[b],ot(o(),1,4).year),u=pt(t.W,1),r=pt(t.E,1)):(i=n._locale._week.dow,f=n._locale._week.doy,e=pt(t.gg,n._a[b],ot(o(),i,f).year),u=pt(t.w,1),null!=t.d?(r=t.d,i>r&&++u):r=null!=t.e?t.e+i:i);s=bo(e,u,r,f,i);n._a[b]=s.year;n._dayOfYear=s.dayOfYear}function ur(n){if(n._f===i.ISO_8601)return void wu(n);n._a=[];e(n).empty=!0;for(var t,u,s,r=""+n._i,c=r.length,h=0,o=au(n._f,n._locale).match(df)||[],f=0;f<o.length;f++)u=o[f],t=(r.match(to(u,n))||[])[0],t&&(s=r.substr(0,r.indexOf(t)),s.length>0&&e(n).unusedInput.push(s),r=r.slice(r.indexOf(t)+t.length),h+=t.length),wt[u]?(t?e(n).empty=!1:e(n).unusedTokens.push(u),ro(u,t,n)):n._strict&&!t&&e(n).unusedTokens.push(u);e(n).charsLeftOver=c-h;r.length>0&&e(n).unusedInput.push(r);e(n).bigHour===!0&&n._a[a]<=12&&n._a[a]>0&&(e(n).bigHour=void 0);n._a[a]=ts(n._locale,n._a[a],n._meridiem);rr(n);tr(n)}function ts(n,t,i){var r;return null==i?t:null!=n.meridiemHour?n.meridiemHour(t,i):null!=n.isPM?(r=n.isPM(i),r&&12>t&&(t+=12),r||12!==t||(t=0),t):t}function is(n){var t,f,u,r,i;if(0===n._f.length)return e(n).invalidFormat=!0,void(n._d=new Date(NaN));for(r=0;r<n._f.length;r++)i=0,t=ki({},n),null!=n._useUTC&&(t._useUTC=n._useUTC),t._f=n._f[r],ur(t),iu(t)&&(i+=e(t).charsLeftOver,i+=10*e(t).unusedTokens.length,e(t).score=i,(null==u||u>i)&&(u=i,f=t));ei(n,f||t)}function rs(n){if(!n._d){var t=hu(n._i);n._a=[t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond];rr(n)}}function us(n){var t=new dt(tr(du(n)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function du(n){var t=n._i,i=n._f;return n._locale=n._locale||et(n._l),null===t||void 0===i&&""===t?ru({nullInput:!0}):("string"==typeof t&&(n._i=t=n._locale.preparse(t)),nt(t)?new dt(tr(t)):(ui(i)?is(n):i?ur(n):fi(t)?n._d=t:fs(n),n))}function fs(n){var t=n._i;void 0===t?n._d=new Date:fi(t)?n._d=new Date(+t):"string"==typeof t?ho(n):ui(t)?(n._a=we(t.slice(0),function(n){return parseInt(n,10)}),rr(n)):"object"==typeof t?rs(n):"number"==typeof t?n._d=new Date(t):i.createFromInputFallback(n)}function gu(n,t,i,r,u){var f={};return"boolean"==typeof i&&(r=i,i=void 0),f._isAMomentObject=!0,f._useUTC=f._isUTC=u,f._l=i,f._i=n,f._f=t,f._strict=r,us(f)}function o(n,t,i,r){return gu(n,t,i,r,!1)}function nf(n,t){var r,i;if(1===t.length&&ui(t[0])&&(t=t[0]),!t.length)return o();for(r=t[0],i=1;i<t.length;++i)(!t[i].isValid()||t[i][n](r))&&(r=t[i]);return r}function es(){var n=[].slice.call(arguments,0);return nf("isBefore",n)}function os(){var n=[].slice.call(arguments,0);return nf("isAfter",n)}function si(n){var t=hu(n),i=t.year||0,r=t.quarter||0,u=t.month||0,f=t.week||0,e=t.day||0,o=t.hour||0,s=t.minute||0,h=t.second||0,c=t.millisecond||0;this._milliseconds=+c+1e3*h+6e4*s+36e5*o;this._days=+e+7*f;this._months=+u+3*r+12*i;this._data={};this._locale=et();this._bubble()}function fr(n){return n instanceof si}function tf(n,t){r(n,0,0,function(){var n=this.utcOffset(),i="+";return 0>n&&(n=-n,i="-"),i+di(~~(n/60),2)+t+di(~~n%60,2)})}function er(n){var i=(n||"").match(bi)||[],u=i[i.length-1]||[],t=(u+"").match(fe)||["-",0,0],r=+(60*t[1])+s(t[2]);return"+"===t[0]?r:-r}function or(n,t){var r,u;return t._isUTC?(r=t.clone(),u=(nt(n)||fi(n)?+n:+o(n))-+r,r._d.setTime(+r._d+u),i.updateOffset(r,!1),r):o(n).local()}function sr(n){return 15*-Math.round(n._d.getTimezoneOffset()/15)}function ss(n,t){var r,u=this._offset||0;return null!=n?("string"==typeof n&&(n=er(n)),Math.abs(n)<16&&(n=60*n),!this._isUTC&&t&&(r=sr(this)),this._offset=n,this._isUTC=!0,null!=r&&this.add(r,"m"),u!==n&&(!t||this._changeInProgress?ef(this,tt(n-u,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,i.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?u:sr(this)}function hs(n,t){return null!=n?("string"!=typeof n&&(n=-n),this.utcOffset(n,t),this):-this.utcOffset()}function cs(n){return this.utcOffset(0,n)}function ls(n){return this._isUTC&&(this.utcOffset(0,n),this._isUTC=!1,n&&this.subtract(sr(this),"m")),this}function as(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(er(this._i)),this}function vs(n){return n=n?o(n).utcOffset():0,(this.utcOffset()-n)%60==0}function ys(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function ps(){var n,t;return"undefined"!=typeof this._isDSTShifted?this._isDSTShifted:(n={},(ki(n,this),n=du(n),n._a)?(t=n._isUTC?kt(n._a):o(n._a),this._isDSTShifted=this.isValid()&&uu(n._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted)}function ws(){return!this._isUTC}function bs(){return this._isUTC}function rf(){return this._isUTC&&0===this._offset}function tt(n,t){var u,f,e,i=n,r=null;return fr(n)?i={ms:n._milliseconds,d:n._days,M:n._months}:"number"==typeof n?(i={},t?i[t]=n:i.milliseconds=n):(r=ee.exec(n))?(u="-"===r[1]?-1:1,i={y:0,d:s(r[k])*u,h:s(r[a])*u,m:s(r[lt])*u,s:s(r[at])*u,ms:s(r[vt])*u}):(r=oe.exec(n))?(u="-"===r[1]?-1:1,i={y:st(r[2],u),M:st(r[3],u),d:st(r[4],u),h:st(r[5],u),m:st(r[6],u),s:st(r[7],u),w:st(r[8],u)}):null==i?i={}:"object"==typeof i&&("from"in i||"to"in i)&&(e=ks(o(i.from),o(i.to)),i={},i.ms=e.milliseconds,i.M=e.months),f=new si(i),fr(n)&&ft(n,"_locale")&&(f._locale=n._locale),f}function st(n,t){var i=n&&parseFloat(n.replace(",","."));return(isNaN(i)?0:i)*t}function uf(n,t){var i={milliseconds:0,months:0};return i.months=t.month()-n.month()+12*(t.year()-n.year()),n.clone().add(i.months,"M").isAfter(t)&&--i.months,i.milliseconds=+t-+n.clone().add(i.months,"M"),i}function ks(n,t){var i;return t=or(t,n),n.isBefore(t)?i=uf(n,t):(i=uf(t,n),i.milliseconds=-i.milliseconds,i.months=-i.months),i}function ff(n,t){return function(i,r){var u,f;return null===r||isNaN(+r)||(so(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period)."),f=i,i=r,r=f),i="string"==typeof i?+i:i,u=tt(i,r),ef(this,u,n),this}}function ef(n,t,r,u){var o=t._milliseconds,f=t._days,e=t._months;u=null==u?!0:u;o&&n._d.setTime(+n._d+o*r);f&&cu(n,"Date",oi(n,"Date")+f*r);e&&vu(n,oi(n,"Month")+e*r);u&&i.updateOffset(n,f||e)}function ds(n,t){var r=n||o(),f=or(r,this).startOf("day"),i=this.diff(f,"days",!0),u=-6>i?"sameElse":-1>i?"lastWeek":0>i?"lastDay":1>i?"sameDay":2>i?"nextDay":7>i?"nextWeek":"sameElse";return this.format(t&&t[u]||this.localeData().calendar(u,this,o(r)))}function gs(){return new dt(this)}function nh(n,t){var i;return t=p("undefined"!=typeof t?t:"millisecond"),"millisecond"===t?(n=nt(n)?n:o(n),+this>+n):(i=nt(n)?+n:+o(n),i<+this.clone().startOf(t))}function th(n,t){var i;return t=p("undefined"!=typeof t?t:"millisecond"),"millisecond"===t?(n=nt(n)?n:o(n),+n>+this):(i=nt(n)?+n:+o(n),+this.clone().endOf(t)<i)}function ih(n,t,i){return this.isAfter(n,i)&&this.isBefore(t,i)}function rh(n,t){var i;return t=p(t||"millisecond"),"millisecond"===t?(n=nt(n)?n:o(n),+this==+n):(i=+o(n),+this.clone().startOf(t)<=i&&i<=+this.clone().endOf(t))}function uh(n,t,i){var r,u,f=or(n,this),e=6e4*(f.utcOffset()-this.utcOffset());return t=p(t),"year"===t||"month"===t||"quarter"===t?(u=fh(this,f),"quarter"===t?u/=3:"year"===t&&(u/=12)):(r=this-f,u="second"===t?r/1e3:"minute"===t?r/6e4:"hour"===t?r/36e5:"day"===t?(r-e)/864e5:"week"===t?(r-e)/6048e5:r),i?u:v(u)}function fh(n,t){var r,f,u=12*(t.year()-n.year())+(t.month()-n.month()),i=n.clone().add(u,"months");return 0>t-i?(r=n.clone().add(u-1,"months"),f=(t-i)/(i-r)):(r=n.clone().add(u+1,"months"),f=(t-i)/(r-i)),-(u+f)}function eh(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function of(){var n=this.clone().utc();return 0<n.year()&&n.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():gi(n,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):gi(n,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function oh(n){var t=gi(this,n||i.defaultFormat);return this.localeData().postformat(t)}function sh(n,t){return this.isValid()?tt({to:this,from:n}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function hh(n){return this.from(o(),n)}function ch(n,t){return this.isValid()?tt({from:this,to:n}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function lh(n){return this.to(o(),n)}function sf(n){var t;return void 0===n?this._locale._abbr:(t=et(n),null!=t&&(this._locale=t),this)}function hf(){return this._locale}function ah(n){switch(n=p(n)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===n&&this.weekday(0),"isoWeek"===n&&this.isoWeekday(1),"quarter"===n&&this.month(3*Math.floor(this.month()/3)),this}function vh(n){return n=p(n),void 0===n||"millisecond"===n?this:this.startOf(n).add(1,"isoWeek"===n?"week":n).subtract(1,"ms")}function yh(){return+this._d-6e4*(this._offset||0)}function ph(){return Math.floor(+this/1e3)}function wh(){return this._offset?new Date(+this):this._d}function bh(){var n=this;return[n.year(),n.month(),n.date(),n.hour(),n.minute(),n.second(),n.millisecond()]}function kh(){var n=this;return{years:n.year(),months:n.month(),date:n.date(),hours:n.hours(),minutes:n.minutes(),seconds:n.seconds(),milliseconds:n.milliseconds()}}function dh(){return iu(this)}function gh(){return ei({},e(this))}function nc(){return e(this).overflow}function hi(n,t){r(0,[n,n.length],0,t)}function cf(n,t,i){return ot(o([n,11,31+t-i]),t,i).week}function tc(n){var t=ot(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==n?t:this.add(n-t,"y")}function ic(n){var t=ot(this,1,4).year;return null==n?t:this.add(n-t,"y")}function rc(){return cf(this.year(),1,4)}function uc(){var n=this.localeData()._week;return cf(this.year(),n.dow,n.doy)}function fc(n){return null==n?Math.ceil((this.month()+1)/3):this.month(3*(n-1)+this.month()%3)}function ec(n,t){return"string"!=typeof n?n:isNaN(n)?(n=t.weekdaysParse(n),"number"==typeof n?n:null):parseInt(n,10)}function oc(n){return this._weekdays[n.day()]}function sc(n){return this._weekdaysShort[n.day()]}function hc(n){return this._weekdaysMin[n.day()]}function cc(n){var t,i,r;for(this._weekdaysParse=this._weekdaysParse||[],t=0;7>t;t++)if(this._weekdaysParse[t]||(i=o([2e3,1]).day(t),r="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[t]=new RegExp(r.replace(".",""),"i")),this._weekdaysParse[t].test(n))return t}function lc(n){var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=n?(n=ec(n,this.localeData()),this.add(n-t,"d")):t}function ac(n){var t=(this.day()+7-this.localeData()._week.dow)%7;return null==n?t:this.add(n-t,"d")}function vc(n){return null==n?this.day()||7:this.day(this.day()%7?n:n-7)}function lf(n,t){r(n,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function af(n,t){return t._meridiemParse}function yc(n){return"p"===(n+"").toLowerCase().charAt(0)}function pc(n,t,i){return n>11?i?"pm":"PM":i?"am":"AM"}function wc(n,t){t[vt]=s(1e3*("0."+n))}function bc(){return this._isUTC?"UTC":""}function kc(){return this._isUTC?"Coordinated Universal Time":""}function dc(n){return o(1e3*n)}function gc(){return o.apply(null,arguments).parseZone()}function nl(n,t,i){var r=this._calendar[n];return"function"==typeof r?r.call(t,i):r}function tl(n){var t=this._longDateFormat[n],i=this._longDateFormat[n.toUpperCase()];return t||!i?t:(this._longDateFormat[n]=i.replace(/MMMM|MM|DD|dddd/g,function(n){return n.slice(1)}),this._longDateFormat[n])}function il(){return this._invalidDate}function rl(n){return this._ordinal.replace("%d",n)}function vf(n){return n}function ul(n,t,i,r){var u=this._relativeTime[i];return"function"==typeof u?u(n,t,i,r):u.replace(/%d/i,n)}function fl(n,t){var i=this._relativeTime[n>0?"future":"past"];return"function"==typeof i?i(t):i.replace(/%s/i,t)}function el(n){var t;for(var i in n)t=n[i],"function"==typeof t?this[i]=t:this["_"+i]=t;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function yf(n,t,i,r){var u=et(),f=kt().set(r,t);return u[i](f,n)}function ti(n,t,i,r,u){if("number"==typeof n&&(t=n,n=void 0),n=n||"",null!=t)return yf(n,t,i,u);for(var e=[],f=0;r>f;f++)e[f]=yf(n,f,i,u);return e}function ol(n,t){return ti(n,t,"months",12,"month")}function sl(n,t){return ti(n,t,"monthsShort",12,"month")}function hl(n,t){return ti(n,t,"weekdays",7,"day")}function cl(n,t){return ti(n,t,"weekdaysShort",7,"day")}function ll(n,t){return ti(n,t,"weekdaysMin",7,"day")}function al(){var n=this._data;return this._milliseconds=g(this._milliseconds),this._days=g(this._days),this._months=g(this._months),n.milliseconds=g(n.milliseconds),n.seconds=g(n.seconds),n.minutes=g(n.minutes),n.hours=g(n.hours),n.months=g(n.months),n.years=g(n.years),this}function pf(n,t,i,r){var u=tt(t,i);return n._milliseconds+=r*u._milliseconds,n._days+=r*u._days,n._months+=r*u._months,n._bubble()}function vl(n,t){return pf(this,n,t,1)}function yl(n,t){return pf(this,n,t,-1)}function wf(n){return 0>n?Math.floor(n):Math.ceil(n)}function pl(){var u,f,e,s,o,r=this._milliseconds,n=this._days,t=this._months,i=this._data;return r>=0&&n>=0&&t>=0||0>=r&&0>=n&&0>=t||(r+=864e5*wf(hr(t)+n),n=0,t=0),i.milliseconds=r%1e3,u=v(r/1e3),i.seconds=u%60,f=v(u/60),i.minutes=f%60,e=v(f/60),i.hours=e%24,n+=v(e/24),o=v(bf(n)),t+=o,n-=wf(hr(o)),s=v(t/12),t%=12,i.days=n,i.months=t,i.years=s,this}function bf(n){return 4800*n/146097}function hr(n){return 146097*n/4800}function wl(n){var t,r,i=this._milliseconds;if(n=p(n),"month"===n||"year"===n)return t=this._days+i/864e5,r=this._months+bf(t),"month"===n?r:r/12;switch(t=this._days+Math.round(hr(this._months)),n){case"week":return t/7+i/6048e5;case"day":return t+i/864e5;case"hour":return 24*t+i/36e5;case"minute":return 1440*t+i/6e4;case"second":return 86400*t+i/1e3;case"millisecond":return Math.floor(864e5*t)+i;default:throw new Error("Unknown unit "+n);}}function bl(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*s(this._months/12)}function it(n){return function(){return this.as(n)}}function kl(n){return n=p(n),this[n+"s"]()}function ht(n){return function(){return this._data[n]}}function dl(){return v(this.days()/7)}function gl(n,t,i,r,u){return u.relativeTime(t||1,!!i,n,r)}function na(n,t,i){var r=tt(n).abs(),h=bt(r.as("s")),f=bt(r.as("m")),e=bt(r.as("h")),o=bt(r.as("d")),s=bt(r.as("M")),c=bt(r.as("y")),u=h<ut.s&&["s",h]||1===f&&["m"]||f<ut.m&&["mm",f]||1===e&&["h"]||e<ut.h&&["hh",e]||1===o&&["d"]||o<ut.d&&["dd",o]||1===s&&["M"]||s<ut.M&&["MM",s]||1===c&&["y"]||["yy",c];return u[2]=t,u[3]=+n>0,u[4]=i,gl.apply(null,u)}function ta(n,t){return void 0===ut[n]?!1:void 0===t?ut[n]:(ut[n]=t,!0)}function ia(n){var t=this.localeData(),i=na(this,!n,t);return n&&(i=t.pastFuture(+this,i)),t.postformat(i)}function ci(){var n,e,o,t=tu(this._milliseconds)/1e3,a=tu(this._days),i=tu(this._months);n=v(t/60);e=v(n/60);t%=60;n%=60;o=v(i/12);i%=12;var s=o,h=i,c=a,r=e,u=n,f=t,l=this.asSeconds();return l?(0>l?"-":"")+"P"+(s?s+"Y":"")+(h?h+"M":"")+(c?c+"D":"")+(r||u||f?"T":"")+(r?r+"H":"")+(u?u+"M":"")+(f?f+"S":""):"P0D"}var kf,li,cr=i.momentProperties=[],lr=!1,ct={},ii={},df=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,ai=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,ar={},wt={},gf=/\d/,y=/\d\d/,ne=/\d{3}/,vr=/\d{4}/,vi=/[+-]?\d{6}/,h=/\d\d?/,yi=/\d{1,3}/,yr=/\d{1,4}/,pi=/[+-]?\d{1,6}/,wi=/[+-]?\d+/,bi=/Z|[+-]\d\d:?\d\d/gi,ri=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,pr={},wr={},b=0,d=1,k=2,a=3,lt=4,at=5,vt=6,dr,ie,re,ue,fe,ee,oe,se,he,gr,nu,ce,le,ae,ve,rt,ye,n;r("M",["MM",2],"Mo",function(){return this.month()+1});r("MMM",0,0,function(n){return this.localeData().monthsShort(this,n)});r("MMMM",0,0,function(n){return this.localeData().months(this,n)});l("month","M");t("M",h);t("MM",h,y);t("MMM",ri);t("MMMM",ri);c(["M","MM"],function(n,t){t[d]=s(n)-1});c(["MMM","MMMM"],function(n,t,i,r){var u=i._locale.monthsParse(n,r,i._strict);null!=u?t[d]=u:e(i).invalidMonth=n});var ra="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ua="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),te={};i.suppressDeprecationWarnings=!1;var fa=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,br=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],kr=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],ea=/^\/?Date\((\-?\d+)/i;i.createFromInputFallback=w("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(n){n._d=new Date(n._i+(n._useUTC?" UTC":""))});r(0,["YY",2],0,function(){return this.year()%100});r(0,["YYYY",4],0,"year");r(0,["YYYYY",5],0,"year");r(0,["YYYYYY",6,!0],0,"year");l("year","y");t("Y",wi);t("YY",h,y);t("YYYY",yr,vr);t("YYYYY",pi,vi);t("YYYYYY",pi,vi);c(["YYYYY","YYYYYY"],b);c("YYYY",function(n,t){t[b]=2===n.length?i.parseTwoDigitYear(n):s(n)});c("YY",function(n,t){t[b]=i.parseTwoDigitYear(n)});i.parseTwoDigitYear=function(n){return s(n)+(s(n)>68?1900:2e3)};dr=yt("FullYear",!1);r("w",["ww",2],"wo","week");r("W",["WW",2],"Wo","isoWeek");l("week","w");l("isoWeek","W");t("w",h);t("ww",h,y);t("W",h);t("WW",h,y);ni(["w","ww","W","WW"],function(n,t,i,r){t[r.substr(0,1)]=s(n)});ie={dow:0,doy:6};r("DDD",["DDDD",3],"DDDo","dayOfYear");l("dayOfYear","DDD");t("DDD",yi);t("DDDD",ne);c(["DDD","DDDD"],function(n,t,i){i._dayOfYear=s(n)});i.ISO_8601=function(){};re=w("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var n=o.apply(null,arguments);return this>n?this:n});ue=w("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var n=o.apply(null,arguments);return n>this?this:n});tf("Z",":");tf("ZZ","");t("Z",bi);t("ZZ",bi);c(["Z","ZZ"],function(n,t,i){i._useUTC=!0;i._tzm=er(n)});fe=/([\+\-]|\d\d)/gi;i.updateOffset=function(){};ee=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/;oe=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;tt.fn=si.prototype;se=ff(1,"add");he=ff(-1,"subtract");i.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";gr=w("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(n){return void 0===n?this.localeData():this.locale(n)});r(0,["gg",2],0,function(){return this.weekYear()%100});r(0,["GG",2],0,function(){return this.isoWeekYear()%100});hi("gggg","weekYear");hi("ggggg","weekYear");hi("GGGG","isoWeekYear");hi("GGGGG","isoWeekYear");l("weekYear","gg");l("isoWeekYear","GG");t("G",wi);t("g",wi);t("GG",h,y);t("gg",h,y);t("GGGG",yr,vr);t("gggg",yr,vr);t("GGGGG",pi,vi);t("ggggg",pi,vi);ni(["gggg","ggggg","GGGG","GGGGG"],function(n,t,i,r){t[r.substr(0,2)]=s(n)});ni(["gg","GG"],function(n,t,r,u){t[u]=i.parseTwoDigitYear(n)});r("Q",0,0,"quarter");l("quarter","Q");t("Q",gf);c("Q",function(n,t){t[d]=3*(s(n)-1)});r("D",["DD",2],"Do","date");l("date","D");t("D",h);t("DD",h,y);t("Do",function(n,t){return n?t._ordinalParse:t._ordinalParseLenient});c(["D","DD"],k);c("Do",function(n,t){t[k]=s(n.match(h)[0],10)});nu=yt("Date",!0);r("d",0,"do","day");r("dd",0,0,function(n){return this.localeData().weekdaysMin(this,n)});r("ddd",0,0,function(n){return this.localeData().weekdaysShort(this,n)});r("dddd",0,0,function(n){return this.localeData().weekdays(this,n)});r("e",0,0,"weekday");r("E",0,0,"isoWeekday");l("day","d");l("weekday","e");l("isoWeekday","E");t("d",h);t("e",h);t("E",h);t("dd",ri);t("ddd",ri);t("dddd",ri);ni(["dd","ddd","dddd"],function(n,t,i){var r=i._locale.weekdaysParse(n);null!=r?t.d=r:e(i).invalidWeekday=n});ni(["d","e","E"],function(n,t,i,r){t[r]=s(n)});var oa="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),sa="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),ha="Su_Mo_Tu_We_Th_Fr_Sa".split("_");for(r("H",["HH",2],0,"hour"),r("h",["hh",2],0,function(){return this.hours()%12||12}),lf("a",!0),lf("A",!1),l("hour","h"),t("a",af),t("A",af),t("H",h),t("h",h),t("HH",h,y),t("hh",h,y),c(["H","HH"],a),c(["a","A"],function(n,t,i){i._isPm=i._locale.isPM(n);i._meridiem=n}),c(["h","hh"],function(n,t,i){t[a]=s(n);e(i).bigHour=!0}),ce=/[ap]\.?m?\.?/i,le=yt("Hours",!0),r("m",["mm",2],0,"minute"),l("minute","m"),t("m",h),t("mm",h,y),c(["m","mm"],lt),ae=yt("Minutes",!1),r("s",["ss",2],0,"second"),l("second","s"),t("s",h),t("ss",h,y),c(["s","ss"],at),ve=yt("Seconds",!1),r("S",0,0,function(){return~~(this.millisecond()/100)}),r(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),r(0,["SSS",3],0,"millisecond"),r(0,["SSSS",4],0,function(){return 10*this.millisecond()}),r(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),r(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),r(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),r(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),r(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),l("millisecond","ms"),t("S",yi,gf),t("SS",yi,y),t("SSS",yi,ne),rt="SSSS";rt.length<=9;rt+="S")t(rt,/\d+/);for(rt="S";rt.length<=9;rt+="S")c(rt,wc);ye=yt("Milliseconds",!1);r("z",0,0,"zoneAbbr");r("zz",0,0,"zoneName");n=dt.prototype;n.add=se;n.calendar=ds;n.clone=gs;n.diff=uh;n.endOf=vh;n.format=oh;n.from=sh;n.fromNow=hh;n.to=ch;n.toNow=lh;n.get=lu;n.invalidAt=nc;n.isAfter=nh;n.isBefore=th;n.isBetween=ih;n.isSame=rh;n.isValid=dh;n.lang=gr;n.locale=sf;n.localeData=hf;n.max=ue;n.min=re;n.parsingFlags=gh;n.set=lu;n.startOf=ah;n.subtract=he;n.toArray=bh;n.toObject=kh;n.toDate=wh;n.toISOString=of;n.toJSON=of;n.toString=eh;n.unix=ph;n.valueOf=yh;n.year=dr;n.isLeapYear=lo;n.weekYear=tc;n.isoWeekYear=ic;n.quarter=n.quarters=fc;n.month=yu;n.daysInMonth=oo;n.week=n.weeks=po;n.isoWeek=n.isoWeeks=wo;n.weeksInYear=uc;n.isoWeeksInYear=rc;n.date=nu;n.day=n.days=lc;n.weekday=ac;n.isoWeekday=vc;n.dayOfYear=ko;n.hour=n.hours=le;n.minute=n.minutes=ae;n.second=n.seconds=ve;n.millisecond=n.milliseconds=ye;n.utcOffset=ss;n.utc=cs;n.local=ls;n.parseZone=as;n.hasAlignedHourOffset=vs;n.isDST=ys;n.isDSTShifted=ps;n.isLocal=ws;n.isUtcOffset=bs;n.isUtc=rf;n.isUTC=rf;n.zoneAbbr=bc;n.zoneName=kc;n.dates=w("dates accessor is deprecated. Use date instead.",nu);n.months=w("months accessor is deprecated. Use month instead",yu);n.years=w("years accessor is deprecated. Use year instead",dr);n.zone=w("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",hs);var ca=n,u=fu.prototype;u._calendar={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};u.calendar=nl;u._longDateFormat={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};u.longDateFormat=tl;u._invalidDate="Invalid date";u.invalidDate=il;u._ordinal="%d";u.ordinal=rl;u._ordinalParse=/\d{1,2}/;u.preparse=vf;u.postformat=vf;u._relativeTime={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};u.relativeTime=ul;u.pastFuture=fl;u.set=el;u.months=uo;u._months=ra;u.monthsShort=fo;u._monthsShort=ua;u.monthsParse=eo;u.week=ao;u._week=ie;u.firstDayOfYear=yo;u.firstDayOfWeek=vo;u.weekdays=oc;u._weekdays=oa;u.weekdaysMin=hc;u._weekdaysMin=ha;u.weekdaysShort=sc;u._weekdaysShort=sa;u.weekdaysParse=cc;u.isPM=yc;u._meridiemParse=ce;u.meridiem=pc;gt("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(n){var t=n%10,i=1===s(n%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return n+i}});i.lang=w("moment.lang is deprecated. Use moment.locale instead.",gt);i.langData=w("moment.langData is deprecated. Use moment.localeData instead.",et);var g=Math.abs,la=it("ms"),aa=it("s"),va=it("m"),ya=it("h"),pa=it("d"),wa=it("w"),ba=it("M"),ka=it("y"),da=ht("milliseconds"),ga=ht("seconds"),nv=ht("minutes"),tv=ht("hours"),iv=ht("days"),rv=ht("months"),uv=ht("years"),bt=Math.round,ut={s:45,m:45,h:22,d:26,M:11},tu=Math.abs,f=si.prototype;return f.abs=al,f.add=vl,f.subtract=yl,f.as=wl,f.asMilliseconds=la,f.asSeconds=aa,f.asMinutes=va,f.asHours=ya,f.asDays=pa,f.asWeeks=wa,f.asMonths=ba,f.asYears=ka,f.valueOf=bl,f._bubble=pl,f.get=kl,f.milliseconds=da,f.seconds=ga,f.minutes=nv,f.hours=tv,f.days=iv,f.weeks=dl,f.months=rv,f.years=uv,f.humanize=ia,f.toISOString=ci,f.toString=ci,f.toJSON=ci,f.locale=sf,f.localeData=hf,f.toIsoString=w("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",ci),f.lang=gr,r("X",0,0,"unix"),r("x",0,0,"valueOf"),t("x",wi),t("X",/[+-]?\d+(\.\d{1,3})?/),c("X",function(n,t,i){i._d=new Date(1e3*parseFloat(n,10))}),c("x",function(n,t,i){i._d=new Date(s(n))}),i.version="2.10.6",pe(o),i.fn=ca,i.min=es,i.max=os,i.utc=kt,i.unix=dc,i.months=ol,i.isDate=fi,i.locale=gt,i.invalid=ru,i.duration=tt,i.isMoment=nt,i.weekdays=hl,i.parseZone=gc,i.localeData=et,i.isDuration=fr,i.monthsShort=sl,i.weekdaysMin=ll,i.defineLocale=su,i.weekdaysShort=cl,i.normalizeUnits=p,i.relativeTimeThreshold=ta,i});$(function(){$(".dishes_menu p").click(function(){$(".dishes_menu ul").toggleClass("toggled");$(".dishes_menu").toggleClass("close-menu")});$(".tk-dishes-menu p").click(function(){$(".tk-dishes-menu ul").toggleClass("toggled");$(".tk-dishes-menu").toggleClass("close-menu")});var n=n||{};n.isXs=function(){return $(".device-xs").is(":visible")};n.isSm=function(){return $(".device-sm").is(":visible")};n.isMd=function(){return $(".device-md").is(":visible")};n.isLg=function(){return $(".device-lg").is(":visible")}});
//# sourceMappingURL=_menus.min.js.map
